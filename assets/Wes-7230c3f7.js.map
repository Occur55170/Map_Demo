{"version":3,"file":"Wes-7230c3f7.js","sources":["../../src/view/Wes.vue"],"sourcesContent":["<script>\r\nimport { useSlots, onBeforeMount, onMounted, onBeforeUnmount, ref, reactive, computed, watch, nextTick, defineAsyncComponent, useCssModule, inject } from 'vue'\r\nimport Map from 'ol/Map.js'\r\nimport OSM from 'ol/source/OSM.js'\r\nimport Static from 'ol/source/ImageStatic.js'\r\nimport View from 'ol/View.js'\r\nimport proj4 from 'proj4'\r\nimport { Image as ImageLayer, Tile as TileLayer } from 'ol/layer.js'\r\nimport { getCenter } from 'ol/extent.js'\r\nimport { register } from 'ol/proj/proj4.js'\r\nimport { transform } from 'ol/proj.js'\r\n\r\n// import { Tile, Tile as TileLayer, Image as ImageLayer, Vector, Vector as VectorLayer } from 'ol/layer.js'\r\nimport TileWMS from 'ol/source/TileWMS'\r\nproj4.defs(\r\n    'EPSG:27700',\r\n    '+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 ' +\r\n    '+x_0=400000 +y_0=-100000 +ellps=airy ' +\r\n    '+towgs84=446.448,-125.157,542.06,0.15,0.247,0.842,-20.489 ' +\r\n    '+units=m +no_defs'\r\n)\r\nproj4.defs(\"EPSG:3826\", \"+proj=tmerc +lat_0=0 +lon_0=121 +k=0.9999 +x_0=250000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\");\r\nregister(proj4);\r\n\r\nconst imageExtent = [200000, 200000, 3000000, 5000000];\r\nconst imageLayer = new ImageLayer();\r\n\r\n// var EPSG ='EPSG:3031'; // EPSG:3031 - WGS 84 / Antarctic Polar Stereographic\r\n// proj4.defs([['EPSG:3031','+proj=stere +lat_0=-90 +lat_ts=-71 +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs']]);\r\n// proj4.defs('urn:ogc:def:crs:EPSG::3031', proj4.defs(EPSG)); // add alias\r\n// var projection = ol.proj.get(EPSG);\r\n// var extent = ol.proj.transformExtent([-180, -45, 180, -90], 'EPSG:4326', projection);\r\n// var center = ol.proj.transform([180,-90], 'EPSG:4326', projection);\r\n// projection.setExtent(extent);\r\n\r\nconst area = reactive({\r\n    India: [68.17665, 7.96553, 97.40256, 35.49401],\r\n    Argentina: [-73.41544, -55.25, -53.62835, -21.83231],\r\n    Nigeria: [2.6917, 4.24059, 14.57718, 13.86592],\r\n    Sweden: [11.02737, 55.36174, 23.90338, 69.10625],\r\n    Taiwan: [119.5, 20.5, 124.5, 25.5], // 台湾的 Extent\r\n})\r\n\r\nconst map = new Map({\r\n    target: 'map',\r\n    layers: [\r\n        new TileLayer({\r\n            source: new TileWMS({\r\n                url: 'https://wms.geo.admin.ch/',\r\n                crossOrigin: 'anonymous',\r\n                params: {\r\n                    'LAYERS': 'ch.swisstopo.pixelkarte-farbe-pk1000.noscale',\r\n                    'FORMAT': 'image/jpeg',\r\n                },\r\n                serverType: 'mapserver',\r\n            }),\r\n        }),\r\n        // imageLayer,\r\n    ],\r\n    view: new View({\r\n        // center: transform(getCenter(imageExtent), 'EPSG:3826', 'EPSG:3857'),\r\n        // center: transform(getCenter(area.Taiwan), 'EPSG:3826'),\r\n        center: [-10997148, 4569099],\r\n        zoom: 4,\r\n    }),\r\n});\r\n\r\n// const interpolate = document.getElementById('interpolate');\r\n\r\nfunction setSource(e) {\r\n    // const source = new Static({\r\n    //     url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/' + 'British_National_Grid.svg/2000px-British_National_Grid.svg.png',\r\n    //     projection: 'EPSG:3826',\r\n    //     crossOrigin: '',\r\n    //     imageExtent: imageExtent,\r\n    //     // interpolate: interpolate.checked,\r\n    // });\r\n\r\n    const source = new TileWMS({\r\n        // projection: 'EPSG:3857', // here is the source projection\r\n        url: 'https://ahocevar.com/geoserver/wms',\r\n        params: {\r\n            'LAYERS': 'ne:NE1_HR_LC_SR_W_DR',\r\n        },\r\n    })\r\n    map.addLayer(source);\r\n}\r\n// setSource();\r\n\r\n// interpolate.addEventListener('change', setSource);\r\n</script>\r\n\r\n<template>\r\n    <div id=\"map\" class=\"map\"></div>\r\n    <div>\r\n        <button @click=\"setSource()\">999</button>\r\n        <input type=\"checkbox\" id=\"interpolate\" checked />\r\n        <label for=\"interpolate\">Interpolate</label>\r\n    </div>\r\n</template>\r\n<style>\r\n.map {\r\n    width: 100%;\r\n    height: 400px;\r\n}\r\n</style>\r\n"],"names":["proj4","register","ImageLayer","reactive","Map","TileWMS","_hoisted_3","_createElementVNode","_cache","$event","_ctx"],"mappings":"sMAcAA,EAAA,oLAMA,EACAA,EAAA,KAAA,YAAA,8HAAA,EACAC,EAAAD,CAAA,EAGA,IAAAE,EAUAC,EAAA,CACI,MAAA,CAAA,SAAA,QAAA,SAAA,QAAA,mDAEA,QAAA,CAAA,OAAA,QAAA,SAAA,QAAA,EACA,OAAA,CAAA,SAAA,SAAA,SAAA,QAAA,EACA,OAAA,CAAA,MAAA,KAAA,MAAA,IAAA,CACJ,CAAA,EAEA,IAAAC,EAAA,cAEI,OAAA,QAEQ,OAAA,IAAAC,EAAA,CACI,IAAA,oDAEA,OAAA,uDAEI,OAAA,oCAGR,CAAA,CACJ,CAAA,0CAOA,KAAA,CACJ,CAAA,CACJ,CAAA,wBA4BS,GAAA,MAAS,MAAA,6BAGH,KAAA,WAAgB,GAAA,cAAiB,QAAA,aACxCC,EAAAC,EAAA,QAAA,CAAA,IAAA,eAAA,cAAA,EAAA,2EAFS,QAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAC,EAAA,UAAA"}