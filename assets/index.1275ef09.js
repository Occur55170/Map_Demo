(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function gu(i,t){const e=Object.create(null),n=i.split(",");for(let s=0;s<n.length;s++)e[n[s]]=!0;return t?s=>!!e[s.toLowerCase()]:s=>!!e[s]}function pu(i){if(Pt(i)){const t={};for(let e=0;e<i.length;e++){const n=i[e],s=Le(n)?wy(n):pu(n);if(s)for(const r in s)t[r]=s[r]}return t}else{if(Le(i))return i;if(_e(i))return i}}const Cy=/;(?![^(]*\))/g,Ty=/:([^]+)/,by=/\/\*.*?\*\//gs;function wy(i){const t={};return i.replace(by,"").split(Cy).forEach(e=>{if(e){const n=e.split(Ty);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function _u(i){let t="";if(Le(i))t=i;else if(Pt(i))for(let e=0;e<i.length;e++){const n=_u(i[e]);n&&(t+=n+" ")}else if(_e(i))for(const e in i)i[e]&&(t+=e+" ");return t.trim()}const Sy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ay=gu(Sy);function yg(i){return!!i||i===""}function Iy(i,t){if(i.length!==t.length)return!1;let e=!0;for(let n=0;e&&n<i.length;n++)e=Qa(i[n],t[n]);return e}function Qa(i,t){if(i===t)return!0;let e=lf(i),n=lf(t);if(e||n)return e&&n?i.getTime()===t.getTime():!1;if(e=to(i),n=to(t),e||n)return i===t;if(e=Pt(i),n=Pt(t),e||n)return e&&n?Iy(i,t):!1;if(e=_e(i),n=_e(t),e||n){if(!e||!n)return!1;const s=Object.keys(i).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in i){const l=i.hasOwnProperty(o),c=t.hasOwnProperty(o);if(l&&!c||!l&&c||!Qa(i[o],t[o]))return!1}}return String(i)===String(t)}function Eg(i,t){return i.findIndex(e=>Qa(e,t))}const ce={},er=[],Li=()=>{},Ry=()=>!1,Ly=/^on[^a-z]/,tl=i=>Ly.test(i),mu=i=>i.startsWith("onUpdate:"),ke=Object.assign,yu=(i,t)=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)},Oy=Object.prototype.hasOwnProperty,Kt=(i,t)=>Oy.call(i,t),Pt=Array.isArray,Yr=i=>Co(i)==="[object Map]",Eu=i=>Co(i)==="[object Set]",lf=i=>Co(i)==="[object Date]",Ht=i=>typeof i=="function",Le=i=>typeof i=="string",to=i=>typeof i=="symbol",_e=i=>i!==null&&typeof i=="object",vg=i=>_e(i)&&Ht(i.then)&&Ht(i.catch),Dy=Object.prototype.toString,Co=i=>Dy.call(i),My=i=>Co(i).slice(8,-1),Py=i=>Co(i)==="[object Object]",vu=i=>Le(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,ya=gu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),el=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},Ny=/-(\w)/g,ar=el(i=>i.replace(Ny,(t,e)=>e?e.toUpperCase():"")),Fy=/\B([A-Z])/g,xr=el(i=>i.replace(Fy,"-$1").toLowerCase()),xg=el(i=>i.charAt(0).toUpperCase()+i.slice(1)),ec=el(i=>i?`on${xg(i)}`:""),eo=(i,t)=>!Object.is(i,t),Ea=(i,t)=>{for(let e=0;e<i.length;e++)i[e](t)},Ia=(i,t,e)=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value:e})},Cg=i=>{const t=parseFloat(i);return isNaN(t)?i:t};let cf;const ky=()=>cf||(cf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let $i;class $y{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=$i,!t&&$i&&(this.index=($i.scopes||($i.scopes=[])).push(this)-1)}run(t){if(this.active){const e=$i;try{return $i=this,t()}finally{$i=e}}}on(){$i=this}off(){$i=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function Wy(i,t=$i){t&&t.active&&t.effects.push(i)}const xu=i=>{const t=new Set(i);return t.w=0,t.n=0,t},Tg=i=>(i.w&Fn)>0,bg=i=>(i.n&Fn)>0,jy=({deps:i})=>{if(i.length)for(let t=0;t<i.length;t++)i[t].w|=Fn},By=i=>{const{deps:t}=i;if(t.length){let e=0;for(let n=0;n<t.length;n++){const s=t[n];Tg(s)&&!bg(s)?s.delete(i):t[e++]=s,s.w&=~Fn,s.n&=~Fn}t.length=e}},Nc=new WeakMap;let Vr=0,Fn=1;const Fc=30;let Ii;const xs=Symbol(""),kc=Symbol("");class Cu{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,Wy(this,n)}run(){if(!this.active)return this.fn();let t=Ii,e=Mn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ii,Ii=this,Mn=!0,Fn=1<<++Vr,Vr<=Fc?jy(this):uf(this),this.fn()}finally{Vr<=Fc&&By(this),Fn=1<<--Vr,Ii=this.parent,Mn=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ii===this?this.deferStop=!0:this.active&&(uf(this),this.onStop&&this.onStop(),this.active=!1)}}function uf(i){const{deps:t}=i;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(i);t.length=0}}let Mn=!0;const wg=[];function Cr(){wg.push(Mn),Mn=!1}function Tr(){const i=wg.pop();Mn=i===void 0?!0:i}function ai(i,t,e){if(Mn&&Ii){let n=Nc.get(i);n||Nc.set(i,n=new Map);let s=n.get(e);s||n.set(e,s=xu()),Sg(s)}}function Sg(i,t){let e=!1;Vr<=Fc?bg(i)||(i.n|=Fn,e=!Tg(i)):e=!i.has(Ii),e&&(i.add(Ii),Ii.deps.push(i))}function dn(i,t,e,n,s,r){const o=Nc.get(i);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(e==="length"&&Pt(i)){const c=Cg(n);o.forEach((h,d)=>{(d==="length"||d>=c)&&l.push(h)})}else switch(e!==void 0&&l.push(o.get(e)),t){case"add":Pt(i)?vu(e)&&l.push(o.get("length")):(l.push(o.get(xs)),Yr(i)&&l.push(o.get(kc)));break;case"delete":Pt(i)||(l.push(o.get(xs)),Yr(i)&&l.push(o.get(kc)));break;case"set":Yr(i)&&l.push(o.get(xs));break}if(l.length===1)l[0]&&$c(l[0]);else{const c=[];for(const h of l)h&&c.push(...h);$c(xu(c))}}function $c(i,t){const e=Pt(i)?i:[...i];for(const n of e)n.computed&&hf(n);for(const n of e)n.computed||hf(n)}function hf(i,t){(i!==Ii||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const Hy=gu("__proto__,__v_isRef,__isVue"),Ag=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(to)),Vy=Tu(),zy=Tu(!1,!0),Gy=Tu(!0),ff=Yy();function Yy(){const i={};return["includes","indexOf","lastIndexOf"].forEach(t=>{i[t]=function(...e){const n=Zt(this);for(let r=0,o=this.length;r<o;r++)ai(n,"get",r+"");const s=n[t](...e);return s===-1||s===!1?n[t](...e.map(Zt)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{i[t]=function(...e){Cr();const n=Zt(this)[t].apply(this,e);return Tr(),n}}),i}function Tu(i=!1,t=!1){return function(n,s,r){if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(i?t?lE:Dg:t?Og:Lg).get(n))return n;const o=Pt(n);if(!i&&o&&Kt(ff,s))return Reflect.get(ff,s,r);const l=Reflect.get(n,s,r);return(to(s)?Ag.has(s):Hy(s))||(i||ai(n,"get",s),t)?l:Fe(l)?o&&vu(s)?l:l.value:_e(l)?i?Mg(l):Vn(l):l}}const Xy=Ig(),Ky=Ig(!0);function Ig(i=!1){return function(e,n,s,r){let o=e[n];if(lr(o)&&Fe(o)&&!Fe(s))return!1;if(!i&&(!Ra(s)&&!lr(s)&&(o=Zt(o),s=Zt(s)),!Pt(e)&&Fe(o)&&!Fe(s)))return o.value=s,!0;const l=Pt(e)&&vu(n)?Number(n)<e.length:Kt(e,n),c=Reflect.set(e,n,s,r);return e===Zt(r)&&(l?eo(s,o)&&dn(e,"set",n,s):dn(e,"add",n,s)),c}}function Uy(i,t){const e=Kt(i,t);i[t];const n=Reflect.deleteProperty(i,t);return n&&e&&dn(i,"delete",t,void 0),n}function qy(i,t){const e=Reflect.has(i,t);return(!to(t)||!Ag.has(t))&&ai(i,"has",t),e}function Zy(i){return ai(i,"iterate",Pt(i)?"length":xs),Reflect.ownKeys(i)}const Rg={get:Vy,set:Xy,deleteProperty:Uy,has:qy,ownKeys:Zy},Jy={get:Gy,set(i,t){return!0},deleteProperty(i,t){return!0}},Qy=ke({},Rg,{get:zy,set:Ky}),bu=i=>i,il=i=>Reflect.getPrototypeOf(i);function Ko(i,t,e=!1,n=!1){i=i.__v_raw;const s=Zt(i),r=Zt(t);e||(t!==r&&ai(s,"get",t),ai(s,"get",r));const{has:o}=il(s),l=n?bu:e?Au:io;if(o.call(s,t))return l(i.get(t));if(o.call(s,r))return l(i.get(r));i!==s&&i.get(t)}function Uo(i,t=!1){const e=this.__v_raw,n=Zt(e),s=Zt(i);return t||(i!==s&&ai(n,"has",i),ai(n,"has",s)),i===s?e.has(i):e.has(i)||e.has(s)}function qo(i,t=!1){return i=i.__v_raw,!t&&ai(Zt(i),"iterate",xs),Reflect.get(i,"size",i)}function df(i){i=Zt(i);const t=Zt(this);return il(t).has.call(t,i)||(t.add(i),dn(t,"add",i,i)),this}function gf(i,t){t=Zt(t);const e=Zt(this),{has:n,get:s}=il(e);let r=n.call(e,i);r||(i=Zt(i),r=n.call(e,i));const o=s.call(e,i);return e.set(i,t),r?eo(t,o)&&dn(e,"set",i,t):dn(e,"add",i,t),this}function pf(i){const t=Zt(this),{has:e,get:n}=il(t);let s=e.call(t,i);s||(i=Zt(i),s=e.call(t,i)),n&&n.call(t,i);const r=t.delete(i);return s&&dn(t,"delete",i,void 0),r}function _f(){const i=Zt(this),t=i.size!==0,e=i.clear();return t&&dn(i,"clear",void 0,void 0),e}function Zo(i,t){return function(n,s){const r=this,o=r.__v_raw,l=Zt(o),c=t?bu:i?Au:io;return!i&&ai(l,"iterate",xs),o.forEach((h,d)=>n.call(s,c(h),c(d),r))}}function Jo(i,t,e){return function(...n){const s=this.__v_raw,r=Zt(s),o=Yr(r),l=i==="entries"||i===Symbol.iterator&&o,c=i==="keys"&&o,h=s[i](...n),d=e?bu:t?Au:io;return!t&&ai(r,"iterate",c?kc:xs),{next(){const{value:_,done:m}=h.next();return m?{value:_,done:m}:{value:l?[d(_[0]),d(_[1])]:d(_),done:m}},[Symbol.iterator](){return this}}}}function Tn(i){return function(...t){return i==="delete"?!1:this}}function tE(){const i={get(r){return Ko(this,r)},get size(){return qo(this)},has:Uo,add:df,set:gf,delete:pf,clear:_f,forEach:Zo(!1,!1)},t={get(r){return Ko(this,r,!1,!0)},get size(){return qo(this)},has:Uo,add:df,set:gf,delete:pf,clear:_f,forEach:Zo(!1,!0)},e={get(r){return Ko(this,r,!0)},get size(){return qo(this,!0)},has(r){return Uo.call(this,r,!0)},add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear"),forEach:Zo(!0,!1)},n={get(r){return Ko(this,r,!0,!0)},get size(){return qo(this,!0)},has(r){return Uo.call(this,r,!0)},add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear"),forEach:Zo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=Jo(r,!1,!1),e[r]=Jo(r,!0,!1),t[r]=Jo(r,!1,!0),n[r]=Jo(r,!0,!0)}),[i,e,t,n]}const[eE,iE,nE,sE]=tE();function wu(i,t){const e=t?i?sE:nE:i?iE:eE;return(n,s,r)=>s==="__v_isReactive"?!i:s==="__v_isReadonly"?i:s==="__v_raw"?n:Reflect.get(Kt(e,s)&&s in n?e:n,s,r)}const rE={get:wu(!1,!1)},oE={get:wu(!1,!0)},aE={get:wu(!0,!1)},Lg=new WeakMap,Og=new WeakMap,Dg=new WeakMap,lE=new WeakMap;function cE(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uE(i){return i.__v_skip||!Object.isExtensible(i)?0:cE(My(i))}function Vn(i){return lr(i)?i:Su(i,!1,Rg,rE,Lg)}function hE(i){return Su(i,!1,Qy,oE,Og)}function Mg(i){return Su(i,!0,Jy,aE,Dg)}function Su(i,t,e,n,s){if(!_e(i)||i.__v_raw&&!(t&&i.__v_isReactive))return i;const r=s.get(i);if(r)return r;const o=uE(i);if(o===0)return i;const l=new Proxy(i,o===2?n:e);return s.set(i,l),l}function ir(i){return lr(i)?ir(i.__v_raw):!!(i&&i.__v_isReactive)}function lr(i){return!!(i&&i.__v_isReadonly)}function Ra(i){return!!(i&&i.__v_isShallow)}function Pg(i){return ir(i)||lr(i)}function Zt(i){const t=i&&i.__v_raw;return t?Zt(t):i}function Ng(i){return Ia(i,"__v_skip",!0),i}const io=i=>_e(i)?Vn(i):i,Au=i=>_e(i)?Mg(i):i;function Fg(i){Mn&&Ii&&(i=Zt(i),Sg(i.dep||(i.dep=xu())))}function kg(i,t){i=Zt(i),i.dep&&$c(i.dep)}function Fe(i){return!!(i&&i.__v_isRef===!0)}function La(i){return fE(i,!1)}function fE(i,t){return Fe(i)?i:new dE(i,t)}class dE{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Zt(t),this._value=e?t:io(t)}get value(){return Fg(this),this._value}set value(t){const e=this.__v_isShallow||Ra(t)||lr(t);t=e?t:Zt(t),eo(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:io(t),kg(this))}}function gE(i){return Fe(i)?i.value:i}const pE={get:(i,t,e)=>gE(Reflect.get(i,t,e)),set:(i,t,e,n)=>{const s=i[t];return Fe(s)&&!Fe(e)?(s.value=e,!0):Reflect.set(i,t,e,n)}};function $g(i){return ir(i)?i:new Proxy(i,pE)}var Wg;class _E{constructor(t,e,n,s){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[Wg]=!1,this._dirty=!0,this.effect=new Cu(t,()=>{this._dirty||(this._dirty=!0,kg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=Zt(this);return Fg(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Wg="__v_isReadonly";function mE(i,t,e=!1){let n,s;const r=Ht(i);return r?(n=i,s=Li):(n=i.get,s=i.set),new _E(n,s,r||!s,e)}function Pn(i,t,e,n){let s;try{s=n?i(...n):i()}catch(r){nl(r,t,e)}return s}function _i(i,t,e,n){if(Ht(i)){const r=Pn(i,t,e,n);return r&&vg(r)&&r.catch(o=>{nl(o,t,e)}),r}const s=[];for(let r=0;r<i.length;r++)s.push(_i(i[r],t,e,n));return s}function nl(i,t,e,n=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,l=e;for(;r;){const h=r.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](i,o,l)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){Pn(c,null,10,[i,o,l]);return}}yE(i,e,s,n)}function yE(i,t,e,n=!0){console.error(i)}let no=!1,Wc=!1;const Ne=[];let ji=0;const nr=[];let rn=null,us=0;const jg=Promise.resolve();let Iu=null;function Bg(i){const t=Iu||jg;return i?t.then(this?i.bind(this):i):t}function EE(i){let t=ji+1,e=Ne.length;for(;t<e;){const n=t+e>>>1;so(Ne[n])<i?t=n+1:e=n}return t}function Ru(i){(!Ne.length||!Ne.includes(i,no&&i.allowRecurse?ji+1:ji))&&(i.id==null?Ne.push(i):Ne.splice(EE(i.id),0,i),Hg())}function Hg(){!no&&!Wc&&(Wc=!0,Iu=jg.then(zg))}function vE(i){const t=Ne.indexOf(i);t>ji&&Ne.splice(t,1)}function xE(i){Pt(i)?nr.push(...i):(!rn||!rn.includes(i,i.allowRecurse?us+1:us))&&nr.push(i),Hg()}function mf(i,t=no?ji+1:0){for(;t<Ne.length;t++){const e=Ne[t];e&&e.pre&&(Ne.splice(t,1),t--,e())}}function Vg(i){if(nr.length){const t=[...new Set(nr)];if(nr.length=0,rn){rn.push(...t);return}for(rn=t,rn.sort((e,n)=>so(e)-so(n)),us=0;us<rn.length;us++)rn[us]();rn=null,us=0}}const so=i=>i.id==null?1/0:i.id,CE=(i,t)=>{const e=so(i)-so(t);if(e===0){if(i.pre&&!t.pre)return-1;if(t.pre&&!i.pre)return 1}return e};function zg(i){Wc=!1,no=!0,Ne.sort(CE);const t=Li;try{for(ji=0;ji<Ne.length;ji++){const e=Ne[ji];e&&e.active!==!1&&Pn(e,null,14)}}finally{ji=0,Ne.length=0,Vg(),no=!1,Iu=null,(Ne.length||nr.length)&&zg()}}function TE(i,t,...e){if(i.isUnmounted)return;const n=i.vnode.props||ce;let s=e;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in n){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:_,trim:m}=n[d]||ce;m&&(s=e.map(x=>Le(x)?x.trim():x)),_&&(s=e.map(Cg))}let l,c=n[l=ec(t)]||n[l=ec(ar(t))];!c&&r&&(c=n[l=ec(xr(t))]),c&&_i(c,i,6,s);const h=n[l+"Once"];if(h){if(!i.emitted)i.emitted={};else if(i.emitted[l])return;i.emitted[l]=!0,_i(h,i,6,s)}}function Gg(i,t,e=!1){const n=t.emitsCache,s=n.get(i);if(s!==void 0)return s;const r=i.emits;let o={},l=!1;if(!Ht(i)){const c=h=>{const d=Gg(h,t,!0);d&&(l=!0,ke(o,d))};!e&&t.mixins.length&&t.mixins.forEach(c),i.extends&&c(i.extends),i.mixins&&i.mixins.forEach(c)}return!r&&!l?(_e(i)&&n.set(i,null),null):(Pt(r)?r.forEach(c=>o[c]=null):ke(o,r),_e(i)&&n.set(i,o),o)}function sl(i,t){return!i||!tl(t)?!1:(t=t.slice(2).replace(/Once$/,""),Kt(i,t[0].toLowerCase()+t.slice(1))||Kt(i,xr(t))||Kt(i,t))}let pi=null,rl=null;function Oa(i){const t=pi;return pi=i,rl=i&&i.type.__scopeId||null,t}function Yg(i){rl=i}function Xg(){rl=null}function bE(i,t=pi,e){if(!t||i._n)return i;const n=(...s)=>{n._d&&Sf(-1);const r=Oa(t);let o;try{o=i(...s)}finally{Oa(r),n._d&&Sf(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function ic(i){const{type:t,vnode:e,proxy:n,withProxy:s,props:r,propsOptions:[o],slots:l,attrs:c,emit:h,render:d,renderCache:_,data:m,setupState:x,ctx:b,inheritAttrs:C}=i;let S,w;const M=Oa(i);try{if(e.shapeFlag&4){const N=s||n;S=Wi(d.call(N,N,_,r,x,m,b)),w=c}else{const N=t;S=Wi(N.length>1?N(r,{attrs:c,slots:l,emit:h}):N(r,null)),w=t.props?c:wE(c)}}catch(N){Kr.length=0,nl(N,i,1),S=oi(Oi)}let P=S;if(w&&C!==!1){const N=Object.keys(w),{shapeFlag:j}=P;N.length&&j&7&&(o&&N.some(mu)&&(w=SE(w,o)),P=kn(P,w))}return e.dirs&&(P=kn(P),P.dirs=P.dirs?P.dirs.concat(e.dirs):e.dirs),e.transition&&(P.transition=e.transition),S=P,Oa(M),S}const wE=i=>{let t;for(const e in i)(e==="class"||e==="style"||tl(e))&&((t||(t={}))[e]=i[e]);return t},SE=(i,t)=>{const e={};for(const n in i)(!mu(n)||!(n.slice(9)in t))&&(e[n]=i[n]);return e};function AE(i,t,e){const{props:n,children:s,component:r}=i,{props:o,children:l,patchFlag:c}=t,h=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&c>=0){if(c&1024)return!0;if(c&16)return n?yf(n,o,h):!!o;if(c&8){const d=t.dynamicProps;for(let _=0;_<d.length;_++){const m=d[_];if(o[m]!==n[m]&&!sl(h,m))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:n===o?!1:n?o?yf(n,o,h):!0:!!o;return!1}function yf(i,t,e){const n=Object.keys(t);if(n.length!==Object.keys(i).length)return!0;for(let s=0;s<n.length;s++){const r=n[s];if(t[r]!==i[r]&&!sl(e,r))return!0}return!1}function IE({vnode:i,parent:t},e){for(;t&&t.subTree===i;)(i=t.vnode).el=e,t=t.parent}const RE=i=>i.__isSuspense;function LE(i,t){t&&t.pendingBranch?Pt(i)?t.effects.push(...i):t.effects.push(i):xE(i)}function OE(i,t){if(Re){let e=Re.provides;const n=Re.parent&&Re.parent.provides;n===e&&(e=Re.provides=Object.create(n)),e[i]=t}}function va(i,t,e=!1){const n=Re||pi;if(n){const s=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&i in s)return s[i];if(arguments.length>1)return e&&Ht(t)?t.call(n.proxy):t}}const Qo={};function nc(i,t,e){return Kg(i,t,e)}function Kg(i,t,{immediate:e,deep:n,flush:s,onTrack:r,onTrigger:o}=ce){const l=Re;let c,h=!1,d=!1;if(Fe(i)?(c=()=>i.value,h=Ra(i)):ir(i)?(c=()=>i,n=!0):Pt(i)?(d=!0,h=i.some(P=>ir(P)||Ra(P)),c=()=>i.map(P=>{if(Fe(P))return P.value;if(ir(P))return ds(P);if(Ht(P))return Pn(P,l,2)})):Ht(i)?t?c=()=>Pn(i,l,2):c=()=>{if(!(l&&l.isUnmounted))return _&&_(),_i(i,l,3,[m])}:c=Li,t&&n){const P=c;c=()=>ds(P())}let _,m=P=>{_=w.onStop=()=>{Pn(P,l,4)}},x;if(oo)if(m=Li,t?e&&_i(t,l,3,[c(),d?[]:void 0,m]):c(),s==="sync"){const P=Iv();x=P.__watcherHandles||(P.__watcherHandles=[])}else return Li;let b=d?new Array(i.length).fill(Qo):Qo;const C=()=>{if(!!w.active)if(t){const P=w.run();(n||h||(d?P.some((N,j)=>eo(N,b[j])):eo(P,b)))&&(_&&_(),_i(t,l,3,[P,b===Qo?void 0:d&&b[0]===Qo?[]:b,m]),b=P)}else w.run()};C.allowRecurse=!!t;let S;s==="sync"?S=C:s==="post"?S=()=>qe(C,l&&l.suspense):(C.pre=!0,l&&(C.id=l.uid),S=()=>Ru(C));const w=new Cu(c,S);t?e?C():b=w.run():s==="post"?qe(w.run.bind(w),l&&l.suspense):w.run();const M=()=>{w.stop(),l&&l.scope&&yu(l.scope.effects,w)};return x&&x.push(M),M}function DE(i,t,e){const n=this.proxy,s=Le(i)?i.includes(".")?Ug(n,i):()=>n[i]:i.bind(n,n);let r;Ht(t)?r=t:(r=t.handler,e=t);const o=Re;cr(this);const l=Kg(s,r.bind(n),e);return o?cr(o):Cs(),l}function Ug(i,t){const e=t.split(".");return()=>{let n=i;for(let s=0;s<e.length&&n;s++)n=n[e[s]];return n}}function ds(i,t){if(!_e(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),Fe(i))ds(i.value,t);else if(Pt(i))for(let e=0;e<i.length;e++)ds(i[e],t);else if(Eu(i)||Yr(i))i.forEach(e=>{ds(e,t)});else if(Py(i))for(const e in i)ds(i[e],t);return i}function ME(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return To(()=>{i.isMounted=!0}),Qg(()=>{i.isUnmounting=!0}),i}const gi=[Function,Array],PE={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gi,onEnter:gi,onAfterEnter:gi,onEnterCancelled:gi,onBeforeLeave:gi,onLeave:gi,onAfterLeave:gi,onLeaveCancelled:gi,onBeforeAppear:gi,onAppear:gi,onAfterAppear:gi,onAppearCancelled:gi},setup(i,{slots:t}){const e=vv(),n=ME();let s;return()=>{const r=t.default&&Zg(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const C of r)if(C.type!==Oi){o=C;break}}const l=Zt(i),{mode:c}=l;if(n.isLeaving)return sc(o);const h=Ef(o);if(!h)return sc(o);const d=jc(h,l,n,e);Bc(h,d);const _=e.subTree,m=_&&Ef(_);let x=!1;const{getTransitionKey:b}=h.type;if(b){const C=b();s===void 0?s=C:C!==s&&(s=C,x=!0)}if(m&&m.type!==Oi&&(!hs(h,m)||x)){const C=jc(m,l,n,e);if(Bc(m,C),c==="out-in")return n.isLeaving=!0,C.afterLeave=()=>{n.isLeaving=!1,e.update.active!==!1&&e.update()},sc(o);c==="in-out"&&h.type!==Oi&&(C.delayLeave=(S,w,M)=>{const P=qg(n,m);P[String(m.key)]=m,S._leaveCb=()=>{w(),S._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=M})}return o}}},NE=PE;function qg(i,t){const{leavingVNodes:e}=i;let n=e.get(t.type);return n||(n=Object.create(null),e.set(t.type,n)),n}function jc(i,t,e,n){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:_,onLeave:m,onAfterLeave:x,onLeaveCancelled:b,onBeforeAppear:C,onAppear:S,onAfterAppear:w,onAppearCancelled:M}=t,P=String(i.key),N=qg(e,i),j=(G,et)=>{G&&_i(G,n,9,et)},g=(G,et)=>{const rt=et[1];j(G,et),Pt(G)?G.every(mt=>mt.length<=1)&&rt():G.length<=1&&rt()},it={mode:r,persisted:o,beforeEnter(G){let et=l;if(!e.isMounted)if(s)et=C||l;else return;G._leaveCb&&G._leaveCb(!0);const rt=N[P];rt&&hs(i,rt)&&rt.el._leaveCb&&rt.el._leaveCb(),j(et,[G])},enter(G){let et=c,rt=h,mt=d;if(!e.isMounted)if(s)et=S||c,rt=w||h,mt=M||d;else return;let gt=!1;const _t=G._enterCb=Vt=>{gt||(gt=!0,Vt?j(mt,[G]):j(rt,[G]),it.delayedLeave&&it.delayedLeave(),G._enterCb=void 0)};et?g(et,[G,_t]):_t()},leave(G,et){const rt=String(i.key);if(G._enterCb&&G._enterCb(!0),e.isUnmounting)return et();j(_,[G]);let mt=!1;const gt=G._leaveCb=_t=>{mt||(mt=!0,et(),_t?j(b,[G]):j(x,[G]),G._leaveCb=void 0,N[rt]===i&&delete N[rt])};N[rt]=i,m?g(m,[G,gt]):gt()},clone(G){return jc(G,t,e,n)}};return it}function sc(i){if(ol(i))return i=kn(i),i.children=null,i}function Ef(i){return ol(i)?i.children?i.children[0]:void 0:i}function Bc(i,t){i.shapeFlag&6&&i.component?Bc(i.component.subTree,t):i.shapeFlag&128?(i.ssContent.transition=t.clone(i.ssContent),i.ssFallback.transition=t.clone(i.ssFallback)):i.transition=t}function Zg(i,t=!1,e){let n=[],s=0;for(let r=0;r<i.length;r++){let o=i[r];const l=e==null?o.key:String(e)+String(o.key!=null?o.key:r);o.type===Ai?(o.patchFlag&128&&s++,n=n.concat(Zg(o.children,t,l))):(t||o.type!==Oi)&&n.push(l!=null?kn(o,{key:l}):o)}if(s>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}const xa=i=>!!i.type.__asyncLoader,ol=i=>i.type.__isKeepAlive;function FE(i,t){Jg(i,"a",t)}function kE(i,t){Jg(i,"da",t)}function Jg(i,t,e=Re){const n=i.__wdc||(i.__wdc=()=>{let s=e;for(;s;){if(s.isDeactivated)return;s=s.parent}return i()});if(al(t,n,e),e){let s=e.parent;for(;s&&s.parent;)ol(s.parent.vnode)&&$E(n,t,e,s),s=s.parent}}function $E(i,t,e,n){const s=al(t,i,n,!0);tp(()=>{yu(n[t],s)},e)}function al(i,t,e=Re,n=!1){if(e){const s=e[i]||(e[i]=[]),r=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;Cr(),cr(e);const l=_i(t,e,i,o);return Cs(),Tr(),l});return n?s.unshift(r):s.push(r),r}}const _n=i=>(t,e=Re)=>(!oo||i==="sp")&&al(i,(...n)=>t(...n),e),WE=_n("bm"),To=_n("m"),jE=_n("bu"),BE=_n("u"),Qg=_n("bum"),tp=_n("um"),HE=_n("sp"),VE=_n("rtg"),zE=_n("rtc");function GE(i,t=Re){al("ec",i,t)}function YE(i,t){const e=pi;if(e===null)return i;const n=ul(e)||e.proxy,s=i.dirs||(i.dirs=[]);for(let r=0;r<t.length;r++){let[o,l,c,h=ce]=t[r];o&&(Ht(o)&&(o={mounted:o,updated:o}),o.deep&&ds(l),s.push({dir:o,instance:n,value:l,oldValue:void 0,arg:c,modifiers:h}))}return i}function ns(i,t,e,n){const s=i.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const l=s[o];r&&(l.oldValue=r[o].value);let c=l.dir[n];c&&(Cr(),_i(c,e,8,[i.el,l,i,t]),Tr())}}const XE=Symbol(),Hc=i=>i?fp(i)?ul(i)||i.proxy:Hc(i.parent):null,Xr=ke(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Hc(i.parent),$root:i=>Hc(i.root),$emit:i=>i.emit,$options:i=>Lu(i),$forceUpdate:i=>i.f||(i.f=()=>Ru(i.update)),$nextTick:i=>i.n||(i.n=Bg.bind(i.proxy)),$watch:i=>DE.bind(i)}),rc=(i,t)=>i!==ce&&!i.__isScriptSetup&&Kt(i,t),KE={get({_:i},t){const{ctx:e,setupState:n,data:s,props:r,accessCache:o,type:l,appContext:c}=i;let h;if(t[0]!=="$"){const x=o[t];if(x!==void 0)switch(x){case 1:return n[t];case 2:return s[t];case 4:return e[t];case 3:return r[t]}else{if(rc(n,t))return o[t]=1,n[t];if(s!==ce&&Kt(s,t))return o[t]=2,s[t];if((h=i.propsOptions[0])&&Kt(h,t))return o[t]=3,r[t];if(e!==ce&&Kt(e,t))return o[t]=4,e[t];Vc&&(o[t]=0)}}const d=Xr[t];let _,m;if(d)return t==="$attrs"&&ai(i,"get",t),d(i);if((_=l.__cssModules)&&(_=_[t]))return _;if(e!==ce&&Kt(e,t))return o[t]=4,e[t];if(m=c.config.globalProperties,Kt(m,t))return m[t]},set({_:i},t,e){const{data:n,setupState:s,ctx:r}=i;return rc(s,t)?(s[t]=e,!0):n!==ce&&Kt(n,t)?(n[t]=e,!0):Kt(i.props,t)||t[0]==="$"&&t.slice(1)in i?!1:(r[t]=e,!0)},has({_:{data:i,setupState:t,accessCache:e,ctx:n,appContext:s,propsOptions:r}},o){let l;return!!e[o]||i!==ce&&Kt(i,o)||rc(t,o)||(l=r[0])&&Kt(l,o)||Kt(n,o)||Kt(Xr,o)||Kt(s.config.globalProperties,o)},defineProperty(i,t,e){return e.get!=null?i._.accessCache[t]=0:Kt(e,"value")&&this.set(i,t,e.value,null),Reflect.defineProperty(i,t,e)}};let Vc=!0;function UE(i){const t=Lu(i),e=i.proxy,n=i.ctx;Vc=!1,t.beforeCreate&&vf(t.beforeCreate,i,"bc");const{data:s,computed:r,methods:o,watch:l,provide:c,inject:h,created:d,beforeMount:_,mounted:m,beforeUpdate:x,updated:b,activated:C,deactivated:S,beforeDestroy:w,beforeUnmount:M,destroyed:P,unmounted:N,render:j,renderTracked:g,renderTriggered:it,errorCaptured:G,serverPrefetch:et,expose:rt,inheritAttrs:mt,components:gt,directives:_t,filters:Vt}=t;if(h&&qE(h,n,null,i.appContext.config.unwrapInjectedRef),o)for(const q in o){const ht=o[q];Ht(ht)&&(n[q]=ht.bind(e))}if(s){const q=s.call(e,e);_e(q)&&(i.data=Vn(q))}if(Vc=!0,r)for(const q in r){const ht=r[q],It=Ht(ht)?ht.bind(e,e):Ht(ht.get)?ht.get.bind(e,e):Li,Nt=!Ht(ht)&&Ht(ht.set)?ht.set.bind(e):Li,Ft=Sv({get:It,set:Nt});Object.defineProperty(n,q,{enumerable:!0,configurable:!0,get:()=>Ft.value,set:K=>Ft.value=K})}if(l)for(const q in l)ep(l[q],n,e,q);if(c){const q=Ht(c)?c.call(e):c;Reflect.ownKeys(q).forEach(ht=>{OE(ht,q[ht])})}d&&vf(d,i,"c");function lt(q,ht){Pt(ht)?ht.forEach(It=>q(It.bind(e))):ht&&q(ht.bind(e))}if(lt(WE,_),lt(To,m),lt(jE,x),lt(BE,b),lt(FE,C),lt(kE,S),lt(GE,G),lt(zE,g),lt(VE,it),lt(Qg,M),lt(tp,N),lt(HE,et),Pt(rt))if(rt.length){const q=i.exposed||(i.exposed={});rt.forEach(ht=>{Object.defineProperty(q,ht,{get:()=>e[ht],set:It=>e[ht]=It})})}else i.exposed||(i.exposed={});j&&i.render===Li&&(i.render=j),mt!=null&&(i.inheritAttrs=mt),gt&&(i.components=gt),_t&&(i.directives=_t)}function qE(i,t,e=Li,n=!1){Pt(i)&&(i=zc(i));for(const s in i){const r=i[s];let o;_e(r)?"default"in r?o=va(r.from||s,r.default,!0):o=va(r.from||s):o=va(r),Fe(o)&&n?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[s]=o}}function vf(i,t,e){_i(Pt(i)?i.map(n=>n.bind(t.proxy)):i.bind(t.proxy),t,e)}function ep(i,t,e,n){const s=n.includes(".")?Ug(e,n):()=>e[n];if(Le(i)){const r=t[i];Ht(r)&&nc(s,r)}else if(Ht(i))nc(s,i.bind(e));else if(_e(i))if(Pt(i))i.forEach(r=>ep(r,t,e,n));else{const r=Ht(i.handler)?i.handler.bind(e):t[i.handler];Ht(r)&&nc(s,r,i)}}function Lu(i){const t=i.type,{mixins:e,extends:n}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=i.appContext,l=r.get(t);let c;return l?c=l:!s.length&&!e&&!n?c=t:(c={},s.length&&s.forEach(h=>Da(c,h,o,!0)),Da(c,t,o)),_e(t)&&r.set(t,c),c}function Da(i,t,e,n=!1){const{mixins:s,extends:r}=t;r&&Da(i,r,e,!0),s&&s.forEach(o=>Da(i,o,e,!0));for(const o in t)if(!(n&&o==="expose")){const l=ZE[o]||e&&e[o];i[o]=l?l(i[o],t[o]):t[o]}return i}const ZE={data:xf,props:as,emits:as,methods:as,computed:as,beforeCreate:je,created:je,beforeMount:je,mounted:je,beforeUpdate:je,updated:je,beforeDestroy:je,beforeUnmount:je,destroyed:je,unmounted:je,activated:je,deactivated:je,errorCaptured:je,serverPrefetch:je,components:as,directives:as,watch:QE,provide:xf,inject:JE};function xf(i,t){return t?i?function(){return ke(Ht(i)?i.call(this,this):i,Ht(t)?t.call(this,this):t)}:t:i}function JE(i,t){return as(zc(i),zc(t))}function zc(i){if(Pt(i)){const t={};for(let e=0;e<i.length;e++)t[i[e]]=i[e];return t}return i}function je(i,t){return i?[...new Set([].concat(i,t))]:t}function as(i,t){return i?ke(ke(Object.create(null),i),t):t}function QE(i,t){if(!i)return t;if(!t)return i;const e=ke(Object.create(null),i);for(const n in t)e[n]=je(i[n],t[n]);return e}function tv(i,t,e,n=!1){const s={},r={};Ia(r,cl,1),i.propsDefaults=Object.create(null),ip(i,t,s,r);for(const o in i.propsOptions[0])o in s||(s[o]=void 0);e?i.props=n?s:hE(s):i.type.props?i.props=s:i.props=r,i.attrs=r}function ev(i,t,e,n){const{props:s,attrs:r,vnode:{patchFlag:o}}=i,l=Zt(s),[c]=i.propsOptions;let h=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=i.vnode.dynamicProps;for(let _=0;_<d.length;_++){let m=d[_];if(sl(i.emitsOptions,m))continue;const x=t[m];if(c)if(Kt(r,m))x!==r[m]&&(r[m]=x,h=!0);else{const b=ar(m);s[b]=Gc(c,l,b,x,i,!1)}else x!==r[m]&&(r[m]=x,h=!0)}}}else{ip(i,t,s,r)&&(h=!0);let d;for(const _ in l)(!t||!Kt(t,_)&&((d=xr(_))===_||!Kt(t,d)))&&(c?e&&(e[_]!==void 0||e[d]!==void 0)&&(s[_]=Gc(c,l,_,void 0,i,!0)):delete s[_]);if(r!==l)for(const _ in r)(!t||!Kt(t,_)&&!0)&&(delete r[_],h=!0)}h&&dn(i,"set","$attrs")}function ip(i,t,e,n){const[s,r]=i.propsOptions;let o=!1,l;if(t)for(let c in t){if(ya(c))continue;const h=t[c];let d;s&&Kt(s,d=ar(c))?!r||!r.includes(d)?e[d]=h:(l||(l={}))[d]=h:sl(i.emitsOptions,c)||(!(c in n)||h!==n[c])&&(n[c]=h,o=!0)}if(r){const c=Zt(e),h=l||ce;for(let d=0;d<r.length;d++){const _=r[d];e[_]=Gc(s,c,_,h[_],i,!Kt(h,_))}}return o}function Gc(i,t,e,n,s,r){const o=i[e];if(o!=null){const l=Kt(o,"default");if(l&&n===void 0){const c=o.default;if(o.type!==Function&&Ht(c)){const{propsDefaults:h}=s;e in h?n=h[e]:(cr(s),n=h[e]=c.call(null,t),Cs())}else n=c}o[0]&&(r&&!l?n=!1:o[1]&&(n===""||n===xr(e))&&(n=!0))}return n}function np(i,t,e=!1){const n=t.propsCache,s=n.get(i);if(s)return s;const r=i.props,o={},l=[];let c=!1;if(!Ht(i)){const d=_=>{c=!0;const[m,x]=np(_,t,!0);ke(o,m),x&&l.push(...x)};!e&&t.mixins.length&&t.mixins.forEach(d),i.extends&&d(i.extends),i.mixins&&i.mixins.forEach(d)}if(!r&&!c)return _e(i)&&n.set(i,er),er;if(Pt(r))for(let d=0;d<r.length;d++){const _=ar(r[d]);Cf(_)&&(o[_]=ce)}else if(r)for(const d in r){const _=ar(d);if(Cf(_)){const m=r[d],x=o[_]=Pt(m)||Ht(m)?{type:m}:Object.assign({},m);if(x){const b=wf(Boolean,x.type),C=wf(String,x.type);x[0]=b>-1,x[1]=C<0||b<C,(b>-1||Kt(x,"default"))&&l.push(_)}}}const h=[o,l];return _e(i)&&n.set(i,h),h}function Cf(i){return i[0]!=="$"}function Tf(i){const t=i&&i.toString().match(/^\s*function (\w+)/);return t?t[1]:i===null?"null":""}function bf(i,t){return Tf(i)===Tf(t)}function wf(i,t){return Pt(t)?t.findIndex(e=>bf(e,i)):Ht(t)&&bf(t,i)?0:-1}const sp=i=>i[0]==="_"||i==="$stable",Ou=i=>Pt(i)?i.map(Wi):[Wi(i)],iv=(i,t,e)=>{if(t._n)return t;const n=bE((...s)=>Ou(t(...s)),e);return n._c=!1,n},rp=(i,t,e)=>{const n=i._ctx;for(const s in i){if(sp(s))continue;const r=i[s];if(Ht(r))t[s]=iv(s,r,n);else if(r!=null){const o=Ou(r);t[s]=()=>o}}},op=(i,t)=>{const e=Ou(t);i.slots.default=()=>e},nv=(i,t)=>{if(i.vnode.shapeFlag&32){const e=t._;e?(i.slots=Zt(t),Ia(t,"_",e)):rp(t,i.slots={})}else i.slots={},t&&op(i,t);Ia(i.slots,cl,1)},sv=(i,t,e)=>{const{vnode:n,slots:s}=i;let r=!0,o=ce;if(n.shapeFlag&32){const l=t._;l?e&&l===1?r=!1:(ke(s,t),!e&&l===1&&delete s._):(r=!t.$stable,rp(t,s)),o=t}else t&&(op(i,t),o={default:1});if(r)for(const l in s)!sp(l)&&!(l in o)&&delete s[l]};function ap(){return{app:null,config:{isNativeTag:Ry,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rv=0;function ov(i,t){return function(n,s=null){Ht(n)||(n=Object.assign({},n)),s!=null&&!_e(s)&&(s=null);const r=ap(),o=new Set;let l=!1;const c=r.app={_uid:rv++,_component:n,_props:s,_container:null,_context:r,_instance:null,version:Rv,get config(){return r.config},set config(h){},use(h,...d){return o.has(h)||(h&&Ht(h.install)?(o.add(h),h.install(c,...d)):Ht(h)&&(o.add(h),h(c,...d))),c},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),c},component(h,d){return d?(r.components[h]=d,c):r.components[h]},directive(h,d){return d?(r.directives[h]=d,c):r.directives[h]},mount(h,d,_){if(!l){const m=oi(n,s);return m.appContext=r,d&&t?t(m,h):i(m,h,_),l=!0,c._container=h,h.__vue_app__=c,ul(m.component)||m.component.proxy}},unmount(){l&&(i(null,c._container),delete c._container.__vue_app__)},provide(h,d){return r.provides[h]=d,c}};return c}}function Yc(i,t,e,n,s=!1){if(Pt(i)){i.forEach((m,x)=>Yc(m,t&&(Pt(t)?t[x]:t),e,n,s));return}if(xa(n)&&!s)return;const r=n.shapeFlag&4?ul(n.component)||n.component.proxy:n.el,o=s?null:r,{i:l,r:c}=i,h=t&&t.r,d=l.refs===ce?l.refs={}:l.refs,_=l.setupState;if(h!=null&&h!==c&&(Le(h)?(d[h]=null,Kt(_,h)&&(_[h]=null)):Fe(h)&&(h.value=null)),Ht(c))Pn(c,l,12,[o,d]);else{const m=Le(c),x=Fe(c);if(m||x){const b=()=>{if(i.f){const C=m?Kt(_,c)?_[c]:d[c]:c.value;s?Pt(C)&&yu(C,r):Pt(C)?C.includes(r)||C.push(r):m?(d[c]=[r],Kt(_,c)&&(_[c]=d[c])):(c.value=[r],i.k&&(d[i.k]=c.value))}else m?(d[c]=o,Kt(_,c)&&(_[c]=o)):x&&(c.value=o,i.k&&(d[i.k]=o))};o?(b.id=-1,qe(b,e)):b()}}}const qe=LE;function av(i){return lv(i)}function lv(i,t){const e=ky();e.__VUE__=!0;const{insert:n,remove:s,patchProp:r,createElement:o,createText:l,createComment:c,setText:h,setElementText:d,parentNode:_,nextSibling:m,setScopeId:x=Li,insertStaticContent:b}=i,C=(R,O,H,X=null,$=null,Z=null,ct=!1,st=null,nt=!!O.dynamicChildren)=>{if(R===O)return;R&&!hs(R,O)&&(X=he(R),K(R,$,Z,!0),R=null),O.patchFlag===-2&&(nt=!1,O.dynamicChildren=null);const{type:U,ref:ft,shapeFlag:ot}=O;switch(U){case ll:S(R,O,H,X);break;case Oi:w(R,O,H,X);break;case oc:R==null&&M(O,H,X,ct);break;case Ai:gt(R,O,H,X,$,Z,ct,st,nt);break;default:ot&1?j(R,O,H,X,$,Z,ct,st,nt):ot&6?_t(R,O,H,X,$,Z,ct,st,nt):(ot&64||ot&128)&&U.process(R,O,H,X,$,Z,ct,st,nt,Jt)}ft!=null&&$&&Yc(ft,R&&R.ref,Z,O||R,!O)},S=(R,O,H,X)=>{if(R==null)n(O.el=l(O.children),H,X);else{const $=O.el=R.el;O.children!==R.children&&h($,O.children)}},w=(R,O,H,X)=>{R==null?n(O.el=c(O.children||""),H,X):O.el=R.el},M=(R,O,H,X)=>{[R.el,R.anchor]=b(R.children,O,H,X,R.el,R.anchor)},P=({el:R,anchor:O},H,X)=>{let $;for(;R&&R!==O;)$=m(R),n(R,H,X),R=$;n(O,H,X)},N=({el:R,anchor:O})=>{let H;for(;R&&R!==O;)H=m(R),s(R),R=H;s(O)},j=(R,O,H,X,$,Z,ct,st,nt)=>{ct=ct||O.type==="svg",R==null?g(O,H,X,$,Z,ct,st,nt):et(R,O,$,Z,ct,st,nt)},g=(R,O,H,X,$,Z,ct,st)=>{let nt,U;const{type:ft,props:ot,shapeFlag:ut,transition:yt,dirs:Ct}=R;if(nt=R.el=o(R.type,Z,ot&&ot.is,ot),ut&8?d(nt,R.children):ut&16&&G(R.children,nt,null,X,$,Z&&ft!=="foreignObject",ct,st),Ct&&ns(R,null,X,"created"),ot){for(const Lt in ot)Lt!=="value"&&!ya(Lt)&&r(nt,Lt,null,ot[Lt],Z,R.children,X,$,oe);"value"in ot&&r(nt,"value",null,ot.value),(U=ot.onVnodeBeforeMount)&&ki(U,X,R)}it(nt,R,R.scopeId,ct,X),Ct&&ns(R,null,X,"beforeMount");const jt=(!$||$&&!$.pendingBranch)&&yt&&!yt.persisted;jt&&yt.beforeEnter(nt),n(nt,O,H),((U=ot&&ot.onVnodeMounted)||jt||Ct)&&qe(()=>{U&&ki(U,X,R),jt&&yt.enter(nt),Ct&&ns(R,null,X,"mounted")},$)},it=(R,O,H,X,$)=>{if(H&&x(R,H),X)for(let Z=0;Z<X.length;Z++)x(R,X[Z]);if($){let Z=$.subTree;if(O===Z){const ct=$.vnode;it(R,ct,ct.scopeId,ct.slotScopeIds,$.parent)}}},G=(R,O,H,X,$,Z,ct,st,nt=0)=>{for(let U=nt;U<R.length;U++){const ft=R[U]=st?Ln(R[U]):Wi(R[U]);C(null,ft,O,H,X,$,Z,ct,st)}},et=(R,O,H,X,$,Z,ct)=>{const st=O.el=R.el;let{patchFlag:nt,dynamicChildren:U,dirs:ft}=O;nt|=R.patchFlag&16;const ot=R.props||ce,ut=O.props||ce;let yt;H&&ss(H,!1),(yt=ut.onVnodeBeforeUpdate)&&ki(yt,H,O,R),ft&&ns(O,R,H,"beforeUpdate"),H&&ss(H,!0);const Ct=$&&O.type!=="foreignObject";if(U?rt(R.dynamicChildren,U,st,H,X,Ct,Z):ct||ht(R,O,st,null,H,X,Ct,Z,!1),nt>0){if(nt&16)mt(st,O,ot,ut,H,X,$);else if(nt&2&&ot.class!==ut.class&&r(st,"class",null,ut.class,$),nt&4&&r(st,"style",ot.style,ut.style,$),nt&8){const jt=O.dynamicProps;for(let Lt=0;Lt<jt.length;Lt++){const Qt=jt[Lt],ve=ot[Qt],fe=ut[Qt];(fe!==ve||Qt==="value")&&r(st,Qt,ve,fe,$,R.children,H,X,oe)}}nt&1&&R.children!==O.children&&d(st,O.children)}else!ct&&U==null&&mt(st,O,ot,ut,H,X,$);((yt=ut.onVnodeUpdated)||ft)&&qe(()=>{yt&&ki(yt,H,O,R),ft&&ns(O,R,H,"updated")},X)},rt=(R,O,H,X,$,Z,ct)=>{for(let st=0;st<O.length;st++){const nt=R[st],U=O[st],ft=nt.el&&(nt.type===Ai||!hs(nt,U)||nt.shapeFlag&70)?_(nt.el):H;C(nt,U,ft,null,X,$,Z,ct,!0)}},mt=(R,O,H,X,$,Z,ct)=>{if(H!==X){if(H!==ce)for(const st in H)!ya(st)&&!(st in X)&&r(R,st,H[st],null,ct,O.children,$,Z,oe);for(const st in X){if(ya(st))continue;const nt=X[st],U=H[st];nt!==U&&st!=="value"&&r(R,st,U,nt,ct,O.children,$,Z,oe)}"value"in X&&r(R,"value",H.value,X.value)}},gt=(R,O,H,X,$,Z,ct,st,nt)=>{const U=O.el=R?R.el:l(""),ft=O.anchor=R?R.anchor:l("");let{patchFlag:ot,dynamicChildren:ut,slotScopeIds:yt}=O;yt&&(st=st?st.concat(yt):yt),R==null?(n(U,H,X),n(ft,H,X),G(O.children,H,ft,$,Z,ct,st,nt)):ot>0&&ot&64&&ut&&R.dynamicChildren?(rt(R.dynamicChildren,ut,H,$,Z,ct,st),(O.key!=null||$&&O===$.subTree)&&lp(R,O,!0)):ht(R,O,H,ft,$,Z,ct,st,nt)},_t=(R,O,H,X,$,Z,ct,st,nt)=>{O.slotScopeIds=st,R==null?O.shapeFlag&512?$.ctx.activate(O,H,X,ct,nt):Vt(O,H,X,$,Z,ct,nt):pt(R,O,nt)},Vt=(R,O,H,X,$,Z,ct)=>{const st=R.component=Ev(R,X,$);if(ol(R)&&(st.ctx.renderer=Jt),xv(st),st.asyncDep){if($&&$.registerDep(st,lt),!R.el){const nt=st.subTree=oi(Oi);w(null,nt,O,H)}return}lt(st,R,O,H,$,Z,ct)},pt=(R,O,H)=>{const X=O.component=R.component;if(AE(R,O,H))if(X.asyncDep&&!X.asyncResolved){q(X,O,H);return}else X.next=O,vE(X.update),X.update();else O.el=R.el,X.vnode=O},lt=(R,O,H,X,$,Z,ct)=>{const st=()=>{if(R.isMounted){let{next:ft,bu:ot,u:ut,parent:yt,vnode:Ct}=R,jt=ft,Lt;ss(R,!1),ft?(ft.el=Ct.el,q(R,ft,ct)):ft=Ct,ot&&Ea(ot),(Lt=ft.props&&ft.props.onVnodeBeforeUpdate)&&ki(Lt,yt,ft,Ct),ss(R,!0);const Qt=ic(R),ve=R.subTree;R.subTree=Qt,C(ve,Qt,_(ve.el),he(ve),R,$,Z),ft.el=Qt.el,jt===null&&IE(R,Qt.el),ut&&qe(ut,$),(Lt=ft.props&&ft.props.onVnodeUpdated)&&qe(()=>ki(Lt,yt,ft,Ct),$)}else{let ft;const{el:ot,props:ut}=O,{bm:yt,m:Ct,parent:jt}=R,Lt=xa(O);if(ss(R,!1),yt&&Ea(yt),!Lt&&(ft=ut&&ut.onVnodeBeforeMount)&&ki(ft,jt,O),ss(R,!0),ot&&Ge){const Qt=()=>{R.subTree=ic(R),Ge(ot,R.subTree,R,$,null)};Lt?O.type.__asyncLoader().then(()=>!R.isUnmounted&&Qt()):Qt()}else{const Qt=R.subTree=ic(R);C(null,Qt,H,X,R,$,Z),O.el=Qt.el}if(Ct&&qe(Ct,$),!Lt&&(ft=ut&&ut.onVnodeMounted)){const Qt=O;qe(()=>ki(ft,jt,Qt),$)}(O.shapeFlag&256||jt&&xa(jt.vnode)&&jt.vnode.shapeFlag&256)&&R.a&&qe(R.a,$),R.isMounted=!0,O=H=X=null}},nt=R.effect=new Cu(st,()=>Ru(U),R.scope),U=R.update=()=>nt.run();U.id=R.uid,ss(R,!0),U()},q=(R,O,H)=>{O.component=R;const X=R.vnode.props;R.vnode=O,R.next=null,ev(R,O.props,X,H),sv(R,O.children,H),Cr(),mf(),Tr()},ht=(R,O,H,X,$,Z,ct,st,nt=!1)=>{const U=R&&R.children,ft=R?R.shapeFlag:0,ot=O.children,{patchFlag:ut,shapeFlag:yt}=O;if(ut>0){if(ut&128){Nt(U,ot,H,X,$,Z,ct,st,nt);return}else if(ut&256){It(U,ot,H,X,$,Z,ct,st,nt);return}}yt&8?(ft&16&&oe(U,$,Z),ot!==U&&d(H,ot)):ft&16?yt&16?Nt(U,ot,H,X,$,Z,ct,st,nt):oe(U,$,Z,!0):(ft&8&&d(H,""),yt&16&&G(ot,H,X,$,Z,ct,st,nt))},It=(R,O,H,X,$,Z,ct,st,nt)=>{R=R||er,O=O||er;const U=R.length,ft=O.length,ot=Math.min(U,ft);let ut;for(ut=0;ut<ot;ut++){const yt=O[ut]=nt?Ln(O[ut]):Wi(O[ut]);C(R[ut],yt,H,null,$,Z,ct,st,nt)}U>ft?oe(R,$,Z,!0,!1,ot):G(O,H,X,$,Z,ct,st,nt,ot)},Nt=(R,O,H,X,$,Z,ct,st,nt)=>{let U=0;const ft=O.length;let ot=R.length-1,ut=ft-1;for(;U<=ot&&U<=ut;){const yt=R[U],Ct=O[U]=nt?Ln(O[U]):Wi(O[U]);if(hs(yt,Ct))C(yt,Ct,H,null,$,Z,ct,st,nt);else break;U++}for(;U<=ot&&U<=ut;){const yt=R[ot],Ct=O[ut]=nt?Ln(O[ut]):Wi(O[ut]);if(hs(yt,Ct))C(yt,Ct,H,null,$,Z,ct,st,nt);else break;ot--,ut--}if(U>ot){if(U<=ut){const yt=ut+1,Ct=yt<ft?O[yt].el:X;for(;U<=ut;)C(null,O[U]=nt?Ln(O[U]):Wi(O[U]),H,Ct,$,Z,ct,st,nt),U++}}else if(U>ut)for(;U<=ot;)K(R[U],$,Z,!0),U++;else{const yt=U,Ct=U,jt=new Map;for(U=Ct;U<=ut;U++){const xe=O[U]=nt?Ln(O[U]):Wi(O[U]);xe.key!=null&&jt.set(xe.key,U)}let Lt,Qt=0;const ve=ut-Ct+1;let fe=!1,ti=0;const ei=new Array(ve);for(U=0;U<ve;U++)ei[U]=0;for(U=yt;U<=ot;U++){const xe=R[U];if(Qt>=ve){K(xe,$,Z,!0);continue}let ae;if(xe.key!=null)ae=jt.get(xe.key);else for(Lt=Ct;Lt<=ut;Lt++)if(ei[Lt-Ct]===0&&hs(xe,O[Lt])){ae=Lt;break}ae===void 0?K(xe,$,Z,!0):(ei[ae-Ct]=U+1,ae>=ti?ti=ae:fe=!0,C(xe,O[ae],H,null,$,Z,ct,st,nt),Qt++)}const Kn=fe?cv(ei):er;for(Lt=Kn.length-1,U=ve-1;U>=0;U--){const xe=Ct+U,ae=O[xe],me=xe+1<ft?O[xe+1].el:X;ei[U]===0?C(null,ae,H,me,$,Z,ct,st,nt):fe&&(Lt<0||U!==Kn[Lt]?Ft(ae,H,me,2):Lt--)}}},Ft=(R,O,H,X,$=null)=>{const{el:Z,type:ct,transition:st,children:nt,shapeFlag:U}=R;if(U&6){Ft(R.component.subTree,O,H,X);return}if(U&128){R.suspense.move(O,H,X);return}if(U&64){ct.move(R,O,H,Jt);return}if(ct===Ai){n(Z,O,H);for(let ot=0;ot<nt.length;ot++)Ft(nt[ot],O,H,X);n(R.anchor,O,H);return}if(ct===oc){P(R,O,H);return}if(X!==2&&U&1&&st)if(X===0)st.beforeEnter(Z),n(Z,O,H),qe(()=>st.enter(Z),$);else{const{leave:ot,delayLeave:ut,afterLeave:yt}=st,Ct=()=>n(Z,O,H),jt=()=>{ot(Z,()=>{Ct(),yt&&yt()})};ut?ut(Z,Ct,jt):jt()}else n(Z,O,H)},K=(R,O,H,X=!1,$=!1)=>{const{type:Z,props:ct,ref:st,children:nt,dynamicChildren:U,shapeFlag:ft,patchFlag:ot,dirs:ut}=R;if(st!=null&&Yc(st,null,H,R,!0),ft&256){O.ctx.deactivate(R);return}const yt=ft&1&&ut,Ct=!xa(R);let jt;if(Ct&&(jt=ct&&ct.onVnodeBeforeUnmount)&&ki(jt,O,R),ft&6)kt(R.component,H,X);else{if(ft&128){R.suspense.unmount(H,X);return}yt&&ns(R,null,O,"beforeUnmount"),ft&64?R.type.remove(R,O,H,$,Jt,X):U&&(Z!==Ai||ot>0&&ot&64)?oe(U,O,H,!1,!0):(Z===Ai&&ot&384||!$&&ft&16)&&oe(nt,O,H),X&&ie(R)}(Ct&&(jt=ct&&ct.onVnodeUnmounted)||yt)&&qe(()=>{jt&&ki(jt,O,R),yt&&ns(R,null,O,"unmounted")},H)},ie=R=>{const{type:O,el:H,anchor:X,transition:$}=R;if(O===Ai){Dt(H,X);return}if(O===oc){N(R);return}const Z=()=>{s(H),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(R.shapeFlag&1&&$&&!$.persisted){const{leave:ct,delayLeave:st}=$,nt=()=>ct(H,Z);st?st(R.el,Z,nt):nt()}else Z()},Dt=(R,O)=>{let H;for(;R!==O;)H=m(R),s(R),R=H;s(O)},kt=(R,O,H)=>{const{bum:X,scope:$,update:Z,subTree:ct,um:st}=R;X&&Ea(X),$.stop(),Z&&(Z.active=!1,K(ct,R,O,H)),st&&qe(st,O),qe(()=>{R.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},oe=(R,O,H,X=!1,$=!1,Z=0)=>{for(let ct=Z;ct<R.length;ct++)K(R[ct],O,H,X,$)},he=R=>R.shapeFlag&6?he(R.component.subTree):R.shapeFlag&128?R.suspense.next():m(R.anchor||R.el),Yt=(R,O,H)=>{R==null?O._vnode&&K(O._vnode,null,null,!0):C(O._vnode||null,R,O,null,null,null,H),mf(),Vg(),O._vnode=R},Jt={p:C,um:K,m:Ft,r:ie,mt:Vt,mc:G,pc:ht,pbc:rt,n:he,o:i};let ze,Ge;return t&&([ze,Ge]=t(Jt)),{render:Yt,hydrate:ze,createApp:ov(Yt,ze)}}function ss({effect:i,update:t},e){i.allowRecurse=t.allowRecurse=e}function lp(i,t,e=!1){const n=i.children,s=t.children;if(Pt(n)&&Pt(s))for(let r=0;r<n.length;r++){const o=n[r];let l=s[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[r]=Ln(s[r]),l.el=o.el),e||lp(o,l)),l.type===ll&&(l.el=o.el)}}function cv(i){const t=i.slice(),e=[0];let n,s,r,o,l;const c=i.length;for(n=0;n<c;n++){const h=i[n];if(h!==0){if(s=e[e.length-1],i[s]<h){t[n]=s,e.push(n);continue}for(r=0,o=e.length-1;r<o;)l=r+o>>1,i[e[l]]<h?r=l+1:o=l;h<i[e[r]]&&(r>0&&(t[n]=e[r-1]),e[r]=n)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}const uv=i=>i.__isTeleport,Ai=Symbol(void 0),ll=Symbol(void 0),Oi=Symbol(void 0),oc=Symbol(void 0),Kr=[];let Ri=null;function Gi(i=!1){Kr.push(Ri=i?null:[])}function hv(){Kr.pop(),Ri=Kr[Kr.length-1]||null}let ro=1;function Sf(i){ro+=i}function cp(i){return i.dynamicChildren=ro>0?Ri||er:null,hv(),ro>0&&Ri&&Ri.push(i),i}function ln(i,t,e,n,s,r){return cp(Rt(i,t,e,n,s,r,!0))}function fv(i,t,e,n,s){return cp(oi(i,t,e,n,s,!0))}function dv(i){return i?i.__v_isVNode===!0:!1}function hs(i,t){return i.type===t.type&&i.key===t.key}const cl="__vInternal",up=({key:i})=>i!=null?i:null,Ca=({ref:i,ref_key:t,ref_for:e})=>i!=null?Le(i)||Fe(i)||Ht(i)?{i:pi,r:i,k:t,f:!!e}:i:null;function Rt(i,t=null,e=null,n=0,s=null,r=i===Ai?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:i,props:t,key:t&&up(t),ref:t&&Ca(t),scopeId:rl,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:pi};return l?(Du(c,e),r&128&&i.normalize(c)):e&&(c.shapeFlag|=Le(e)?8:16),ro>0&&!o&&Ri&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Ri.push(c),c}const oi=gv;function gv(i,t=null,e=null,n=0,s=null,r=!1){if((!i||i===XE)&&(i=Oi),dv(i)){const l=kn(i,t,!0);return e&&Du(l,e),ro>0&&!r&&Ri&&(l.shapeFlag&6?Ri[Ri.indexOf(i)]=l:Ri.push(l)),l.patchFlag|=-2,l}if(wv(i)&&(i=i.__vccOpts),t){t=pv(t);let{class:l,style:c}=t;l&&!Le(l)&&(t.class=_u(l)),_e(c)&&(Pg(c)&&!Pt(c)&&(c=ke({},c)),t.style=pu(c))}const o=Le(i)?1:RE(i)?128:uv(i)?64:_e(i)?4:Ht(i)?2:0;return Rt(i,t,e,n,s,o,r,!0)}function pv(i){return i?Pg(i)||cl in i?ke({},i):i:null}function kn(i,t,e=!1){const{props:n,ref:s,patchFlag:r,children:o}=i,l=t?_v(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:l,key:l&&up(l),ref:t&&t.ref?e&&s?Pt(s)?s.concat(Ca(t)):[s,Ca(t)]:Ca(t):s,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:t&&i.type!==Ai?r===-1?16:r|16:r,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&kn(i.ssContent),ssFallback:i.ssFallback&&kn(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx}}function hp(i=" ",t=0){return oi(ll,null,i,t)}function Ma(i="",t=!1){return t?(Gi(),fv(Oi,null,i)):oi(Oi,null,i)}function Wi(i){return i==null||typeof i=="boolean"?oi(Oi):Pt(i)?oi(Ai,null,i.slice()):typeof i=="object"?Ln(i):oi(ll,null,String(i))}function Ln(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:kn(i)}function Du(i,t){let e=0;const{shapeFlag:n}=i;if(t==null)t=null;else if(Pt(t))e=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),Du(i,s()),s._c&&(s._d=!0));return}else{e=32;const s=t._;!s&&!(cl in t)?t._ctx=pi:s===3&&pi&&(pi.slots._===1?t._=1:(t._=2,i.patchFlag|=1024))}else Ht(t)?(t={default:t,_ctx:pi},e=32):(t=String(t),n&64?(e=16,t=[hp(t)]):e=8);i.children=t,i.shapeFlag|=e}function _v(...i){const t={};for(let e=0;e<i.length;e++){const n=i[e];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=_u([t.class,n.class]));else if(s==="style")t.style=pu([t.style,n.style]);else if(tl(s)){const r=t[s],o=n[s];o&&r!==o&&!(Pt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=n[s])}return t}function ki(i,t,e,n=null){_i(i,t,7,[e,n])}const mv=ap();let yv=0;function Ev(i,t,e){const n=i.type,s=(t?t.appContext:i.appContext)||mv,r={uid:yv++,vnode:i,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new $y(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:np(n,s),emitsOptions:Gg(n,s),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:n.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=TE.bind(null,r),i.ce&&i.ce(r),r}let Re=null;const vv=()=>Re||pi,cr=i=>{Re=i,i.scope.on()},Cs=()=>{Re&&Re.scope.off(),Re=null};function fp(i){return i.vnode.shapeFlag&4}let oo=!1;function xv(i,t=!1){oo=t;const{props:e,children:n}=i.vnode,s=fp(i);tv(i,e,s,t),nv(i,n);const r=s?Cv(i,t):void 0;return oo=!1,r}function Cv(i,t){const e=i.type;i.accessCache=Object.create(null),i.proxy=Ng(new Proxy(i.ctx,KE));const{setup:n}=e;if(n){const s=i.setupContext=n.length>1?bv(i):null;cr(i),Cr();const r=Pn(n,i,0,[i.props,s]);if(Tr(),Cs(),vg(r)){if(r.then(Cs,Cs),t)return r.then(o=>{Af(i,o,t)}).catch(o=>{nl(o,i,0)});i.asyncDep=r}else Af(i,r,t)}else dp(i,t)}function Af(i,t,e){Ht(t)?i.type.__ssrInlineRender?i.ssrRender=t:i.render=t:_e(t)&&(i.setupState=$g(t)),dp(i,e)}let If;function dp(i,t,e){const n=i.type;if(!i.render){if(!t&&If&&!n.render){const s=n.template||Lu(i).template;if(s){const{isCustomElement:r,compilerOptions:o}=i.appContext.config,{delimiters:l,compilerOptions:c}=n,h=ke(ke({isCustomElement:r,delimiters:l},o),c);n.render=If(s,h)}}i.render=n.render||Li}cr(i),Cr(),UE(i),Tr(),Cs()}function Tv(i){return new Proxy(i.attrs,{get(t,e){return ai(i,"get","$attrs"),t[e]}})}function bv(i){const t=n=>{i.exposed=n||{}};let e;return{get attrs(){return e||(e=Tv(i))},slots:i.slots,emit:i.emit,expose:t}}function ul(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy($g(Ng(i.exposed)),{get(t,e){if(e in t)return t[e];if(e in Xr)return Xr[e](i)},has(t,e){return e in t||e in Xr}}))}function wv(i){return Ht(i)&&"__vccOpts"in i}const Sv=(i,t)=>mE(i,t,oo),Av=Symbol(""),Iv=()=>va(Av),Rv="3.2.45",Lv="http://www.w3.org/2000/svg",fs=typeof document<"u"?document:null,Rf=fs&&fs.createElement("template"),Ov={insert:(i,t,e)=>{t.insertBefore(i,e||null)},remove:i=>{const t=i.parentNode;t&&t.removeChild(i)},createElement:(i,t,e,n)=>{const s=t?fs.createElementNS(Lv,i):fs.createElement(i,e?{is:e}:void 0);return i==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:i=>fs.createTextNode(i),createComment:i=>fs.createComment(i),setText:(i,t)=>{i.nodeValue=t},setElementText:(i,t)=>{i.textContent=t},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>fs.querySelector(i),setScopeId(i,t){i.setAttribute(t,"")},insertStaticContent(i,t,e,n,s,r){const o=e?e.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),e),!(s===r||!(s=s.nextSibling)););else{Rf.innerHTML=n?`<svg>${i}</svg>`:i;const l=Rf.content;if(n){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function Dv(i,t,e){const n=i._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?i.removeAttribute("class"):e?i.setAttribute("class",t):i.className=t}function Mv(i,t,e){const n=i.style,s=Le(e);if(e&&!s){for(const r in e)Xc(n,r,e[r]);if(t&&!Le(t))for(const r in t)e[r]==null&&Xc(n,r,"")}else{const r=n.display;s?t!==e&&(n.cssText=e):t&&i.removeAttribute("style"),"_vod"in i&&(n.display=r)}}const Lf=/\s*!important$/;function Xc(i,t,e){if(Pt(e))e.forEach(n=>Xc(i,t,n));else if(e==null&&(e=""),t.startsWith("--"))i.setProperty(t,e);else{const n=Pv(i,t);Lf.test(e)?i.setProperty(xr(n),e.replace(Lf,""),"important"):i[n]=e}}const Of=["Webkit","Moz","ms"],ac={};function Pv(i,t){const e=ac[t];if(e)return e;let n=ar(t);if(n!=="filter"&&n in i)return ac[t]=n;n=xg(n);for(let s=0;s<Of.length;s++){const r=Of[s]+n;if(r in i)return ac[t]=r}return t}const Df="http://www.w3.org/1999/xlink";function Nv(i,t,e,n,s){if(n&&t.startsWith("xlink:"))e==null?i.removeAttributeNS(Df,t.slice(6,t.length)):i.setAttributeNS(Df,t,e);else{const r=Ay(t);e==null||r&&!yg(e)?i.removeAttribute(t):i.setAttribute(t,r?"":e)}}function Fv(i,t,e,n,s,r,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,s,r),i[t]=e==null?"":e;return}if(t==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=e;const c=e==null?"":e;(i.value!==c||i.tagName==="OPTION")&&(i.value=c),e==null&&i.removeAttribute(t);return}let l=!1;if(e===""||e==null){const c=typeof i[t];c==="boolean"?e=yg(e):e==null&&c==="string"?(e="",l=!0):c==="number"&&(e=0,l=!0)}try{i[t]=e}catch{}l&&i.removeAttribute(t)}function gp(i,t,e,n){i.addEventListener(t,e,n)}function kv(i,t,e,n){i.removeEventListener(t,e,n)}function $v(i,t,e,n,s=null){const r=i._vei||(i._vei={}),o=r[t];if(n&&o)o.value=n;else{const[l,c]=Wv(t);if(n){const h=r[t]=Hv(n,s);gp(i,l,h,c)}else o&&(kv(i,l,o,c),r[t]=void 0)}}const Mf=/(?:Once|Passive|Capture)$/;function Wv(i){let t;if(Mf.test(i)){t={};let n;for(;n=i.match(Mf);)i=i.slice(0,i.length-n[0].length),t[n[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):xr(i.slice(2)),t]}let lc=0;const jv=Promise.resolve(),Bv=()=>lc||(jv.then(()=>lc=0),lc=Date.now());function Hv(i,t){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;_i(Vv(n,e.value),t,5,[n])};return e.value=i,e.attached=Bv(),e}function Vv(i,t){if(Pt(t)){const e=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{e.call(i),i._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const Pf=/^on[a-z]/,zv=(i,t,e,n,s=!1,r,o,l,c)=>{t==="class"?Dv(i,n,s):t==="style"?Mv(i,e,n):tl(t)?mu(t)||$v(i,t,e,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Gv(i,t,n,s))?Fv(i,t,n,r,o,l,c):(t==="true-value"?i._trueValue=n:t==="false-value"&&(i._falseValue=n),Nv(i,t,n,s))};function Gv(i,t,e,n){return n?!!(t==="innerHTML"||t==="textContent"||t in i&&Pf.test(t)&&Ht(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&i.tagName==="INPUT"||t==="type"&&i.tagName==="TEXTAREA"||Pf.test(t)&&Le(e)?!1:t in i}const Yv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};NE.props;const Nf=i=>{const t=i.props["onUpdate:modelValue"]||!1;return Pt(t)?e=>Ea(t,e):t},Xv={deep:!0,created(i,t,e){i._assign=Nf(e),gp(i,"change",()=>{const n=i._modelValue,s=Kv(i),r=i.checked,o=i._assign;if(Pt(n)){const l=Eg(n,s),c=l!==-1;if(r&&!c)o(n.concat(s));else if(!r&&c){const h=[...n];h.splice(l,1),o(h)}}else if(Eu(n)){const l=new Set(n);r?l.add(s):l.delete(s),o(l)}else o(pp(i,r))})},mounted:Ff,beforeUpdate(i,t,e){i._assign=Nf(e),Ff(i,t,e)}};function Ff(i,{value:t,oldValue:e},n){i._modelValue=t,Pt(t)?i.checked=Eg(t,n.props.value)>-1:Eu(t)?i.checked=t.has(n.props.value):t!==e&&(i.checked=Qa(t,pp(i,!0)))}function Kv(i){return"_value"in i?i._value:i.value}function pp(i,t){const e=t?"_trueValue":"_falseValue";return e in i?i[e]:t}const Uv=["ctrl","shift","alt","meta"],qv={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,t)=>Uv.some(e=>i[`${e}Key`]&&!t.includes(e))},$r=(i,t)=>(e,...n)=>{for(let s=0;s<t.length;s++){const r=qv[t[s]];if(r&&r(e,t))return}return i(e,...n)},Zv=ke({patchProp:zv},Ov);let kf;function Jv(){return kf||(kf=av(Zv))}const Qv=(...i)=>{const t=Jv().createApp(...i),{mount:e}=t;return t.mount=n=>{const s=t0(n);if(!s)return;const r=t._component;!Ht(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=e(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function t0(i){return Le(i)?document.querySelector(i):i}var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i0={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(i){(function(t,e){i.exports=t.document?e(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return e(n)}})(typeof window<"u"?window:e0,function(t,e){var n=[],s=Object.getPrototypeOf,r=n.slice,o=n.flat?function(a){return n.flat.call(a)}:function(a){return n.concat.apply([],a)},l=n.push,c=n.indexOf,h={},d=h.toString,_=h.hasOwnProperty,m=_.toString,x=m.call(Object),b={},C=function(u){return typeof u=="function"&&typeof u.nodeType!="number"&&typeof u.item!="function"},S=function(u){return u!=null&&u===u.window},w=t.document,M={type:!0,src:!0,nonce:!0,noModule:!0};function P(a,u,f){f=f||w;var p,y,E=f.createElement("script");if(E.text=a,u)for(p in M)y=u[p]||u.getAttribute&&u.getAttribute(p),y&&E.setAttribute(p,y);f.head.appendChild(E).parentNode.removeChild(E)}function N(a){return a==null?a+"":typeof a=="object"||typeof a=="function"?h[d.call(a)]||"object":typeof a}var j="3.6.3",g=function(a,u){return new g.fn.init(a,u)};g.fn=g.prototype={jquery:j,constructor:g,length:0,toArray:function(){return r.call(this)},get:function(a){return a==null?r.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var u=g.merge(this.constructor(),a);return u.prevObject=this,u},each:function(a){return g.each(this,a)},map:function(a){return this.pushStack(g.map(this,function(u,f){return a.call(u,f,u)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(a,u){return(u+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(a,u){return u%2}))},eq:function(a){var u=this.length,f=+a+(a<0?u:0);return this.pushStack(f>=0&&f<u?[this[f]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:n.sort,splice:n.splice},g.extend=g.fn.extend=function(){var a,u,f,p,y,E,v=arguments[0]||{},L=1,A=arguments.length,k=!1;for(typeof v=="boolean"&&(k=v,v=arguments[L]||{},L++),typeof v!="object"&&!C(v)&&(v={}),L===A&&(v=this,L--);L<A;L++)if((a=arguments[L])!=null)for(u in a)p=a[u],!(u==="__proto__"||v===p)&&(k&&p&&(g.isPlainObject(p)||(y=Array.isArray(p)))?(f=v[u],y&&!Array.isArray(f)?E=[]:!y&&!g.isPlainObject(f)?E={}:E=f,y=!1,v[u]=g.extend(k,E,p)):p!==void 0&&(v[u]=p));return v},g.extend({expando:"jQuery"+(j+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var u,f;return!a||d.call(a)!=="[object Object]"?!1:(u=s(a),u?(f=_.call(u,"constructor")&&u.constructor,typeof f=="function"&&m.call(f)===x):!0)},isEmptyObject:function(a){var u;for(u in a)return!1;return!0},globalEval:function(a,u,f){P(a,{nonce:u&&u.nonce},f)},each:function(a,u){var f,p=0;if(it(a))for(f=a.length;p<f&&u.call(a[p],p,a[p])!==!1;p++);else for(p in a)if(u.call(a[p],p,a[p])===!1)break;return a},makeArray:function(a,u){var f=u||[];return a!=null&&(it(Object(a))?g.merge(f,typeof a=="string"?[a]:a):l.call(f,a)),f},inArray:function(a,u,f){return u==null?-1:c.call(u,a,f)},merge:function(a,u){for(var f=+u.length,p=0,y=a.length;p<f;p++)a[y++]=u[p];return a.length=y,a},grep:function(a,u,f){for(var p,y=[],E=0,v=a.length,L=!f;E<v;E++)p=!u(a[E],E),p!==L&&y.push(a[E]);return y},map:function(a,u,f){var p,y,E=0,v=[];if(it(a))for(p=a.length;E<p;E++)y=u(a[E],E,f),y!=null&&v.push(y);else for(E in a)y=u(a[E],E,f),y!=null&&v.push(y);return o(v)},guid:1,support:b}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=n[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,u){h["[object "+u+"]"]=u.toLowerCase()});function it(a){var u=!!a&&"length"in a&&a.length,f=N(a);return C(a)||S(a)?!1:f==="array"||u===0||typeof u=="number"&&u>0&&u-1 in a}var G=function(a){var u,f,p,y,E,v,L,A,k,B,J,W,V,vt,Mt,Et,Ce,ye,ii,ne="sizzle"+1*new Date,Ot=a.document,Ke=0,Xt=0,ge=zo(),Pr=zo(),Bo=zo(),ni=zo(),Jn=function(T,I){return T===I&&(J=!0),0},Qn={}.hasOwnProperty,Ue=[],xn=Ue.pop,fi=Ue.push,Cn=Ue.push,Jh=Ue.slice,ts=function(T,I){for(var D=0,z=T.length;D<z;D++)if(T[D]===I)return D;return-1},Xl="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",es="(?:\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Qh="\\["+te+"*("+es+")(?:"+te+"*([*^$|!~]?=)"+te+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+es+"))|)"+te+"*\\]",Kl=":("+es+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Qh+")*)|.*)\\)|)",ly=new RegExp(te+"+","g"),Ho=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),cy=new RegExp("^"+te+"*,"+te+"*"),tf=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),uy=new RegExp(te+"|>"),hy=new RegExp(Kl),fy=new RegExp("^"+es+"$"),Vo={ID:new RegExp("^#("+es+")"),CLASS:new RegExp("^\\.("+es+")"),TAG:new RegExp("^("+es+"|[*])"),ATTR:new RegExp("^"+Qh),PSEUDO:new RegExp("^"+Kl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+Xl+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},dy=/HTML$/i,gy=/^(?:input|select|textarea|button)$/i,py=/^h\d$/i,Nr=/^[^{]+\{\s*\[native \w/,_y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ul=/[+~]/,Ji=new RegExp("\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\([^\\r\\n\\f])","g"),Qi=function(T,I){var D="0x"+T.slice(1)-65536;return I||(D<0?String.fromCharCode(D+65536):String.fromCharCode(D>>10|55296,D&1023|56320))},ef=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nf=function(T,I){return I?T==="\0"?"\uFFFD":T.slice(0,-1)+"\\"+T.charCodeAt(T.length-1).toString(16)+" ":"\\"+T},sf=function(){W()},my=Yo(function(T){return T.disabled===!0&&T.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Cn.apply(Ue=Jh.call(Ot.childNodes),Ot.childNodes),Ue[Ot.childNodes.length].nodeType}catch{Cn={apply:Ue.length?function(I,D){fi.apply(I,Jh.call(D))}:function(I,D){for(var z=I.length,F=0;I[z++]=D[F++];);I.length=z-1}}}function se(T,I,D,z){var F,Y,Q,at,dt,bt,xt,St=I&&I.ownerDocument,Bt=I?I.nodeType:9;if(D=D||[],typeof T!="string"||!T||Bt!==1&&Bt!==9&&Bt!==11)return D;if(!z&&(W(I),I=I||V,Mt)){if(Bt!==11&&(dt=_y.exec(T)))if(F=dt[1]){if(Bt===9)if(Q=I.getElementById(F)){if(Q.id===F)return D.push(Q),D}else return D;else if(St&&(Q=St.getElementById(F))&&ii(I,Q)&&Q.id===F)return D.push(Q),D}else{if(dt[2])return Cn.apply(D,I.getElementsByTagName(T)),D;if((F=dt[3])&&f.getElementsByClassName&&I.getElementsByClassName)return Cn.apply(D,I.getElementsByClassName(F)),D}if(f.qsa&&!ni[T+" "]&&(!Et||!Et.test(T))&&(Bt!==1||I.nodeName.toLowerCase()!=="object")){if(xt=T,St=I,Bt===1&&(uy.test(T)||tf.test(T))){for(St=Ul.test(T)&&Zl(I.parentNode)||I,(St!==I||!f.scope)&&((at=I.getAttribute("id"))?at=at.replace(ef,nf):I.setAttribute("id",at=ne)),bt=v(T),Y=bt.length;Y--;)bt[Y]=(at?"#"+at:":scope")+" "+Go(bt[Y]);xt=bt.join(",")}try{if(f.cssSupportsSelector&&!CSS.supports("selector(:is("+xt+"))"))throw new Error;return Cn.apply(D,St.querySelectorAll(xt)),D}catch{ni(T,!0)}finally{at===ne&&I.removeAttribute("id")}}}return A(T.replace(Ho,"$1"),I,D,z)}function zo(){var T=[];function I(D,z){return T.push(D+" ")>p.cacheLength&&delete I[T.shift()],I[D+" "]=z}return I}function bi(T){return T[ne]=!0,T}function di(T){var I=V.createElement("fieldset");try{return!!T(I)}catch{return!1}finally{I.parentNode&&I.parentNode.removeChild(I),I=null}}function ql(T,I){for(var D=T.split("|"),z=D.length;z--;)p.attrHandle[D[z]]=I}function rf(T,I){var D=I&&T,z=D&&T.nodeType===1&&I.nodeType===1&&T.sourceIndex-I.sourceIndex;if(z)return z;if(D){for(;D=D.nextSibling;)if(D===I)return-1}return T?1:-1}function yy(T){return function(I){var D=I.nodeName.toLowerCase();return D==="input"&&I.type===T}}function Ey(T){return function(I){var D=I.nodeName.toLowerCase();return(D==="input"||D==="button")&&I.type===T}}function of(T){return function(I){return"form"in I?I.parentNode&&I.disabled===!1?"label"in I?"label"in I.parentNode?I.parentNode.disabled===T:I.disabled===T:I.isDisabled===T||I.isDisabled!==!T&&my(I)===T:I.disabled===T:"label"in I?I.disabled===T:!1}}function is(T){return bi(function(I){return I=+I,bi(function(D,z){for(var F,Y=T([],D.length,I),Q=Y.length;Q--;)D[F=Y[Q]]&&(D[F]=!(z[F]=D[F]))})})}function Zl(T){return T&&typeof T.getElementsByTagName<"u"&&T}f=se.support={},E=se.isXML=function(T){var I=T&&T.namespaceURI,D=T&&(T.ownerDocument||T).documentElement;return!dy.test(I||D&&D.nodeName||"HTML")},W=se.setDocument=function(T){var I,D,z=T?T.ownerDocument||T:Ot;return z==V||z.nodeType!==9||!z.documentElement||(V=z,vt=V.documentElement,Mt=!E(V),Ot!=V&&(D=V.defaultView)&&D.top!==D&&(D.addEventListener?D.addEventListener("unload",sf,!1):D.attachEvent&&D.attachEvent("onunload",sf)),f.scope=di(function(F){return vt.appendChild(F).appendChild(V.createElement("div")),typeof F.querySelectorAll<"u"&&!F.querySelectorAll(":scope fieldset div").length}),f.cssSupportsSelector=di(function(){return CSS.supports("selector(*)")&&V.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),f.attributes=di(function(F){return F.className="i",!F.getAttribute("className")}),f.getElementsByTagName=di(function(F){return F.appendChild(V.createComment("")),!F.getElementsByTagName("*").length}),f.getElementsByClassName=Nr.test(V.getElementsByClassName),f.getById=di(function(F){return vt.appendChild(F).id=ne,!V.getElementsByName||!V.getElementsByName(ne).length}),f.getById?(p.filter.ID=function(F){var Y=F.replace(Ji,Qi);return function(Q){return Q.getAttribute("id")===Y}},p.find.ID=function(F,Y){if(typeof Y.getElementById<"u"&&Mt){var Q=Y.getElementById(F);return Q?[Q]:[]}}):(p.filter.ID=function(F){var Y=F.replace(Ji,Qi);return function(Q){var at=typeof Q.getAttributeNode<"u"&&Q.getAttributeNode("id");return at&&at.value===Y}},p.find.ID=function(F,Y){if(typeof Y.getElementById<"u"&&Mt){var Q,at,dt,bt=Y.getElementById(F);if(bt){if(Q=bt.getAttributeNode("id"),Q&&Q.value===F)return[bt];for(dt=Y.getElementsByName(F),at=0;bt=dt[at++];)if(Q=bt.getAttributeNode("id"),Q&&Q.value===F)return[bt]}return[]}}),p.find.TAG=f.getElementsByTagName?function(F,Y){if(typeof Y.getElementsByTagName<"u")return Y.getElementsByTagName(F);if(f.qsa)return Y.querySelectorAll(F)}:function(F,Y){var Q,at=[],dt=0,bt=Y.getElementsByTagName(F);if(F==="*"){for(;Q=bt[dt++];)Q.nodeType===1&&at.push(Q);return at}return bt},p.find.CLASS=f.getElementsByClassName&&function(F,Y){if(typeof Y.getElementsByClassName<"u"&&Mt)return Y.getElementsByClassName(F)},Ce=[],Et=[],(f.qsa=Nr.test(V.querySelectorAll))&&(di(function(F){var Y;vt.appendChild(F).innerHTML="<a id='"+ne+"'></a><select id='"+ne+"-\r\\' msallowcapture=''><option selected=''></option></select>",F.querySelectorAll("[msallowcapture^='']").length&&Et.push("[*^$]="+te+`*(?:''|"")`),F.querySelectorAll("[selected]").length||Et.push("\\["+te+"*(?:value|"+Xl+")"),F.querySelectorAll("[id~="+ne+"-]").length||Et.push("~="),Y=V.createElement("input"),Y.setAttribute("name",""),F.appendChild(Y),F.querySelectorAll("[name='']").length||Et.push("\\["+te+"*name"+te+"*="+te+`*(?:''|"")`),F.querySelectorAll(":checked").length||Et.push(":checked"),F.querySelectorAll("a#"+ne+"+*").length||Et.push(".#.+[+~]"),F.querySelectorAll("\\\f"),Et.push("[\\r\\n\\f]")}),di(function(F){F.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Y=V.createElement("input");Y.setAttribute("type","hidden"),F.appendChild(Y).setAttribute("name","D"),F.querySelectorAll("[name=d]").length&&Et.push("name"+te+"*[*^$|!~]?="),F.querySelectorAll(":enabled").length!==2&&Et.push(":enabled",":disabled"),vt.appendChild(F).disabled=!0,F.querySelectorAll(":disabled").length!==2&&Et.push(":enabled",":disabled"),F.querySelectorAll("*,:x"),Et.push(",.*:")})),(f.matchesSelector=Nr.test(ye=vt.matches||vt.webkitMatchesSelector||vt.mozMatchesSelector||vt.oMatchesSelector||vt.msMatchesSelector))&&di(function(F){f.disconnectedMatch=ye.call(F,"*"),ye.call(F,"[s!='']:x"),Ce.push("!=",Kl)}),f.cssSupportsSelector||Et.push(":has"),Et=Et.length&&new RegExp(Et.join("|")),Ce=Ce.length&&new RegExp(Ce.join("|")),I=Nr.test(vt.compareDocumentPosition),ii=I||Nr.test(vt.contains)?function(F,Y){var Q=F.nodeType===9&&F.documentElement||F,at=Y&&Y.parentNode;return F===at||!!(at&&at.nodeType===1&&(Q.contains?Q.contains(at):F.compareDocumentPosition&&F.compareDocumentPosition(at)&16))}:function(F,Y){if(Y){for(;Y=Y.parentNode;)if(Y===F)return!0}return!1},Jn=I?function(F,Y){if(F===Y)return J=!0,0;var Q=!F.compareDocumentPosition-!Y.compareDocumentPosition;return Q||(Q=(F.ownerDocument||F)==(Y.ownerDocument||Y)?F.compareDocumentPosition(Y):1,Q&1||!f.sortDetached&&Y.compareDocumentPosition(F)===Q?F==V||F.ownerDocument==Ot&&ii(Ot,F)?-1:Y==V||Y.ownerDocument==Ot&&ii(Ot,Y)?1:B?ts(B,F)-ts(B,Y):0:Q&4?-1:1)}:function(F,Y){if(F===Y)return J=!0,0;var Q,at=0,dt=F.parentNode,bt=Y.parentNode,xt=[F],St=[Y];if(!dt||!bt)return F==V?-1:Y==V?1:dt?-1:bt?1:B?ts(B,F)-ts(B,Y):0;if(dt===bt)return rf(F,Y);for(Q=F;Q=Q.parentNode;)xt.unshift(Q);for(Q=Y;Q=Q.parentNode;)St.unshift(Q);for(;xt[at]===St[at];)at++;return at?rf(xt[at],St[at]):xt[at]==Ot?-1:St[at]==Ot?1:0}),V},se.matches=function(T,I){return se(T,null,null,I)},se.matchesSelector=function(T,I){if(W(T),f.matchesSelector&&Mt&&!ni[I+" "]&&(!Ce||!Ce.test(I))&&(!Et||!Et.test(I)))try{var D=ye.call(T,I);if(D||f.disconnectedMatch||T.document&&T.document.nodeType!==11)return D}catch{ni(I,!0)}return se(I,V,null,[T]).length>0},se.contains=function(T,I){return(T.ownerDocument||T)!=V&&W(T),ii(T,I)},se.attr=function(T,I){(T.ownerDocument||T)!=V&&W(T);var D=p.attrHandle[I.toLowerCase()],z=D&&Qn.call(p.attrHandle,I.toLowerCase())?D(T,I,!Mt):void 0;return z!==void 0?z:f.attributes||!Mt?T.getAttribute(I):(z=T.getAttributeNode(I))&&z.specified?z.value:null},se.escape=function(T){return(T+"").replace(ef,nf)},se.error=function(T){throw new Error("Syntax error, unrecognized expression: "+T)},se.uniqueSort=function(T){var I,D=[],z=0,F=0;if(J=!f.detectDuplicates,B=!f.sortStable&&T.slice(0),T.sort(Jn),J){for(;I=T[F++];)I===T[F]&&(z=D.push(F));for(;z--;)T.splice(D[z],1)}return B=null,T},y=se.getText=function(T){var I,D="",z=0,F=T.nodeType;if(F){if(F===1||F===9||F===11){if(typeof T.textContent=="string")return T.textContent;for(T=T.firstChild;T;T=T.nextSibling)D+=y(T)}else if(F===3||F===4)return T.nodeValue}else for(;I=T[z++];)D+=y(I);return D},p=se.selectors={cacheLength:50,createPseudo:bi,match:Vo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(T){return T[1]=T[1].replace(Ji,Qi),T[3]=(T[3]||T[4]||T[5]||"").replace(Ji,Qi),T[2]==="~="&&(T[3]=" "+T[3]+" "),T.slice(0,4)},CHILD:function(T){return T[1]=T[1].toLowerCase(),T[1].slice(0,3)==="nth"?(T[3]||se.error(T[0]),T[4]=+(T[4]?T[5]+(T[6]||1):2*(T[3]==="even"||T[3]==="odd")),T[5]=+(T[7]+T[8]||T[3]==="odd")):T[3]&&se.error(T[0]),T},PSEUDO:function(T){var I,D=!T[6]&&T[2];return Vo.CHILD.test(T[0])?null:(T[3]?T[2]=T[4]||T[5]||"":D&&hy.test(D)&&(I=v(D,!0))&&(I=D.indexOf(")",D.length-I)-D.length)&&(T[0]=T[0].slice(0,I),T[2]=D.slice(0,I)),T.slice(0,3))}},filter:{TAG:function(T){var I=T.replace(Ji,Qi).toLowerCase();return T==="*"?function(){return!0}:function(D){return D.nodeName&&D.nodeName.toLowerCase()===I}},CLASS:function(T){var I=ge[T+" "];return I||(I=new RegExp("(^|"+te+")"+T+"("+te+"|$)"))&&ge(T,function(D){return I.test(typeof D.className=="string"&&D.className||typeof D.getAttribute<"u"&&D.getAttribute("class")||"")})},ATTR:function(T,I,D){return function(z){var F=se.attr(z,T);return F==null?I==="!=":I?(F+="",I==="="?F===D:I==="!="?F!==D:I==="^="?D&&F.indexOf(D)===0:I==="*="?D&&F.indexOf(D)>-1:I==="$="?D&&F.slice(-D.length)===D:I==="~="?(" "+F.replace(ly," ")+" ").indexOf(D)>-1:I==="|="?F===D||F.slice(0,D.length+1)===D+"-":!1):!0}},CHILD:function(T,I,D,z,F){var Y=T.slice(0,3)!=="nth",Q=T.slice(-4)!=="last",at=I==="of-type";return z===1&&F===0?function(dt){return!!dt.parentNode}:function(dt,bt,xt){var St,Bt,re,wt,Te,De,si=Y!==Q?"nextSibling":"previousSibling",de=dt.parentNode,Fr=at&&dt.nodeName.toLowerCase(),kr=!xt&&!at,ri=!1;if(de){if(Y){for(;si;){for(wt=dt;wt=wt[si];)if(at?wt.nodeName.toLowerCase()===Fr:wt.nodeType===1)return!1;De=si=T==="only"&&!De&&"nextSibling"}return!0}if(De=[Q?de.firstChild:de.lastChild],Q&&kr){for(wt=de,re=wt[ne]||(wt[ne]={}),Bt=re[wt.uniqueID]||(re[wt.uniqueID]={}),St=Bt[T]||[],Te=St[0]===Ke&&St[1],ri=Te&&St[2],wt=Te&&de.childNodes[Te];wt=++Te&&wt&&wt[si]||(ri=Te=0)||De.pop();)if(wt.nodeType===1&&++ri&&wt===dt){Bt[T]=[Ke,Te,ri];break}}else if(kr&&(wt=dt,re=wt[ne]||(wt[ne]={}),Bt=re[wt.uniqueID]||(re[wt.uniqueID]={}),St=Bt[T]||[],Te=St[0]===Ke&&St[1],ri=Te),ri===!1)for(;(wt=++Te&&wt&&wt[si]||(ri=Te=0)||De.pop())&&!((at?wt.nodeName.toLowerCase()===Fr:wt.nodeType===1)&&++ri&&(kr&&(re=wt[ne]||(wt[ne]={}),Bt=re[wt.uniqueID]||(re[wt.uniqueID]={}),Bt[T]=[Ke,ri]),wt===dt)););return ri-=F,ri===z||ri%z===0&&ri/z>=0}}},PSEUDO:function(T,I){var D,z=p.pseudos[T]||p.setFilters[T.toLowerCase()]||se.error("unsupported pseudo: "+T);return z[ne]?z(I):z.length>1?(D=[T,T,"",I],p.setFilters.hasOwnProperty(T.toLowerCase())?bi(function(F,Y){for(var Q,at=z(F,I),dt=at.length;dt--;)Q=ts(F,at[dt]),F[Q]=!(Y[Q]=at[dt])}):function(F){return z(F,0,D)}):z}},pseudos:{not:bi(function(T){var I=[],D=[],z=L(T.replace(Ho,"$1"));return z[ne]?bi(function(F,Y,Q,at){for(var dt,bt=z(F,null,at,[]),xt=F.length;xt--;)(dt=bt[xt])&&(F[xt]=!(Y[xt]=dt))}):function(F,Y,Q){return I[0]=F,z(I,null,Q,D),I[0]=null,!D.pop()}}),has:bi(function(T){return function(I){return se(T,I).length>0}}),contains:bi(function(T){return T=T.replace(Ji,Qi),function(I){return(I.textContent||y(I)).indexOf(T)>-1}}),lang:bi(function(T){return fy.test(T||"")||se.error("unsupported lang: "+T),T=T.replace(Ji,Qi).toLowerCase(),function(I){var D;do if(D=Mt?I.lang:I.getAttribute("xml:lang")||I.getAttribute("lang"))return D=D.toLowerCase(),D===T||D.indexOf(T+"-")===0;while((I=I.parentNode)&&I.nodeType===1);return!1}}),target:function(T){var I=a.location&&a.location.hash;return I&&I.slice(1)===T.id},root:function(T){return T===vt},focus:function(T){return T===V.activeElement&&(!V.hasFocus||V.hasFocus())&&!!(T.type||T.href||~T.tabIndex)},enabled:of(!1),disabled:of(!0),checked:function(T){var I=T.nodeName.toLowerCase();return I==="input"&&!!T.checked||I==="option"&&!!T.selected},selected:function(T){return T.parentNode&&T.parentNode.selectedIndex,T.selected===!0},empty:function(T){for(T=T.firstChild;T;T=T.nextSibling)if(T.nodeType<6)return!1;return!0},parent:function(T){return!p.pseudos.empty(T)},header:function(T){return py.test(T.nodeName)},input:function(T){return gy.test(T.nodeName)},button:function(T){var I=T.nodeName.toLowerCase();return I==="input"&&T.type==="button"||I==="button"},text:function(T){var I;return T.nodeName.toLowerCase()==="input"&&T.type==="text"&&((I=T.getAttribute("type"))==null||I.toLowerCase()==="text")},first:is(function(){return[0]}),last:is(function(T,I){return[I-1]}),eq:is(function(T,I,D){return[D<0?D+I:D]}),even:is(function(T,I){for(var D=0;D<I;D+=2)T.push(D);return T}),odd:is(function(T,I){for(var D=1;D<I;D+=2)T.push(D);return T}),lt:is(function(T,I,D){for(var z=D<0?D+I:D>I?I:D;--z>=0;)T.push(z);return T}),gt:is(function(T,I,D){for(var z=D<0?D+I:D;++z<I;)T.push(z);return T})}},p.pseudos.nth=p.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})p.pseudos[u]=yy(u);for(u in{submit:!0,reset:!0})p.pseudos[u]=Ey(u);function af(){}af.prototype=p.filters=p.pseudos,p.setFilters=new af,v=se.tokenize=function(T,I){var D,z,F,Y,Q,at,dt,bt=Pr[T+" "];if(bt)return I?0:bt.slice(0);for(Q=T,at=[],dt=p.preFilter;Q;){(!D||(z=cy.exec(Q)))&&(z&&(Q=Q.slice(z[0].length)||Q),at.push(F=[])),D=!1,(z=tf.exec(Q))&&(D=z.shift(),F.push({value:D,type:z[0].replace(Ho," ")}),Q=Q.slice(D.length));for(Y in p.filter)(z=Vo[Y].exec(Q))&&(!dt[Y]||(z=dt[Y](z)))&&(D=z.shift(),F.push({value:D,type:Y,matches:z}),Q=Q.slice(D.length));if(!D)break}return I?Q.length:Q?se.error(T):Pr(T,at).slice(0)};function Go(T){for(var I=0,D=T.length,z="";I<D;I++)z+=T[I].value;return z}function Yo(T,I,D){var z=I.dir,F=I.next,Y=F||z,Q=D&&Y==="parentNode",at=Xt++;return I.first?function(dt,bt,xt){for(;dt=dt[z];)if(dt.nodeType===1||Q)return T(dt,bt,xt);return!1}:function(dt,bt,xt){var St,Bt,re,wt=[Ke,at];if(xt){for(;dt=dt[z];)if((dt.nodeType===1||Q)&&T(dt,bt,xt))return!0}else for(;dt=dt[z];)if(dt.nodeType===1||Q)if(re=dt[ne]||(dt[ne]={}),Bt=re[dt.uniqueID]||(re[dt.uniqueID]={}),F&&F===dt.nodeName.toLowerCase())dt=dt[z]||dt;else{if((St=Bt[Y])&&St[0]===Ke&&St[1]===at)return wt[2]=St[2];if(Bt[Y]=wt,wt[2]=T(dt,bt,xt))return!0}return!1}}function Jl(T){return T.length>1?function(I,D,z){for(var F=T.length;F--;)if(!T[F](I,D,z))return!1;return!0}:T[0]}function vy(T,I,D){for(var z=0,F=I.length;z<F;z++)se(T,I[z],D);return D}function Xo(T,I,D,z,F){for(var Y,Q=[],at=0,dt=T.length,bt=I!=null;at<dt;at++)(Y=T[at])&&(!D||D(Y,z,F))&&(Q.push(Y),bt&&I.push(at));return Q}function Ql(T,I,D,z,F,Y){return z&&!z[ne]&&(z=Ql(z)),F&&!F[ne]&&(F=Ql(F,Y)),bi(function(Q,at,dt,bt){var xt,St,Bt,re=[],wt=[],Te=at.length,De=Q||vy(I||"*",dt.nodeType?[dt]:dt,[]),si=T&&(Q||!I)?Xo(De,re,T,dt,bt):De,de=D?F||(Q?T:Te||z)?[]:at:si;if(D&&D(si,de,dt,bt),z)for(xt=Xo(de,wt),z(xt,[],dt,bt),St=xt.length;St--;)(Bt=xt[St])&&(de[wt[St]]=!(si[wt[St]]=Bt));if(Q){if(F||T){if(F){for(xt=[],St=de.length;St--;)(Bt=de[St])&&xt.push(si[St]=Bt);F(null,de=[],xt,bt)}for(St=de.length;St--;)(Bt=de[St])&&(xt=F?ts(Q,Bt):re[St])>-1&&(Q[xt]=!(at[xt]=Bt))}}else de=Xo(de===at?de.splice(Te,de.length):de),F?F(null,at,de,bt):Cn.apply(at,de)})}function tc(T){for(var I,D,z,F=T.length,Y=p.relative[T[0].type],Q=Y||p.relative[" "],at=Y?1:0,dt=Yo(function(St){return St===I},Q,!0),bt=Yo(function(St){return ts(I,St)>-1},Q,!0),xt=[function(St,Bt,re){var wt=!Y&&(re||Bt!==k)||((I=Bt).nodeType?dt(St,Bt,re):bt(St,Bt,re));return I=null,wt}];at<F;at++)if(D=p.relative[T[at].type])xt=[Yo(Jl(xt),D)];else{if(D=p.filter[T[at].type].apply(null,T[at].matches),D[ne]){for(z=++at;z<F&&!p.relative[T[z].type];z++);return Ql(at>1&&Jl(xt),at>1&&Go(T.slice(0,at-1).concat({value:T[at-2].type===" "?"*":""})).replace(Ho,"$1"),D,at<z&&tc(T.slice(at,z)),z<F&&tc(T=T.slice(z)),z<F&&Go(T))}xt.push(D)}return Jl(xt)}function xy(T,I){var D=I.length>0,z=T.length>0,F=function(Y,Q,at,dt,bt){var xt,St,Bt,re=0,wt="0",Te=Y&&[],De=[],si=k,de=Y||z&&p.find.TAG("*",bt),Fr=Ke+=si==null?1:Math.random()||.1,kr=de.length;for(bt&&(k=Q==V||Q||bt);wt!==kr&&(xt=de[wt])!=null;wt++){if(z&&xt){for(St=0,!Q&&xt.ownerDocument!=V&&(W(xt),at=!Mt);Bt=T[St++];)if(Bt(xt,Q||V,at)){dt.push(xt);break}bt&&(Ke=Fr)}D&&((xt=!Bt&&xt)&&re--,Y&&Te.push(xt))}if(re+=wt,D&&wt!==re){for(St=0;Bt=I[St++];)Bt(Te,De,Q,at);if(Y){if(re>0)for(;wt--;)Te[wt]||De[wt]||(De[wt]=xn.call(dt));De=Xo(De)}Cn.apply(dt,De),bt&&!Y&&De.length>0&&re+I.length>1&&se.uniqueSort(dt)}return bt&&(Ke=Fr,k=si),Te};return D?bi(F):F}return L=se.compile=function(T,I){var D,z=[],F=[],Y=Bo[T+" "];if(!Y){for(I||(I=v(T)),D=I.length;D--;)Y=tc(I[D]),Y[ne]?z.push(Y):F.push(Y);Y=Bo(T,xy(F,z)),Y.selector=T}return Y},A=se.select=function(T,I,D,z){var F,Y,Q,at,dt,bt=typeof T=="function"&&T,xt=!z&&v(T=bt.selector||T);if(D=D||[],xt.length===1){if(Y=xt[0]=xt[0].slice(0),Y.length>2&&(Q=Y[0]).type==="ID"&&I.nodeType===9&&Mt&&p.relative[Y[1].type]){if(I=(p.find.ID(Q.matches[0].replace(Ji,Qi),I)||[])[0],I)bt&&(I=I.parentNode);else return D;T=T.slice(Y.shift().value.length)}for(F=Vo.needsContext.test(T)?0:Y.length;F--&&(Q=Y[F],!p.relative[at=Q.type]);)if((dt=p.find[at])&&(z=dt(Q.matches[0].replace(Ji,Qi),Ul.test(Y[0].type)&&Zl(I.parentNode)||I))){if(Y.splice(F,1),T=z.length&&Go(Y),!T)return Cn.apply(D,z),D;break}}return(bt||L(T,xt))(z,I,!Mt,D,!I||Ul.test(T)&&Zl(I.parentNode)||I),D},f.sortStable=ne.split("").sort(Jn).join("")===ne,f.detectDuplicates=!!J,W(),f.sortDetached=di(function(T){return T.compareDocumentPosition(V.createElement("fieldset"))&1}),di(function(T){return T.innerHTML="<a href='#'></a>",T.firstChild.getAttribute("href")==="#"})||ql("type|href|height|width",function(T,I,D){if(!D)return T.getAttribute(I,I.toLowerCase()==="type"?1:2)}),(!f.attributes||!di(function(T){return T.innerHTML="<input/>",T.firstChild.setAttribute("value",""),T.firstChild.getAttribute("value")===""}))&&ql("value",function(T,I,D){if(!D&&T.nodeName.toLowerCase()==="input")return T.defaultValue}),di(function(T){return T.getAttribute("disabled")==null})||ql(Xl,function(T,I,D){var z;if(!D)return T[I]===!0?I.toLowerCase():(z=T.getAttributeNode(I))&&z.specified?z.value:null}),se}(t);g.find=G,g.expr=G.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=G.uniqueSort,g.text=G.getText,g.isXMLDoc=G.isXML,g.contains=G.contains,g.escapeSelector=G.escape;var et=function(a,u,f){for(var p=[],y=f!==void 0;(a=a[u])&&a.nodeType!==9;)if(a.nodeType===1){if(y&&g(a).is(f))break;p.push(a)}return p},rt=function(a,u){for(var f=[];a;a=a.nextSibling)a.nodeType===1&&a!==u&&f.push(a);return f},mt=g.expr.match.needsContext;function gt(a,u){return a.nodeName&&a.nodeName.toLowerCase()===u.toLowerCase()}var _t=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Vt(a,u,f){return C(u)?g.grep(a,function(p,y){return!!u.call(p,y,p)!==f}):u.nodeType?g.grep(a,function(p){return p===u!==f}):typeof u!="string"?g.grep(a,function(p){return c.call(u,p)>-1!==f}):g.filter(u,a,f)}g.filter=function(a,u,f){var p=u[0];return f&&(a=":not("+a+")"),u.length===1&&p.nodeType===1?g.find.matchesSelector(p,a)?[p]:[]:g.find.matches(a,g.grep(u,function(y){return y.nodeType===1}))},g.fn.extend({find:function(a){var u,f,p=this.length,y=this;if(typeof a!="string")return this.pushStack(g(a).filter(function(){for(u=0;u<p;u++)if(g.contains(y[u],this))return!0}));for(f=this.pushStack([]),u=0;u<p;u++)g.find(a,y[u],f);return p>1?g.uniqueSort(f):f},filter:function(a){return this.pushStack(Vt(this,a||[],!1))},not:function(a){return this.pushStack(Vt(this,a||[],!0))},is:function(a){return!!Vt(this,typeof a=="string"&&mt.test(a)?g(a):a||[],!1).length}});var pt,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,q=g.fn.init=function(a,u,f){var p,y;if(!a)return this;if(f=f||pt,typeof a=="string")if(a[0]==="<"&&a[a.length-1]===">"&&a.length>=3?p=[null,a,null]:p=lt.exec(a),p&&(p[1]||!u))if(p[1]){if(u=u instanceof g?u[0]:u,g.merge(this,g.parseHTML(p[1],u&&u.nodeType?u.ownerDocument||u:w,!0)),_t.test(p[1])&&g.isPlainObject(u))for(p in u)C(this[p])?this[p](u[p]):this.attr(p,u[p]);return this}else return y=w.getElementById(p[2]),y&&(this[0]=y,this.length=1),this;else return!u||u.jquery?(u||f).find(a):this.constructor(u).find(a);else{if(a.nodeType)return this[0]=a,this.length=1,this;if(C(a))return f.ready!==void 0?f.ready(a):a(g)}return g.makeArray(a,this)};q.prototype=g.fn,pt=g(w);var ht=/^(?:parents|prev(?:Until|All))/,It={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(a){var u=g(a,this),f=u.length;return this.filter(function(){for(var p=0;p<f;p++)if(g.contains(this,u[p]))return!0})},closest:function(a,u){var f,p=0,y=this.length,E=[],v=typeof a!="string"&&g(a);if(!mt.test(a)){for(;p<y;p++)for(f=this[p];f&&f!==u;f=f.parentNode)if(f.nodeType<11&&(v?v.index(f)>-1:f.nodeType===1&&g.find.matchesSelector(f,a))){E.push(f);break}}return this.pushStack(E.length>1?g.uniqueSort(E):E)},index:function(a){return a?typeof a=="string"?c.call(g(a),this[0]):c.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,u){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(a,u))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}});function Nt(a,u){for(;(a=a[u])&&a.nodeType!==1;);return a}g.each({parent:function(a){var u=a.parentNode;return u&&u.nodeType!==11?u:null},parents:function(a){return et(a,"parentNode")},parentsUntil:function(a,u,f){return et(a,"parentNode",f)},next:function(a){return Nt(a,"nextSibling")},prev:function(a){return Nt(a,"previousSibling")},nextAll:function(a){return et(a,"nextSibling")},prevAll:function(a){return et(a,"previousSibling")},nextUntil:function(a,u,f){return et(a,"nextSibling",f)},prevUntil:function(a,u,f){return et(a,"previousSibling",f)},siblings:function(a){return rt((a.parentNode||{}).firstChild,a)},children:function(a){return rt(a.firstChild)},contents:function(a){return a.contentDocument!=null&&s(a.contentDocument)?a.contentDocument:(gt(a,"template")&&(a=a.content||a),g.merge([],a.childNodes))}},function(a,u){g.fn[a]=function(f,p){var y=g.map(this,u,f);return a.slice(-5)!=="Until"&&(p=f),p&&typeof p=="string"&&(y=g.filter(p,y)),this.length>1&&(It[a]||g.uniqueSort(y),ht.test(a)&&y.reverse()),this.pushStack(y)}});var Ft=/[^\x20\t\r\n\f]+/g;function K(a){var u={};return g.each(a.match(Ft)||[],function(f,p){u[p]=!0}),u}g.Callbacks=function(a){a=typeof a=="string"?K(a):g.extend({},a);var u,f,p,y,E=[],v=[],L=-1,A=function(){for(y=y||a.once,p=u=!0;v.length;L=-1)for(f=v.shift();++L<E.length;)E[L].apply(f[0],f[1])===!1&&a.stopOnFalse&&(L=E.length,f=!1);a.memory||(f=!1),u=!1,y&&(f?E=[]:E="")},k={add:function(){return E&&(f&&!u&&(L=E.length-1,v.push(f)),function B(J){g.each(J,function(W,V){C(V)?(!a.unique||!k.has(V))&&E.push(V):V&&V.length&&N(V)!=="string"&&B(V)})}(arguments),f&&!u&&A()),this},remove:function(){return g.each(arguments,function(B,J){for(var W;(W=g.inArray(J,E,W))>-1;)E.splice(W,1),W<=L&&L--}),this},has:function(B){return B?g.inArray(B,E)>-1:E.length>0},empty:function(){return E&&(E=[]),this},disable:function(){return y=v=[],E=f="",this},disabled:function(){return!E},lock:function(){return y=v=[],!f&&!u&&(E=f=""),this},locked:function(){return!!y},fireWith:function(B,J){return y||(J=J||[],J=[B,J.slice?J.slice():J],v.push(J),u||A()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!p}};return k};function ie(a){return a}function Dt(a){throw a}function kt(a,u,f,p){var y;try{a&&C(y=a.promise)?y.call(a).done(u).fail(f):a&&C(y=a.then)?y.call(a,u,f):u.apply(void 0,[a].slice(p))}catch(E){f.apply(void 0,[E])}}g.extend({Deferred:function(a){var u=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],f="pending",p={state:function(){return f},always:function(){return y.done(arguments).fail(arguments),this},catch:function(E){return p.then(null,E)},pipe:function(){var E=arguments;return g.Deferred(function(v){g.each(u,function(L,A){var k=C(E[A[4]])&&E[A[4]];y[A[1]](function(){var B=k&&k.apply(this,arguments);B&&C(B.promise)?B.promise().progress(v.notify).done(v.resolve).fail(v.reject):v[A[0]+"With"](this,k?[B]:arguments)})}),E=null}).promise()},then:function(E,v,L){var A=0;function k(B,J,W,V){return function(){var vt=this,Mt=arguments,Et=function(){var ye,ii;if(!(B<A)){if(ye=W.apply(vt,Mt),ye===J.promise())throw new TypeError("Thenable self-resolution");ii=ye&&(typeof ye=="object"||typeof ye=="function")&&ye.then,C(ii)?V?ii.call(ye,k(A,J,ie,V),k(A,J,Dt,V)):(A++,ii.call(ye,k(A,J,ie,V),k(A,J,Dt,V),k(A,J,ie,J.notifyWith))):(W!==ie&&(vt=void 0,Mt=[ye]),(V||J.resolveWith)(vt,Mt))}},Ce=V?Et:function(){try{Et()}catch(ye){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(ye,Ce.stackTrace),B+1>=A&&(W!==Dt&&(vt=void 0,Mt=[ye]),J.rejectWith(vt,Mt))}};B?Ce():(g.Deferred.getStackHook&&(Ce.stackTrace=g.Deferred.getStackHook()),t.setTimeout(Ce))}}return g.Deferred(function(B){u[0][3].add(k(0,B,C(L)?L:ie,B.notifyWith)),u[1][3].add(k(0,B,C(E)?E:ie)),u[2][3].add(k(0,B,C(v)?v:Dt))}).promise()},promise:function(E){return E!=null?g.extend(E,p):p}},y={};return g.each(u,function(E,v){var L=v[2],A=v[5];p[v[1]]=L.add,A&&L.add(function(){f=A},u[3-E][2].disable,u[3-E][3].disable,u[0][2].lock,u[0][3].lock),L.add(v[3].fire),y[v[0]]=function(){return y[v[0]+"With"](this===y?void 0:this,arguments),this},y[v[0]+"With"]=L.fireWith}),p.promise(y),a&&a.call(y,y),y},when:function(a){var u=arguments.length,f=u,p=Array(f),y=r.call(arguments),E=g.Deferred(),v=function(L){return function(A){p[L]=this,y[L]=arguments.length>1?r.call(arguments):A,--u||E.resolveWith(p,y)}};if(u<=1&&(kt(a,E.done(v(f)).resolve,E.reject,!u),E.state()==="pending"||C(y[f]&&y[f].then)))return E.then();for(;f--;)kt(y[f],v(f),E.reject);return E.promise()}});var oe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(a,u){t.console&&t.console.warn&&a&&oe.test(a.name)&&t.console.warn("jQuery.Deferred exception: "+a.message,a.stack,u)},g.readyException=function(a){t.setTimeout(function(){throw a})};var he=g.Deferred();g.fn.ready=function(a){return he.then(a).catch(function(u){g.readyException(u)}),this},g.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--g.readyWait:g.isReady)||(g.isReady=!0,!(a!==!0&&--g.readyWait>0)&&he.resolveWith(w,[g]))}}),g.ready.then=he.then;function Yt(){w.removeEventListener("DOMContentLoaded",Yt),t.removeEventListener("load",Yt),g.ready()}w.readyState==="complete"||w.readyState!=="loading"&&!w.documentElement.doScroll?t.setTimeout(g.ready):(w.addEventListener("DOMContentLoaded",Yt),t.addEventListener("load",Yt));var Jt=function(a,u,f,p,y,E,v){var L=0,A=a.length,k=f==null;if(N(f)==="object"){y=!0;for(L in f)Jt(a,u,L,f[L],!0,E,v)}else if(p!==void 0&&(y=!0,C(p)||(v=!0),k&&(v?(u.call(a,p),u=null):(k=u,u=function(B,J,W){return k.call(g(B),W)})),u))for(;L<A;L++)u(a[L],f,v?p:p.call(a[L],L,u(a[L],f)));return y?a:k?u.call(a):A?u(a[0],f):E},ze=/^-ms-/,Ge=/-([a-z])/g;function R(a,u){return u.toUpperCase()}function O(a){return a.replace(ze,"ms-").replace(Ge,R)}var H=function(a){return a.nodeType===1||a.nodeType===9||!+a.nodeType};function X(){this.expando=g.expando+X.uid++}X.uid=1,X.prototype={cache:function(a){var u=a[this.expando];return u||(u={},H(a)&&(a.nodeType?a[this.expando]=u:Object.defineProperty(a,this.expando,{value:u,configurable:!0}))),u},set:function(a,u,f){var p,y=this.cache(a);if(typeof u=="string")y[O(u)]=f;else for(p in u)y[O(p)]=u[p];return y},get:function(a,u){return u===void 0?this.cache(a):a[this.expando]&&a[this.expando][O(u)]},access:function(a,u,f){return u===void 0||u&&typeof u=="string"&&f===void 0?this.get(a,u):(this.set(a,u,f),f!==void 0?f:u)},remove:function(a,u){var f,p=a[this.expando];if(p!==void 0){if(u!==void 0)for(Array.isArray(u)?u=u.map(O):(u=O(u),u=u in p?[u]:u.match(Ft)||[]),f=u.length;f--;)delete p[u[f]];(u===void 0||g.isEmptyObject(p))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var u=a[this.expando];return u!==void 0&&!g.isEmptyObject(u)}};var $=new X,Z=new X,ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,st=/[A-Z]/g;function nt(a){return a==="true"?!0:a==="false"?!1:a==="null"?null:a===+a+""?+a:ct.test(a)?JSON.parse(a):a}function U(a,u,f){var p;if(f===void 0&&a.nodeType===1)if(p="data-"+u.replace(st,"-$&").toLowerCase(),f=a.getAttribute(p),typeof f=="string"){try{f=nt(f)}catch{}Z.set(a,u,f)}else f=void 0;return f}g.extend({hasData:function(a){return Z.hasData(a)||$.hasData(a)},data:function(a,u,f){return Z.access(a,u,f)},removeData:function(a,u){Z.remove(a,u)},_data:function(a,u,f){return $.access(a,u,f)},_removeData:function(a,u){$.remove(a,u)}}),g.fn.extend({data:function(a,u){var f,p,y,E=this[0],v=E&&E.attributes;if(a===void 0){if(this.length&&(y=Z.get(E),E.nodeType===1&&!$.get(E,"hasDataAttrs"))){for(f=v.length;f--;)v[f]&&(p=v[f].name,p.indexOf("data-")===0&&(p=O(p.slice(5)),U(E,p,y[p])));$.set(E,"hasDataAttrs",!0)}return y}return typeof a=="object"?this.each(function(){Z.set(this,a)}):Jt(this,function(L){var A;if(E&&L===void 0)return A=Z.get(E,a),A!==void 0||(A=U(E,a),A!==void 0)?A:void 0;this.each(function(){Z.set(this,a,L)})},null,u,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Z.remove(this,a)})}}),g.extend({queue:function(a,u,f){var p;if(a)return u=(u||"fx")+"queue",p=$.get(a,u),f&&(!p||Array.isArray(f)?p=$.access(a,u,g.makeArray(f)):p.push(f)),p||[]},dequeue:function(a,u){u=u||"fx";var f=g.queue(a,u),p=f.length,y=f.shift(),E=g._queueHooks(a,u),v=function(){g.dequeue(a,u)};y==="inprogress"&&(y=f.shift(),p--),y&&(u==="fx"&&f.unshift("inprogress"),delete E.stop,y.call(a,v,E)),!p&&E&&E.empty.fire()},_queueHooks:function(a,u){var f=u+"queueHooks";return $.get(a,f)||$.access(a,f,{empty:g.Callbacks("once memory").add(function(){$.remove(a,[u+"queue",f])})})}}),g.fn.extend({queue:function(a,u){var f=2;return typeof a!="string"&&(u=a,a="fx",f--),arguments.length<f?g.queue(this[0],a):u===void 0?this:this.each(function(){var p=g.queue(this,a,u);g._queueHooks(this,a),a==="fx"&&p[0]!=="inprogress"&&g.dequeue(this,a)})},dequeue:function(a){return this.each(function(){g.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,u){var f,p=1,y=g.Deferred(),E=this,v=this.length,L=function(){--p||y.resolveWith(E,[E])};for(typeof a!="string"&&(u=a,a=void 0),a=a||"fx";v--;)f=$.get(E[v],a+"queueHooks"),f&&f.empty&&(p++,f.empty.add(L));return L(),y.promise(u)}});var ft=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+ft+")([a-z%]*)$","i"),ut=["Top","Right","Bottom","Left"],yt=w.documentElement,Ct=function(a){return g.contains(a.ownerDocument,a)},jt={composed:!0};yt.getRootNode&&(Ct=function(a){return g.contains(a.ownerDocument,a)||a.getRootNode(jt)===a.ownerDocument});var Lt=function(a,u){return a=u||a,a.style.display==="none"||a.style.display===""&&Ct(a)&&g.css(a,"display")==="none"};function Qt(a,u,f,p){var y,E,v=20,L=p?function(){return p.cur()}:function(){return g.css(a,u,"")},A=L(),k=f&&f[3]||(g.cssNumber[u]?"":"px"),B=a.nodeType&&(g.cssNumber[u]||k!=="px"&&+A)&&ot.exec(g.css(a,u));if(B&&B[3]!==k){for(A=A/2,k=k||B[3],B=+A||1;v--;)g.style(a,u,B+k),(1-E)*(1-(E=L()/A||.5))<=0&&(v=0),B=B/E;B=B*2,g.style(a,u,B+k),f=f||[]}return f&&(B=+B||+A||0,y=f[1]?B+(f[1]+1)*f[2]:+f[2],p&&(p.unit=k,p.start=B,p.end=y)),y}var ve={};function fe(a){var u,f=a.ownerDocument,p=a.nodeName,y=ve[p];return y||(u=f.body.appendChild(f.createElement(p)),y=g.css(u,"display"),u.parentNode.removeChild(u),y==="none"&&(y="block"),ve[p]=y,y)}function ti(a,u){for(var f,p,y=[],E=0,v=a.length;E<v;E++)p=a[E],p.style&&(f=p.style.display,u?(f==="none"&&(y[E]=$.get(p,"display")||null,y[E]||(p.style.display="")),p.style.display===""&&Lt(p)&&(y[E]=fe(p))):f!=="none"&&(y[E]="none",$.set(p,"display",f)));for(E=0;E<v;E++)y[E]!=null&&(a[E].style.display=y[E]);return a}g.fn.extend({show:function(){return ti(this,!0)},hide:function(){return ti(this)},toggle:function(a){return typeof a=="boolean"?a?this.show():this.hide():this.each(function(){Lt(this)?g(this).show():g(this).hide()})}});var ei=/^(?:checkbox|radio)$/i,Kn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,xe=/^$|^module$|\/(?:java|ecma)script/i;(function(){var a=w.createDocumentFragment(),u=a.appendChild(w.createElement("div")),f=w.createElement("input");f.setAttribute("type","radio"),f.setAttribute("checked","checked"),f.setAttribute("name","t"),u.appendChild(f),b.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,u.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!u.cloneNode(!0).lastChild.defaultValue,u.innerHTML="<option></option>",b.option=!!u.lastChild})();var ae={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ae.tbody=ae.tfoot=ae.colgroup=ae.caption=ae.thead,ae.th=ae.td,b.option||(ae.optgroup=ae.option=[1,"<select multiple='multiple'>","</select>"]);function me(a,u){var f;return typeof a.getElementsByTagName<"u"?f=a.getElementsByTagName(u||"*"):typeof a.querySelectorAll<"u"?f=a.querySelectorAll(u||"*"):f=[],u===void 0||u&&gt(a,u)?g.merge([a],f):f}function Ms(a,u){for(var f=0,p=a.length;f<p;f++)$.set(a[f],"globalEval",!u||$.get(u[f],"globalEval"))}var Rr=/<|&#?\w+;/;function En(a,u,f,p,y){for(var E,v,L,A,k,B,J=u.createDocumentFragment(),W=[],V=0,vt=a.length;V<vt;V++)if(E=a[V],E||E===0)if(N(E)==="object")g.merge(W,E.nodeType?[E]:E);else if(!Rr.test(E))W.push(u.createTextNode(E));else{for(v=v||J.appendChild(u.createElement("div")),L=(Kn.exec(E)||["",""])[1].toLowerCase(),A=ae[L]||ae._default,v.innerHTML=A[1]+g.htmlPrefilter(E)+A[2],B=A[0];B--;)v=v.lastChild;g.merge(W,v.childNodes),v=J.firstChild,v.textContent=""}for(J.textContent="",V=0;E=W[V++];){if(p&&g.inArray(E,p)>-1){y&&y.push(E);continue}if(k=Ct(E),v=me(J.appendChild(E),"script"),k&&Ms(v),f)for(B=0;E=v[B++];)xe.test(E.type||"")&&f.push(E)}return J}var vn=/^([^.]*)(?:\.(.+)|)/;function ui(){return!0}function Zi(){return!1}function ko(a,u){return a===$e()==(u==="focus")}function $e(){try{return w.activeElement}catch{}}function Fi(a,u,f,p,y,E){var v,L;if(typeof u=="object"){typeof f!="string"&&(p=p||f,f=void 0);for(L in u)Fi(a,L,f,p,u[L],E);return a}if(p==null&&y==null?(y=f,p=f=void 0):y==null&&(typeof f=="string"?(y=p,p=void 0):(y=p,p=f,f=void 0)),y===!1)y=Zi;else if(!y)return a;return E===1&&(v=y,y=function(A){return g().off(A),v.apply(this,arguments)},y.guid=v.guid||(v.guid=g.guid++)),a.each(function(){g.event.add(this,u,y,p,f)})}g.event={global:{},add:function(a,u,f,p,y){var E,v,L,A,k,B,J,W,V,vt,Mt,Et=$.get(a);if(!!H(a))for(f.handler&&(E=f,f=E.handler,y=E.selector),y&&g.find.matchesSelector(yt,y),f.guid||(f.guid=g.guid++),(A=Et.events)||(A=Et.events=Object.create(null)),(v=Et.handle)||(v=Et.handle=function(Ce){return typeof g<"u"&&g.event.triggered!==Ce.type?g.event.dispatch.apply(a,arguments):void 0}),u=(u||"").match(Ft)||[""],k=u.length;k--;)L=vn.exec(u[k])||[],V=Mt=L[1],vt=(L[2]||"").split(".").sort(),V&&(J=g.event.special[V]||{},V=(y?J.delegateType:J.bindType)||V,J=g.event.special[V]||{},B=g.extend({type:V,origType:Mt,data:p,handler:f,guid:f.guid,selector:y,needsContext:y&&g.expr.match.needsContext.test(y),namespace:vt.join(".")},E),(W=A[V])||(W=A[V]=[],W.delegateCount=0,(!J.setup||J.setup.call(a,p,vt,v)===!1)&&a.addEventListener&&a.addEventListener(V,v)),J.add&&(J.add.call(a,B),B.handler.guid||(B.handler.guid=f.guid)),y?W.splice(W.delegateCount++,0,B):W.push(B),g.event.global[V]=!0)},remove:function(a,u,f,p,y){var E,v,L,A,k,B,J,W,V,vt,Mt,Et=$.hasData(a)&&$.get(a);if(!(!Et||!(A=Et.events))){for(u=(u||"").match(Ft)||[""],k=u.length;k--;){if(L=vn.exec(u[k])||[],V=Mt=L[1],vt=(L[2]||"").split(".").sort(),!V){for(V in A)g.event.remove(a,V+u[k],f,p,!0);continue}for(J=g.event.special[V]||{},V=(p?J.delegateType:J.bindType)||V,W=A[V]||[],L=L[2]&&new RegExp("(^|\\.)"+vt.join("\\.(?:.*\\.|)")+"(\\.|$)"),v=E=W.length;E--;)B=W[E],(y||Mt===B.origType)&&(!f||f.guid===B.guid)&&(!L||L.test(B.namespace))&&(!p||p===B.selector||p==="**"&&B.selector)&&(W.splice(E,1),B.selector&&W.delegateCount--,J.remove&&J.remove.call(a,B));v&&!W.length&&((!J.teardown||J.teardown.call(a,vt,Et.handle)===!1)&&g.removeEvent(a,V,Et.handle),delete A[V])}g.isEmptyObject(A)&&$.remove(a,"handle events")}},dispatch:function(a){var u,f,p,y,E,v,L=new Array(arguments.length),A=g.event.fix(a),k=($.get(this,"events")||Object.create(null))[A.type]||[],B=g.event.special[A.type]||{};for(L[0]=A,u=1;u<arguments.length;u++)L[u]=arguments[u];if(A.delegateTarget=this,!(B.preDispatch&&B.preDispatch.call(this,A)===!1)){for(v=g.event.handlers.call(this,A,k),u=0;(y=v[u++])&&!A.isPropagationStopped();)for(A.currentTarget=y.elem,f=0;(E=y.handlers[f++])&&!A.isImmediatePropagationStopped();)(!A.rnamespace||E.namespace===!1||A.rnamespace.test(E.namespace))&&(A.handleObj=E,A.data=E.data,p=((g.event.special[E.origType]||{}).handle||E.handler).apply(y.elem,L),p!==void 0&&(A.result=p)===!1&&(A.preventDefault(),A.stopPropagation()));return B.postDispatch&&B.postDispatch.call(this,A),A.result}},handlers:function(a,u){var f,p,y,E,v,L=[],A=u.delegateCount,k=a.target;if(A&&k.nodeType&&!(a.type==="click"&&a.button>=1)){for(;k!==this;k=k.parentNode||this)if(k.nodeType===1&&!(a.type==="click"&&k.disabled===!0)){for(E=[],v={},f=0;f<A;f++)p=u[f],y=p.selector+" ",v[y]===void 0&&(v[y]=p.needsContext?g(y,this).index(k)>-1:g.find(y,this,null,[k]).length),v[y]&&E.push(p);E.length&&L.push({elem:k,handlers:E})}}return k=this,A<u.length&&L.push({elem:k,handlers:u.slice(A)}),L},addProp:function(a,u){Object.defineProperty(g.Event.prototype,a,{enumerable:!0,configurable:!0,get:C(u)?function(){if(this.originalEvent)return u(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(f){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:f})}})},fix:function(a){return a[g.expando]?a:new g.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){var u=this||a;return ei.test(u.type)&&u.click&&gt(u,"input")&&Ie(u,"click",ui),!1},trigger:function(a){var u=this||a;return ei.test(u.type)&&u.click&&gt(u,"input")&&Ie(u,"click"),!0},_default:function(a){var u=a.target;return ei.test(u.type)&&u.click&&gt(u,"input")&&$.get(u,"click")||gt(u,"a")}},beforeunload:{postDispatch:function(a){a.result!==void 0&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};function Ie(a,u,f){if(!f){$.get(a,u)===void 0&&g.event.add(a,u,ui);return}$.set(a,u,!1),g.event.add(a,u,{namespace:!1,handler:function(p){var y,E,v=$.get(this,u);if(p.isTrigger&1&&this[u]){if(v.length)(g.event.special[u]||{}).delegateType&&p.stopPropagation();else if(v=r.call(arguments),$.set(this,u,v),y=f(this,u),this[u](),E=$.get(this,u),v!==E||y?$.set(this,u,!1):E={},v!==E)return p.stopImmediatePropagation(),p.preventDefault(),E&&E.value}else v.length&&($.set(this,u,{value:g.event.trigger(g.extend(v[0],g.Event.prototype),v.slice(1),this)}),p.stopImmediatePropagation())}})}g.removeEvent=function(a,u,f){a.removeEventListener&&a.removeEventListener(u,f)},g.Event=function(a,u){if(!(this instanceof g.Event))return new g.Event(a,u);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===void 0&&a.returnValue===!1?ui:Zi,this.target=a.target&&a.target.nodeType===3?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,u&&g.extend(this,u),this.timeStamp=a&&a.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:Zi,isPropagationStopped:Zi,isImmediatePropagationStopped:Zi,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ui,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ui,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ui,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(a,u){g.event.special[a]={setup:function(){return Ie(this,a,ko),!1},trigger:function(){return Ie(this,a),!0},_default:function(f){return $.get(f.target,a)},delegateType:u}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,u){g.event.special[a]={delegateType:u,bindType:u,handle:function(f){var p,y=this,E=f.relatedTarget,v=f.handleObj;return(!E||E!==y&&!g.contains(y,E))&&(f.type=v.origType,p=v.handler.apply(this,arguments),f.type=u),p}}}),g.fn.extend({on:function(a,u,f,p){return Fi(this,a,u,f,p)},one:function(a,u,f,p){return Fi(this,a,u,f,p,1)},off:function(a,u,f){var p,y;if(a&&a.preventDefault&&a.handleObj)return p=a.handleObj,g(a.delegateTarget).off(p.namespace?p.origType+"."+p.namespace:p.origType,p.selector,p.handler),this;if(typeof a=="object"){for(y in a)this.off(y,u,a[y]);return this}return(u===!1||typeof u=="function")&&(f=u,u=void 0),f===!1&&(f=Zi),this.each(function(){g.event.remove(this,a,f,u)})}});var Ci=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,Ps=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Un(a,u){return gt(a,"table")&&gt(u.nodeType!==11?u:u.firstChild,"tr")&&g(a).children("tbody")[0]||a}function Oe(a){return a.type=(a.getAttribute("type")!==null)+"/"+a.type,a}function Ye(a){return(a.type||"").slice(0,5)==="true/"?a.type=a.type.slice(5):a.removeAttribute("type"),a}function hi(a,u){var f,p,y,E,v,L,A;if(u.nodeType===1){if($.hasData(a)&&(E=$.get(a),A=E.events,A)){$.remove(u,"handle events");for(y in A)for(f=0,p=A[y].length;f<p;f++)g.event.add(u,y,A[y][f])}Z.hasData(a)&&(v=Z.access(a),L=g.extend({},v),Z.set(u,L))}}function Pl(a,u){var f=u.nodeName.toLowerCase();f==="input"&&ei.test(a.type)?u.checked=a.checked:(f==="input"||f==="textarea")&&(u.defaultValue=a.defaultValue)}function Ns(a,u,f,p){u=o(u);var y,E,v,L,A,k,B=0,J=a.length,W=J-1,V=u[0],vt=C(V);if(vt||J>1&&typeof V=="string"&&!b.checkClone&&We.test(V))return a.each(function(Mt){var Et=a.eq(Mt);vt&&(u[0]=V.call(this,Mt,Et.html())),Ns(Et,u,f,p)});if(J&&(y=En(u,a[0].ownerDocument,!1,a,p),E=y.firstChild,y.childNodes.length===1&&(y=E),E||p)){for(v=g.map(me(y,"script"),Oe),L=v.length;B<J;B++)A=y,B!==W&&(A=g.clone(A,!0,!0),L&&g.merge(v,me(A,"script"))),f.call(a[B],A,B);if(L)for(k=v[v.length-1].ownerDocument,g.map(v,Ye),B=0;B<L;B++)A=v[B],xe.test(A.type||"")&&!$.access(A,"globalEval")&&g.contains(k,A)&&(A.src&&(A.type||"").toLowerCase()!=="module"?g._evalUrl&&!A.noModule&&g._evalUrl(A.src,{nonce:A.nonce||A.getAttribute("nonce")},k):P(A.textContent.replace(Ps,""),A,k))}return a}function Lh(a,u,f){for(var p,y=u?g.filter(u,a):a,E=0;(p=y[E])!=null;E++)!f&&p.nodeType===1&&g.cleanData(me(p)),p.parentNode&&(f&&Ct(p)&&Ms(me(p,"script")),p.parentNode.removeChild(p));return a}g.extend({htmlPrefilter:function(a){return a},clone:function(a,u,f){var p,y,E,v,L=a.cloneNode(!0),A=Ct(a);if(!b.noCloneChecked&&(a.nodeType===1||a.nodeType===11)&&!g.isXMLDoc(a))for(v=me(L),E=me(a),p=0,y=E.length;p<y;p++)Pl(E[p],v[p]);if(u)if(f)for(E=E||me(a),v=v||me(L),p=0,y=E.length;p<y;p++)hi(E[p],v[p]);else hi(a,L);return v=me(L,"script"),v.length>0&&Ms(v,!A&&me(a,"script")),L},cleanData:function(a){for(var u,f,p,y=g.event.special,E=0;(f=a[E])!==void 0;E++)if(H(f)){if(u=f[$.expando]){if(u.events)for(p in u.events)y[p]?g.event.remove(f,p):g.removeEvent(f,p,u.handle);f[$.expando]=void 0}f[Z.expando]&&(f[Z.expando]=void 0)}}}),g.fn.extend({detach:function(a){return Lh(this,a,!0)},remove:function(a){return Lh(this,a)},text:function(a){return Jt(this,function(u){return u===void 0?g.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=u)})},null,a,arguments.length)},append:function(){return Ns(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var u=Un(this,a);u.appendChild(a)}})},prepend:function(){return Ns(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var u=Un(this,a);u.insertBefore(a,u.firstChild)}})},before:function(){return Ns(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ns(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,u=0;(a=this[u])!=null;u++)a.nodeType===1&&(g.cleanData(me(a,!1)),a.textContent="");return this},clone:function(a,u){return a=a==null?!1:a,u=u==null?a:u,this.map(function(){return g.clone(this,a,u)})},html:function(a){return Jt(this,function(u){var f=this[0]||{},p=0,y=this.length;if(u===void 0&&f.nodeType===1)return f.innerHTML;if(typeof u=="string"&&!Ci.test(u)&&!ae[(Kn.exec(u)||["",""])[1].toLowerCase()]){u=g.htmlPrefilter(u);try{for(;p<y;p++)f=this[p]||{},f.nodeType===1&&(g.cleanData(me(f,!1)),f.innerHTML=u);f=0}catch{}}f&&this.empty().append(u)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ns(this,arguments,function(u){var f=this.parentNode;g.inArray(this,a)<0&&(g.cleanData(me(this)),f&&f.replaceChild(u,this))},a)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,u){g.fn[a]=function(f){for(var p,y=[],E=g(f),v=E.length-1,L=0;L<=v;L++)p=L===v?this:this.clone(!0),g(E[L])[u](p),l.apply(y,p.get());return this.pushStack(y)}});var Nl=new RegExp("^("+ft+")(?!px)[a-z%]+$","i"),Fl=/^--/,$o=function(a){var u=a.ownerDocument.defaultView;return(!u||!u.opener)&&(u=t),u.getComputedStyle(a)},Oh=function(a,u,f){var p,y,E={};for(y in u)E[y]=a.style[y],a.style[y]=u[y];p=f.call(a);for(y in u)a.style[y]=E[y];return p},Pm=new RegExp(ut.join("|"),"i"),Dh="[\\x20\\t\\r\\n\\f]",Nm=new RegExp("^"+Dh+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Dh+"+$","g");(function(){function a(){if(!!k){A.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",k.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",yt.appendChild(A).appendChild(k);var B=t.getComputedStyle(k);f=B.top!=="1%",L=u(B.marginLeft)===12,k.style.right="60%",E=u(B.right)===36,p=u(B.width)===36,k.style.position="absolute",y=u(k.offsetWidth/3)===12,yt.removeChild(A),k=null}}function u(B){return Math.round(parseFloat(B))}var f,p,y,E,v,L,A=w.createElement("div"),k=w.createElement("div");!k.style||(k.style.backgroundClip="content-box",k.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle=k.style.backgroundClip==="content-box",g.extend(b,{boxSizingReliable:function(){return a(),p},pixelBoxStyles:function(){return a(),E},pixelPosition:function(){return a(),f},reliableMarginLeft:function(){return a(),L},scrollboxSize:function(){return a(),y},reliableTrDimensions:function(){var B,J,W,V;return v==null&&(B=w.createElement("table"),J=w.createElement("tr"),W=w.createElement("div"),B.style.cssText="position:absolute;left:-11111px;border-collapse:separate",J.style.cssText="border:1px solid",J.style.height="1px",W.style.height="9px",W.style.display="block",yt.appendChild(B).appendChild(J).appendChild(W),V=t.getComputedStyle(J),v=parseInt(V.height,10)+parseInt(V.borderTopWidth,10)+parseInt(V.borderBottomWidth,10)===J.offsetHeight,yt.removeChild(B)),v}}))})();function Lr(a,u,f){var p,y,E,v,L=Fl.test(u),A=a.style;return f=f||$o(a),f&&(v=f.getPropertyValue(u)||f[u],L&&v&&(v=v.replace(Nm,"$1")||void 0),v===""&&!Ct(a)&&(v=g.style(a,u)),!b.pixelBoxStyles()&&Nl.test(v)&&Pm.test(u)&&(p=A.width,y=A.minWidth,E=A.maxWidth,A.minWidth=A.maxWidth=A.width=v,v=f.width,A.width=p,A.minWidth=y,A.maxWidth=E)),v!==void 0?v+"":v}function Mh(a,u){return{get:function(){if(a()){delete this.get;return}return(this.get=u).apply(this,arguments)}}}var Ph=["Webkit","Moz","ms"],Nh=w.createElement("div").style,Fh={};function Fm(a){for(var u=a[0].toUpperCase()+a.slice(1),f=Ph.length;f--;)if(a=Ph[f]+u,a in Nh)return a}function kl(a){var u=g.cssProps[a]||Fh[a];return u||(a in Nh?a:Fh[a]=Fm(a)||a)}var km=/^(none|table(?!-c[ea]).+)/,$m={position:"absolute",visibility:"hidden",display:"block"},kh={letterSpacing:"0",fontWeight:"400"};function $h(a,u,f){var p=ot.exec(u);return p?Math.max(0,p[2]-(f||0))+(p[3]||"px"):u}function $l(a,u,f,p,y,E){var v=u==="width"?1:0,L=0,A=0;if(f===(p?"border":"content"))return 0;for(;v<4;v+=2)f==="margin"&&(A+=g.css(a,f+ut[v],!0,y)),p?(f==="content"&&(A-=g.css(a,"padding"+ut[v],!0,y)),f!=="margin"&&(A-=g.css(a,"border"+ut[v]+"Width",!0,y))):(A+=g.css(a,"padding"+ut[v],!0,y),f!=="padding"?A+=g.css(a,"border"+ut[v]+"Width",!0,y):L+=g.css(a,"border"+ut[v]+"Width",!0,y));return!p&&E>=0&&(A+=Math.max(0,Math.ceil(a["offset"+u[0].toUpperCase()+u.slice(1)]-E-A-L-.5))||0),A}function Wh(a,u,f){var p=$o(a),y=!b.boxSizingReliable()||f,E=y&&g.css(a,"boxSizing",!1,p)==="border-box",v=E,L=Lr(a,u,p),A="offset"+u[0].toUpperCase()+u.slice(1);if(Nl.test(L)){if(!f)return L;L="auto"}return(!b.boxSizingReliable()&&E||!b.reliableTrDimensions()&&gt(a,"tr")||L==="auto"||!parseFloat(L)&&g.css(a,"display",!1,p)==="inline")&&a.getClientRects().length&&(E=g.css(a,"boxSizing",!1,p)==="border-box",v=A in a,v&&(L=a[A])),L=parseFloat(L)||0,L+$l(a,u,f||(E?"border":"content"),v,p,L)+"px"}g.extend({cssHooks:{opacity:{get:function(a,u){if(u){var f=Lr(a,"opacity");return f===""?"1":f}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(a,u,f,p){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var y,E,v,L=O(u),A=Fl.test(u),k=a.style;if(A||(u=kl(L)),v=g.cssHooks[u]||g.cssHooks[L],f!==void 0){if(E=typeof f,E==="string"&&(y=ot.exec(f))&&y[1]&&(f=Qt(a,u,y),E="number"),f==null||f!==f)return;E==="number"&&!A&&(f+=y&&y[3]||(g.cssNumber[L]?"":"px")),!b.clearCloneStyle&&f===""&&u.indexOf("background")===0&&(k[u]="inherit"),(!v||!("set"in v)||(f=v.set(a,f,p))!==void 0)&&(A?k.setProperty(u,f):k[u]=f)}else return v&&"get"in v&&(y=v.get(a,!1,p))!==void 0?y:k[u]}},css:function(a,u,f,p){var y,E,v,L=O(u),A=Fl.test(u);return A||(u=kl(L)),v=g.cssHooks[u]||g.cssHooks[L],v&&"get"in v&&(y=v.get(a,!0,f)),y===void 0&&(y=Lr(a,u,p)),y==="normal"&&u in kh&&(y=kh[u]),f===""||f?(E=parseFloat(y),f===!0||isFinite(E)?E||0:y):y}}),g.each(["height","width"],function(a,u){g.cssHooks[u]={get:function(f,p,y){if(p)return km.test(g.css(f,"display"))&&(!f.getClientRects().length||!f.getBoundingClientRect().width)?Oh(f,$m,function(){return Wh(f,u,y)}):Wh(f,u,y)},set:function(f,p,y){var E,v=$o(f),L=!b.scrollboxSize()&&v.position==="absolute",A=L||y,k=A&&g.css(f,"boxSizing",!1,v)==="border-box",B=y?$l(f,u,y,k,v):0;return k&&L&&(B-=Math.ceil(f["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(v[u])-$l(f,u,"border",!1,v)-.5)),B&&(E=ot.exec(p))&&(E[3]||"px")!=="px"&&(f.style[u]=p,p=g.css(f,u)),$h(f,p,B)}}}),g.cssHooks.marginLeft=Mh(b.reliableMarginLeft,function(a,u){if(u)return(parseFloat(Lr(a,"marginLeft"))||a.getBoundingClientRect().left-Oh(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(a,u){g.cssHooks[a+u]={expand:function(f){for(var p=0,y={},E=typeof f=="string"?f.split(" "):[f];p<4;p++)y[a+ut[p]+u]=E[p]||E[p-2]||E[0];return y}},a!=="margin"&&(g.cssHooks[a+u].set=$h)}),g.fn.extend({css:function(a,u){return Jt(this,function(f,p,y){var E,v,L={},A=0;if(Array.isArray(p)){for(E=$o(f),v=p.length;A<v;A++)L[p[A]]=g.css(f,p[A],!1,E);return L}return y!==void 0?g.style(f,p,y):g.css(f,p)},a,u,arguments.length>1)}});function Xe(a,u,f,p,y){return new Xe.prototype.init(a,u,f,p,y)}g.Tween=Xe,Xe.prototype={constructor:Xe,init:function(a,u,f,p,y,E){this.elem=a,this.prop=f,this.easing=y||g.easing._default,this.options=u,this.start=this.now=this.cur(),this.end=p,this.unit=E||(g.cssNumber[f]?"":"px")},cur:function(){var a=Xe.propHooks[this.prop];return a&&a.get?a.get(this):Xe.propHooks._default.get(this)},run:function(a){var u,f=Xe.propHooks[this.prop];return this.options.duration?this.pos=u=g.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=u=a,this.now=(this.end-this.start)*u+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),f&&f.set?f.set(this):Xe.propHooks._default.set(this),this}},Xe.prototype.init.prototype=Xe.prototype,Xe.propHooks={_default:{get:function(a){var u;return a.elem.nodeType!==1||a.elem[a.prop]!=null&&a.elem.style[a.prop]==null?a.elem[a.prop]:(u=g.css(a.elem,a.prop,""),!u||u==="auto"?0:u)},set:function(a){g.fx.step[a.prop]?g.fx.step[a.prop](a):a.elem.nodeType===1&&(g.cssHooks[a.prop]||a.elem.style[kl(a.prop)]!=null)?g.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Xe.propHooks.scrollTop=Xe.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},g.easing={linear:function(a){return a},swing:function(a){return .5-Math.cos(a*Math.PI)/2},_default:"swing"},g.fx=Xe.prototype.init,g.fx.step={};var Fs,Wo,Wm=/^(?:toggle|show|hide)$/,jm=/queueHooks$/;function Wl(){Wo&&(w.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Wl):t.setTimeout(Wl,g.fx.interval),g.fx.tick())}function jh(){return t.setTimeout(function(){Fs=void 0}),Fs=Date.now()}function jo(a,u){var f,p=0,y={height:a};for(u=u?1:0;p<4;p+=2-u)f=ut[p],y["margin"+f]=y["padding"+f]=a;return u&&(y.opacity=y.width=a),y}function Bh(a,u,f){for(var p,y=(Ti.tweeners[u]||[]).concat(Ti.tweeners["*"]),E=0,v=y.length;E<v;E++)if(p=y[E].call(f,u,a))return p}function Bm(a,u,f){var p,y,E,v,L,A,k,B,J="width"in u||"height"in u,W=this,V={},vt=a.style,Mt=a.nodeType&&Lt(a),Et=$.get(a,"fxshow");f.queue||(v=g._queueHooks(a,"fx"),v.unqueued==null&&(v.unqueued=0,L=v.empty.fire,v.empty.fire=function(){v.unqueued||L()}),v.unqueued++,W.always(function(){W.always(function(){v.unqueued--,g.queue(a,"fx").length||v.empty.fire()})}));for(p in u)if(y=u[p],Wm.test(y)){if(delete u[p],E=E||y==="toggle",y===(Mt?"hide":"show"))if(y==="show"&&Et&&Et[p]!==void 0)Mt=!0;else continue;V[p]=Et&&Et[p]||g.style(a,p)}if(A=!g.isEmptyObject(u),!(!A&&g.isEmptyObject(V))){J&&a.nodeType===1&&(f.overflow=[vt.overflow,vt.overflowX,vt.overflowY],k=Et&&Et.display,k==null&&(k=$.get(a,"display")),B=g.css(a,"display"),B==="none"&&(k?B=k:(ti([a],!0),k=a.style.display||k,B=g.css(a,"display"),ti([a]))),(B==="inline"||B==="inline-block"&&k!=null)&&g.css(a,"float")==="none"&&(A||(W.done(function(){vt.display=k}),k==null&&(B=vt.display,k=B==="none"?"":B)),vt.display="inline-block")),f.overflow&&(vt.overflow="hidden",W.always(function(){vt.overflow=f.overflow[0],vt.overflowX=f.overflow[1],vt.overflowY=f.overflow[2]})),A=!1;for(p in V)A||(Et?"hidden"in Et&&(Mt=Et.hidden):Et=$.access(a,"fxshow",{display:k}),E&&(Et.hidden=!Mt),Mt&&ti([a],!0),W.done(function(){Mt||ti([a]),$.remove(a,"fxshow");for(p in V)g.style(a,p,V[p])})),A=Bh(Mt?Et[p]:0,p,W),p in Et||(Et[p]=A.start,Mt&&(A.end=A.start,A.start=0))}}function Hm(a,u){var f,p,y,E,v;for(f in a)if(p=O(f),y=u[p],E=a[f],Array.isArray(E)&&(y=E[1],E=a[f]=E[0]),f!==p&&(a[p]=E,delete a[f]),v=g.cssHooks[p],v&&"expand"in v){E=v.expand(E),delete a[p];for(f in E)f in a||(a[f]=E[f],u[f]=y)}else u[p]=y}function Ti(a,u,f){var p,y,E=0,v=Ti.prefilters.length,L=g.Deferred().always(function(){delete A.elem}),A=function(){if(y)return!1;for(var J=Fs||jh(),W=Math.max(0,k.startTime+k.duration-J),V=W/k.duration||0,vt=1-V,Mt=0,Et=k.tweens.length;Mt<Et;Mt++)k.tweens[Mt].run(vt);return L.notifyWith(a,[k,vt,W]),vt<1&&Et?W:(Et||L.notifyWith(a,[k,1,0]),L.resolveWith(a,[k]),!1)},k=L.promise({elem:a,props:g.extend({},u),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},f),originalProperties:u,originalOptions:f,startTime:Fs||jh(),duration:f.duration,tweens:[],createTween:function(J,W){var V=g.Tween(a,k.opts,J,W,k.opts.specialEasing[J]||k.opts.easing);return k.tweens.push(V),V},stop:function(J){var W=0,V=J?k.tweens.length:0;if(y)return this;for(y=!0;W<V;W++)k.tweens[W].run(1);return J?(L.notifyWith(a,[k,1,0]),L.resolveWith(a,[k,J])):L.rejectWith(a,[k,J]),this}}),B=k.props;for(Hm(B,k.opts.specialEasing);E<v;E++)if(p=Ti.prefilters[E].call(k,a,B,k.opts),p)return C(p.stop)&&(g._queueHooks(k.elem,k.opts.queue).stop=p.stop.bind(p)),p;return g.map(B,Bh,k),C(k.opts.start)&&k.opts.start.call(a,k),k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always),g.fx.timer(g.extend(A,{elem:a,anim:k,queue:k.opts.queue})),k}g.Animation=g.extend(Ti,{tweeners:{"*":[function(a,u){var f=this.createTween(a,u);return Qt(f.elem,a,ot.exec(u),f),f}]},tweener:function(a,u){C(a)?(u=a,a=["*"]):a=a.match(Ft);for(var f,p=0,y=a.length;p<y;p++)f=a[p],Ti.tweeners[f]=Ti.tweeners[f]||[],Ti.tweeners[f].unshift(u)},prefilters:[Bm],prefilter:function(a,u){u?Ti.prefilters.unshift(a):Ti.prefilters.push(a)}}),g.speed=function(a,u,f){var p=a&&typeof a=="object"?g.extend({},a):{complete:f||!f&&u||C(a)&&a,duration:a,easing:f&&u||u&&!C(u)&&u};return g.fx.off?p.duration=0:typeof p.duration!="number"&&(p.duration in g.fx.speeds?p.duration=g.fx.speeds[p.duration]:p.duration=g.fx.speeds._default),(p.queue==null||p.queue===!0)&&(p.queue="fx"),p.old=p.complete,p.complete=function(){C(p.old)&&p.old.call(this),p.queue&&g.dequeue(this,p.queue)},p},g.fn.extend({fadeTo:function(a,u,f,p){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:u},a,f,p)},animate:function(a,u,f,p){var y=g.isEmptyObject(a),E=g.speed(u,f,p),v=function(){var L=Ti(this,g.extend({},a),E);(y||$.get(this,"finish"))&&L.stop(!0)};return v.finish=v,y||E.queue===!1?this.each(v):this.queue(E.queue,v)},stop:function(a,u,f){var p=function(y){var E=y.stop;delete y.stop,E(f)};return typeof a!="string"&&(f=u,u=a,a=void 0),u&&this.queue(a||"fx",[]),this.each(function(){var y=!0,E=a!=null&&a+"queueHooks",v=g.timers,L=$.get(this);if(E)L[E]&&L[E].stop&&p(L[E]);else for(E in L)L[E]&&L[E].stop&&jm.test(E)&&p(L[E]);for(E=v.length;E--;)v[E].elem===this&&(a==null||v[E].queue===a)&&(v[E].anim.stop(f),y=!1,v.splice(E,1));(y||!f)&&g.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var u,f=$.get(this),p=f[a+"queue"],y=f[a+"queueHooks"],E=g.timers,v=p?p.length:0;for(f.finish=!0,g.queue(this,a,[]),y&&y.stop&&y.stop.call(this,!0),u=E.length;u--;)E[u].elem===this&&E[u].queue===a&&(E[u].anim.stop(!0),E.splice(u,1));for(u=0;u<v;u++)p[u]&&p[u].finish&&p[u].finish.call(this);delete f.finish})}}),g.each(["toggle","show","hide"],function(a,u){var f=g.fn[u];g.fn[u]=function(p,y,E){return p==null||typeof p=="boolean"?f.apply(this,arguments):this.animate(jo(u,!0),p,y,E)}}),g.each({slideDown:jo("show"),slideUp:jo("hide"),slideToggle:jo("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,u){g.fn[a]=function(f,p,y){return this.animate(u,f,p,y)}}),g.timers=[],g.fx.tick=function(){var a,u=0,f=g.timers;for(Fs=Date.now();u<f.length;u++)a=f[u],!a()&&f[u]===a&&f.splice(u--,1);f.length||g.fx.stop(),Fs=void 0},g.fx.timer=function(a){g.timers.push(a),g.fx.start()},g.fx.interval=13,g.fx.start=function(){Wo||(Wo=!0,Wl())},g.fx.stop=function(){Wo=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(a,u){return a=g.fx&&g.fx.speeds[a]||a,u=u||"fx",this.queue(u,function(f,p){var y=t.setTimeout(f,a);p.stop=function(){t.clearTimeout(y)}})},function(){var a=w.createElement("input"),u=w.createElement("select"),f=u.appendChild(w.createElement("option"));a.type="checkbox",b.checkOn=a.value!=="",b.optSelected=f.selected,a=w.createElement("input"),a.value="t",a.type="radio",b.radioValue=a.value==="t"}();var Hh,Or=g.expr.attrHandle;g.fn.extend({attr:function(a,u){return Jt(this,g.attr,a,u,arguments.length>1)},removeAttr:function(a){return this.each(function(){g.removeAttr(this,a)})}}),g.extend({attr:function(a,u,f){var p,y,E=a.nodeType;if(!(E===3||E===8||E===2)){if(typeof a.getAttribute>"u")return g.prop(a,u,f);if((E!==1||!g.isXMLDoc(a))&&(y=g.attrHooks[u.toLowerCase()]||(g.expr.match.bool.test(u)?Hh:void 0)),f!==void 0){if(f===null){g.removeAttr(a,u);return}return y&&"set"in y&&(p=y.set(a,f,u))!==void 0?p:(a.setAttribute(u,f+""),f)}return y&&"get"in y&&(p=y.get(a,u))!==null?p:(p=g.find.attr(a,u),p==null?void 0:p)}},attrHooks:{type:{set:function(a,u){if(!b.radioValue&&u==="radio"&&gt(a,"input")){var f=a.value;return a.setAttribute("type",u),f&&(a.value=f),u}}}},removeAttr:function(a,u){var f,p=0,y=u&&u.match(Ft);if(y&&a.nodeType===1)for(;f=y[p++];)a.removeAttribute(f)}}),Hh={set:function(a,u,f){return u===!1?g.removeAttr(a,f):a.setAttribute(f,f),f}},g.each(g.expr.match.bool.source.match(/\w+/g),function(a,u){var f=Or[u]||g.find.attr;Or[u]=function(p,y,E){var v,L,A=y.toLowerCase();return E||(L=Or[A],Or[A]=v,v=f(p,y,E)!=null?A:null,Or[A]=L),v}});var Vm=/^(?:input|select|textarea|button)$/i,zm=/^(?:a|area)$/i;g.fn.extend({prop:function(a,u){return Jt(this,g.prop,a,u,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[g.propFix[a]||a]})}}),g.extend({prop:function(a,u,f){var p,y,E=a.nodeType;if(!(E===3||E===8||E===2))return(E!==1||!g.isXMLDoc(a))&&(u=g.propFix[u]||u,y=g.propHooks[u]),f!==void 0?y&&"set"in y&&(p=y.set(a,f,u))!==void 0?p:a[u]=f:y&&"get"in y&&(p=y.get(a,u))!==null?p:a[u]},propHooks:{tabIndex:{get:function(a){var u=g.find.attr(a,"tabindex");return u?parseInt(u,10):Vm.test(a.nodeName)||zm.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(g.propHooks.selected={get:function(a){var u=a.parentNode;return u&&u.parentNode&&u.parentNode.selectedIndex,null},set:function(a){var u=a.parentNode;u&&(u.selectedIndex,u.parentNode&&u.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function qn(a){var u=a.match(Ft)||[];return u.join(" ")}function Zn(a){return a.getAttribute&&a.getAttribute("class")||""}function jl(a){return Array.isArray(a)?a:typeof a=="string"?a.match(Ft)||[]:[]}g.fn.extend({addClass:function(a){var u,f,p,y,E,v;return C(a)?this.each(function(L){g(this).addClass(a.call(this,L,Zn(this)))}):(u=jl(a),u.length?this.each(function(){if(p=Zn(this),f=this.nodeType===1&&" "+qn(p)+" ",f){for(E=0;E<u.length;E++)y=u[E],f.indexOf(" "+y+" ")<0&&(f+=y+" ");v=qn(f),p!==v&&this.setAttribute("class",v)}}):this)},removeClass:function(a){var u,f,p,y,E,v;return C(a)?this.each(function(L){g(this).removeClass(a.call(this,L,Zn(this)))}):arguments.length?(u=jl(a),u.length?this.each(function(){if(p=Zn(this),f=this.nodeType===1&&" "+qn(p)+" ",f){for(E=0;E<u.length;E++)for(y=u[E];f.indexOf(" "+y+" ")>-1;)f=f.replace(" "+y+" "," ");v=qn(f),p!==v&&this.setAttribute("class",v)}}):this):this.attr("class","")},toggleClass:function(a,u){var f,p,y,E,v=typeof a,L=v==="string"||Array.isArray(a);return C(a)?this.each(function(A){g(this).toggleClass(a.call(this,A,Zn(this),u),u)}):typeof u=="boolean"&&L?u?this.addClass(a):this.removeClass(a):(f=jl(a),this.each(function(){if(L)for(E=g(this),y=0;y<f.length;y++)p=f[y],E.hasClass(p)?E.removeClass(p):E.addClass(p);else(a===void 0||v==="boolean")&&(p=Zn(this),p&&$.set(this,"__className__",p),this.setAttribute&&this.setAttribute("class",p||a===!1?"":$.get(this,"__className__")||""))}))},hasClass:function(a){var u,f,p=0;for(u=" "+a+" ";f=this[p++];)if(f.nodeType===1&&(" "+qn(Zn(f))+" ").indexOf(u)>-1)return!0;return!1}});var Gm=/\r/g;g.fn.extend({val:function(a){var u,f,p,y=this[0];return arguments.length?(p=C(a),this.each(function(E){var v;this.nodeType===1&&(p?v=a.call(this,E,g(this).val()):v=a,v==null?v="":typeof v=="number"?v+="":Array.isArray(v)&&(v=g.map(v,function(L){return L==null?"":L+""})),u=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],(!u||!("set"in u)||u.set(this,v,"value")===void 0)&&(this.value=v))})):y?(u=g.valHooks[y.type]||g.valHooks[y.nodeName.toLowerCase()],u&&"get"in u&&(f=u.get(y,"value"))!==void 0?f:(f=y.value,typeof f=="string"?f.replace(Gm,""):f==null?"":f)):void 0}}),g.extend({valHooks:{option:{get:function(a){var u=g.find.attr(a,"value");return u!=null?u:qn(g.text(a))}},select:{get:function(a){var u,f,p,y=a.options,E=a.selectedIndex,v=a.type==="select-one",L=v?null:[],A=v?E+1:y.length;for(E<0?p=A:p=v?E:0;p<A;p++)if(f=y[p],(f.selected||p===E)&&!f.disabled&&(!f.parentNode.disabled||!gt(f.parentNode,"optgroup"))){if(u=g(f).val(),v)return u;L.push(u)}return L},set:function(a,u){for(var f,p,y=a.options,E=g.makeArray(u),v=y.length;v--;)p=y[v],(p.selected=g.inArray(g.valHooks.option.get(p),E)>-1)&&(f=!0);return f||(a.selectedIndex=-1),E}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(a,u){if(Array.isArray(u))return a.checked=g.inArray(g(a).val(),u)>-1}},b.checkOn||(g.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value})}),b.focusin="onfocusin"in t;var Vh=/^(?:focusinfocus|focusoutblur)$/,zh=function(a){a.stopPropagation()};g.extend(g.event,{trigger:function(a,u,f,p){var y,E,v,L,A,k,B,J,W=[f||w],V=_.call(a,"type")?a.type:a,vt=_.call(a,"namespace")?a.namespace.split("."):[];if(E=J=v=f=f||w,!(f.nodeType===3||f.nodeType===8)&&!Vh.test(V+g.event.triggered)&&(V.indexOf(".")>-1&&(vt=V.split("."),V=vt.shift(),vt.sort()),A=V.indexOf(":")<0&&"on"+V,a=a[g.expando]?a:new g.Event(V,typeof a=="object"&&a),a.isTrigger=p?2:3,a.namespace=vt.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+vt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=f),u=u==null?[a]:g.makeArray(u,[a]),B=g.event.special[V]||{},!(!p&&B.trigger&&B.trigger.apply(f,u)===!1))){if(!p&&!B.noBubble&&!S(f)){for(L=B.delegateType||V,Vh.test(L+V)||(E=E.parentNode);E;E=E.parentNode)W.push(E),v=E;v===(f.ownerDocument||w)&&W.push(v.defaultView||v.parentWindow||t)}for(y=0;(E=W[y++])&&!a.isPropagationStopped();)J=E,a.type=y>1?L:B.bindType||V,k=($.get(E,"events")||Object.create(null))[a.type]&&$.get(E,"handle"),k&&k.apply(E,u),k=A&&E[A],k&&k.apply&&H(E)&&(a.result=k.apply(E,u),a.result===!1&&a.preventDefault());return a.type=V,!p&&!a.isDefaultPrevented()&&(!B._default||B._default.apply(W.pop(),u)===!1)&&H(f)&&A&&C(f[V])&&!S(f)&&(v=f[A],v&&(f[A]=null),g.event.triggered=V,a.isPropagationStopped()&&J.addEventListener(V,zh),f[V](),a.isPropagationStopped()&&J.removeEventListener(V,zh),g.event.triggered=void 0,v&&(f[A]=v)),a.result}},simulate:function(a,u,f){var p=g.extend(new g.Event,f,{type:a,isSimulated:!0});g.event.trigger(p,null,u)}}),g.fn.extend({trigger:function(a,u){return this.each(function(){g.event.trigger(a,u,this)})},triggerHandler:function(a,u){var f=this[0];if(f)return g.event.trigger(a,u,f,!0)}}),b.focusin||g.each({focus:"focusin",blur:"focusout"},function(a,u){var f=function(p){g.event.simulate(u,p.target,g.event.fix(p))};g.event.special[u]={setup:function(){var p=this.ownerDocument||this.document||this,y=$.access(p,u);y||p.addEventListener(a,f,!0),$.access(p,u,(y||0)+1)},teardown:function(){var p=this.ownerDocument||this.document||this,y=$.access(p,u)-1;y?$.access(p,u,y):(p.removeEventListener(a,f,!0),$.remove(p,u))}}});var Dr=t.location,Gh={guid:Date.now()},Bl=/\?/;g.parseXML=function(a){var u,f;if(!a||typeof a!="string")return null;try{u=new t.DOMParser().parseFromString(a,"text/xml")}catch{}return f=u&&u.getElementsByTagName("parsererror")[0],(!u||f)&&g.error("Invalid XML: "+(f?g.map(f.childNodes,function(p){return p.textContent}).join(`
`):a)),u};var Ym=/\[\]$/,Yh=/\r?\n/g,Xm=/^(?:submit|button|image|reset|file)$/i,Km=/^(?:input|select|textarea|keygen)/i;function Hl(a,u,f,p){var y;if(Array.isArray(u))g.each(u,function(E,v){f||Ym.test(a)?p(a,v):Hl(a+"["+(typeof v=="object"&&v!=null?E:"")+"]",v,f,p)});else if(!f&&N(u)==="object")for(y in u)Hl(a+"["+y+"]",u[y],f,p);else p(a,u)}g.param=function(a,u){var f,p=[],y=function(E,v){var L=C(v)?v():v;p[p.length]=encodeURIComponent(E)+"="+encodeURIComponent(L==null?"":L)};if(a==null)return"";if(Array.isArray(a)||a.jquery&&!g.isPlainObject(a))g.each(a,function(){y(this.name,this.value)});else for(f in a)Hl(f,a[f],u,y);return p.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=g.prop(this,"elements");return a?g.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!g(this).is(":disabled")&&Km.test(this.nodeName)&&!Xm.test(a)&&(this.checked||!ei.test(a))}).map(function(a,u){var f=g(this).val();return f==null?null:Array.isArray(f)?g.map(f,function(p){return{name:u.name,value:p.replace(Yh,`\r
`)}}):{name:u.name,value:f.replace(Yh,`\r
`)}}).get()}});var Um=/%20/g,qm=/#.*$/,Zm=/([?&])_=[^&]*/,Jm=/^(.*?):[ \t]*([^\r\n]*)$/mg,Qm=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ty=/^(?:GET|HEAD)$/,ey=/^\/\//,Xh={},Vl={},Kh="*/".concat("*"),zl=w.createElement("a");zl.href=Dr.href;function Uh(a){return function(u,f){typeof u!="string"&&(f=u,u="*");var p,y=0,E=u.toLowerCase().match(Ft)||[];if(C(f))for(;p=E[y++];)p[0]==="+"?(p=p.slice(1)||"*",(a[p]=a[p]||[]).unshift(f)):(a[p]=a[p]||[]).push(f)}}function qh(a,u,f,p){var y={},E=a===Vl;function v(L){var A;return y[L]=!0,g.each(a[L]||[],function(k,B){var J=B(u,f,p);if(typeof J=="string"&&!E&&!y[J])return u.dataTypes.unshift(J),v(J),!1;if(E)return!(A=J)}),A}return v(u.dataTypes[0])||!y["*"]&&v("*")}function Gl(a,u){var f,p,y=g.ajaxSettings.flatOptions||{};for(f in u)u[f]!==void 0&&((y[f]?a:p||(p={}))[f]=u[f]);return p&&g.extend(!0,a,p),a}function iy(a,u,f){for(var p,y,E,v,L=a.contents,A=a.dataTypes;A[0]==="*";)A.shift(),p===void 0&&(p=a.mimeType||u.getResponseHeader("Content-Type"));if(p){for(y in L)if(L[y]&&L[y].test(p)){A.unshift(y);break}}if(A[0]in f)E=A[0];else{for(y in f){if(!A[0]||a.converters[y+" "+A[0]]){E=y;break}v||(v=y)}E=E||v}if(E)return E!==A[0]&&A.unshift(E),f[E]}function ny(a,u,f,p){var y,E,v,L,A,k={},B=a.dataTypes.slice();if(B[1])for(v in a.converters)k[v.toLowerCase()]=a.converters[v];for(E=B.shift();E;)if(a.responseFields[E]&&(f[a.responseFields[E]]=u),!A&&p&&a.dataFilter&&(u=a.dataFilter(u,a.dataType)),A=E,E=B.shift(),E){if(E==="*")E=A;else if(A!=="*"&&A!==E){if(v=k[A+" "+E]||k["* "+E],!v){for(y in k)if(L=y.split(" "),L[1]===E&&(v=k[A+" "+L[0]]||k["* "+L[0]],v)){v===!0?v=k[y]:k[y]!==!0&&(E=L[0],B.unshift(L[1]));break}}if(v!==!0)if(v&&a.throws)u=v(u);else try{u=v(u)}catch(J){return{state:"parsererror",error:v?J:"No conversion from "+A+" to "+E}}}}return{state:"success",data:u}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dr.href,type:"GET",isLocal:Qm.test(Dr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kh,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,u){return u?Gl(Gl(a,g.ajaxSettings),u):Gl(g.ajaxSettings,a)},ajaxPrefilter:Uh(Xh),ajaxTransport:Uh(Vl),ajax:function(a,u){typeof a=="object"&&(u=a,a=void 0),u=u||{};var f,p,y,E,v,L,A,k,B,J,W=g.ajaxSetup({},u),V=W.context||W,vt=W.context&&(V.nodeType||V.jquery)?g(V):g.event,Mt=g.Deferred(),Et=g.Callbacks("once memory"),Ce=W.statusCode||{},ye={},ii={},ne="canceled",Ot={readyState:0,getResponseHeader:function(Xt){var ge;if(A){if(!E)for(E={};ge=Jm.exec(y);)E[ge[1].toLowerCase()+" "]=(E[ge[1].toLowerCase()+" "]||[]).concat(ge[2]);ge=E[Xt.toLowerCase()+" "]}return ge==null?null:ge.join(", ")},getAllResponseHeaders:function(){return A?y:null},setRequestHeader:function(Xt,ge){return A==null&&(Xt=ii[Xt.toLowerCase()]=ii[Xt.toLowerCase()]||Xt,ye[Xt]=ge),this},overrideMimeType:function(Xt){return A==null&&(W.mimeType=Xt),this},statusCode:function(Xt){var ge;if(Xt)if(A)Ot.always(Xt[Ot.status]);else for(ge in Xt)Ce[ge]=[Ce[ge],Xt[ge]];return this},abort:function(Xt){var ge=Xt||ne;return f&&f.abort(ge),Ke(0,ge),this}};if(Mt.promise(Ot),W.url=((a||W.url||Dr.href)+"").replace(ey,Dr.protocol+"//"),W.type=u.method||u.type||W.method||W.type,W.dataTypes=(W.dataType||"*").toLowerCase().match(Ft)||[""],W.crossDomain==null){L=w.createElement("a");try{L.href=W.url,L.href=L.href,W.crossDomain=zl.protocol+"//"+zl.host!=L.protocol+"//"+L.host}catch{W.crossDomain=!0}}if(W.data&&W.processData&&typeof W.data!="string"&&(W.data=g.param(W.data,W.traditional)),qh(Xh,W,u,Ot),A)return Ot;k=g.event&&W.global,k&&g.active++===0&&g.event.trigger("ajaxStart"),W.type=W.type.toUpperCase(),W.hasContent=!ty.test(W.type),p=W.url.replace(qm,""),W.hasContent?W.data&&W.processData&&(W.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(W.data=W.data.replace(Um,"+")):(J=W.url.slice(p.length),W.data&&(W.processData||typeof W.data=="string")&&(p+=(Bl.test(p)?"&":"?")+W.data,delete W.data),W.cache===!1&&(p=p.replace(Zm,"$1"),J=(Bl.test(p)?"&":"?")+"_="+Gh.guid+++J),W.url=p+J),W.ifModified&&(g.lastModified[p]&&Ot.setRequestHeader("If-Modified-Since",g.lastModified[p]),g.etag[p]&&Ot.setRequestHeader("If-None-Match",g.etag[p])),(W.data&&W.hasContent&&W.contentType!==!1||u.contentType)&&Ot.setRequestHeader("Content-Type",W.contentType),Ot.setRequestHeader("Accept",W.dataTypes[0]&&W.accepts[W.dataTypes[0]]?W.accepts[W.dataTypes[0]]+(W.dataTypes[0]!=="*"?", "+Kh+"; q=0.01":""):W.accepts["*"]);for(B in W.headers)Ot.setRequestHeader(B,W.headers[B]);if(W.beforeSend&&(W.beforeSend.call(V,Ot,W)===!1||A))return Ot.abort();if(ne="abort",Et.add(W.complete),Ot.done(W.success),Ot.fail(W.error),f=qh(Vl,W,u,Ot),!f)Ke(-1,"No Transport");else{if(Ot.readyState=1,k&&vt.trigger("ajaxSend",[Ot,W]),A)return Ot;W.async&&W.timeout>0&&(v=t.setTimeout(function(){Ot.abort("timeout")},W.timeout));try{A=!1,f.send(ye,Ke)}catch(Xt){if(A)throw Xt;Ke(-1,Xt)}}function Ke(Xt,ge,Pr,Bo){var ni,Jn,Qn,Ue,xn,fi=ge;A||(A=!0,v&&t.clearTimeout(v),f=void 0,y=Bo||"",Ot.readyState=Xt>0?4:0,ni=Xt>=200&&Xt<300||Xt===304,Pr&&(Ue=iy(W,Ot,Pr)),!ni&&g.inArray("script",W.dataTypes)>-1&&g.inArray("json",W.dataTypes)<0&&(W.converters["text script"]=function(){}),Ue=ny(W,Ue,Ot,ni),ni?(W.ifModified&&(xn=Ot.getResponseHeader("Last-Modified"),xn&&(g.lastModified[p]=xn),xn=Ot.getResponseHeader("etag"),xn&&(g.etag[p]=xn)),Xt===204||W.type==="HEAD"?fi="nocontent":Xt===304?fi="notmodified":(fi=Ue.state,Jn=Ue.data,Qn=Ue.error,ni=!Qn)):(Qn=fi,(Xt||!fi)&&(fi="error",Xt<0&&(Xt=0))),Ot.status=Xt,Ot.statusText=(ge||fi)+"",ni?Mt.resolveWith(V,[Jn,fi,Ot]):Mt.rejectWith(V,[Ot,fi,Qn]),Ot.statusCode(Ce),Ce=void 0,k&&vt.trigger(ni?"ajaxSuccess":"ajaxError",[Ot,W,ni?Jn:Qn]),Et.fireWith(V,[Ot,fi]),k&&(vt.trigger("ajaxComplete",[Ot,W]),--g.active||g.event.trigger("ajaxStop")))}return Ot},getJSON:function(a,u,f){return g.get(a,u,f,"json")},getScript:function(a,u){return g.get(a,void 0,u,"script")}}),g.each(["get","post"],function(a,u){g[u]=function(f,p,y,E){return C(p)&&(E=E||y,y=p,p=void 0),g.ajax(g.extend({url:f,type:u,dataType:E,data:p,success:y},g.isPlainObject(f)&&f))}}),g.ajaxPrefilter(function(a){var u;for(u in a.headers)u.toLowerCase()==="content-type"&&(a.contentType=a.headers[u]||"")}),g._evalUrl=function(a,u,f){return g.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(p){g.globalEval(p,u,f)}})},g.fn.extend({wrapAll:function(a){var u;return this[0]&&(C(a)&&(a=a.call(this[0])),u=g(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&u.insertBefore(this[0]),u.map(function(){for(var f=this;f.firstElementChild;)f=f.firstElementChild;return f}).append(this)),this},wrapInner:function(a){return C(a)?this.each(function(u){g(this).wrapInner(a.call(this,u))}):this.each(function(){var u=g(this),f=u.contents();f.length?f.wrapAll(a):u.append(a)})},wrap:function(a){var u=C(a);return this.each(function(f){g(this).wrapAll(u?a.call(this,f):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(a){return!g.expr.pseudos.visible(a)},g.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var sy={0:200,1223:204},Mr=g.ajaxSettings.xhr();b.cors=!!Mr&&"withCredentials"in Mr,b.ajax=Mr=!!Mr,g.ajaxTransport(function(a){var u,f;if(b.cors||Mr&&!a.crossDomain)return{send:function(p,y){var E,v=a.xhr();if(v.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(E in a.xhrFields)v[E]=a.xhrFields[E];a.mimeType&&v.overrideMimeType&&v.overrideMimeType(a.mimeType),!a.crossDomain&&!p["X-Requested-With"]&&(p["X-Requested-With"]="XMLHttpRequest");for(E in p)v.setRequestHeader(E,p[E]);u=function(L){return function(){u&&(u=f=v.onload=v.onerror=v.onabort=v.ontimeout=v.onreadystatechange=null,L==="abort"?v.abort():L==="error"?typeof v.status!="number"?y(0,"error"):y(v.status,v.statusText):y(sy[v.status]||v.status,v.statusText,(v.responseType||"text")!=="text"||typeof v.responseText!="string"?{binary:v.response}:{text:v.responseText},v.getAllResponseHeaders()))}},v.onload=u(),f=v.onerror=v.ontimeout=u("error"),v.onabort!==void 0?v.onabort=f:v.onreadystatechange=function(){v.readyState===4&&t.setTimeout(function(){u&&f()})},u=u("abort");try{v.send(a.hasContent&&a.data||null)}catch(L){if(u)throw L}},abort:function(){u&&u()}}}),g.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return g.globalEval(a),a}}}),g.ajaxPrefilter("script",function(a){a.cache===void 0&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),g.ajaxTransport("script",function(a){if(a.crossDomain||a.scriptAttrs){var u,f;return{send:function(p,y){u=g("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",f=function(E){u.remove(),f=null,E&&y(E.type==="error"?404:200,E.type)}),w.head.appendChild(u[0])},abort:function(){f&&f()}}}});var Zh=[],Yl=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Zh.pop()||g.expando+"_"+Gh.guid++;return this[a]=!0,a}}),g.ajaxPrefilter("json jsonp",function(a,u,f){var p,y,E,v=a.jsonp!==!1&&(Yl.test(a.url)?"url":typeof a.data=="string"&&(a.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Yl.test(a.data)&&"data");if(v||a.dataTypes[0]==="jsonp")return p=a.jsonpCallback=C(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,v?a[v]=a[v].replace(Yl,"$1"+p):a.jsonp!==!1&&(a.url+=(Bl.test(a.url)?"&":"?")+a.jsonp+"="+p),a.converters["script json"]=function(){return E||g.error(p+" was not called"),E[0]},a.dataTypes[0]="json",y=t[p],t[p]=function(){E=arguments},f.always(function(){y===void 0?g(t).removeProp(p):t[p]=y,a[p]&&(a.jsonpCallback=u.jsonpCallback,Zh.push(p)),E&&C(y)&&y(E[0]),E=y=void 0}),"script"}),b.createHTMLDocument=function(){var a=w.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",a.childNodes.length===2}(),g.parseHTML=function(a,u,f){if(typeof a!="string")return[];typeof u=="boolean"&&(f=u,u=!1);var p,y,E;return u||(b.createHTMLDocument?(u=w.implementation.createHTMLDocument(""),p=u.createElement("base"),p.href=w.location.href,u.head.appendChild(p)):u=w),y=_t.exec(a),E=!f&&[],y?[u.createElement(y[1])]:(y=En([a],u,E),E&&E.length&&g(E).remove(),g.merge([],y.childNodes))},g.fn.load=function(a,u,f){var p,y,E,v=this,L=a.indexOf(" ");return L>-1&&(p=qn(a.slice(L)),a=a.slice(0,L)),C(u)?(f=u,u=void 0):u&&typeof u=="object"&&(y="POST"),v.length>0&&g.ajax({url:a,type:y||"GET",dataType:"html",data:u}).done(function(A){E=arguments,v.html(p?g("<div>").append(g.parseHTML(A)).find(p):A)}).always(f&&function(A,k){v.each(function(){f.apply(this,E||[A.responseText,k,A])})}),this},g.expr.pseudos.animated=function(a){return g.grep(g.timers,function(u){return a===u.elem}).length},g.offset={setOffset:function(a,u,f){var p,y,E,v,L,A,k,B=g.css(a,"position"),J=g(a),W={};B==="static"&&(a.style.position="relative"),L=J.offset(),E=g.css(a,"top"),A=g.css(a,"left"),k=(B==="absolute"||B==="fixed")&&(E+A).indexOf("auto")>-1,k?(p=J.position(),v=p.top,y=p.left):(v=parseFloat(E)||0,y=parseFloat(A)||0),C(u)&&(u=u.call(a,f,g.extend({},L))),u.top!=null&&(W.top=u.top-L.top+v),u.left!=null&&(W.left=u.left-L.left+y),"using"in u?u.using.call(a,W):J.css(W)}},g.fn.extend({offset:function(a){if(arguments.length)return a===void 0?this:this.each(function(y){g.offset.setOffset(this,a,y)});var u,f,p=this[0];if(!!p)return p.getClientRects().length?(u=p.getBoundingClientRect(),f=p.ownerDocument.defaultView,{top:u.top+f.pageYOffset,left:u.left+f.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var a,u,f,p=this[0],y={top:0,left:0};if(g.css(p,"position")==="fixed")u=p.getBoundingClientRect();else{for(u=this.offset(),f=p.ownerDocument,a=p.offsetParent||f.documentElement;a&&(a===f.body||a===f.documentElement)&&g.css(a,"position")==="static";)a=a.parentNode;a&&a!==p&&a.nodeType===1&&(y=g(a).offset(),y.top+=g.css(a,"borderTopWidth",!0),y.left+=g.css(a,"borderLeftWidth",!0))}return{top:u.top-y.top-g.css(p,"marginTop",!0),left:u.left-y.left-g.css(p,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&g.css(a,"position")==="static";)a=a.offsetParent;return a||yt})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,u){var f=u==="pageYOffset";g.fn[a]=function(p){return Jt(this,function(y,E,v){var L;if(S(y)?L=y:y.nodeType===9&&(L=y.defaultView),v===void 0)return L?L[u]:y[E];L?L.scrollTo(f?L.pageXOffset:v,f?v:L.pageYOffset):y[E]=v},a,p,arguments.length)}}),g.each(["top","left"],function(a,u){g.cssHooks[u]=Mh(b.pixelPosition,function(f,p){if(p)return p=Lr(f,u),Nl.test(p)?g(f).position()[u]+"px":p})}),g.each({Height:"height",Width:"width"},function(a,u){g.each({padding:"inner"+a,content:u,"":"outer"+a},function(f,p){g.fn[p]=function(y,E){var v=arguments.length&&(f||typeof y!="boolean"),L=f||(y===!0||E===!0?"margin":"border");return Jt(this,function(A,k,B){var J;return S(A)?p.indexOf("outer")===0?A["inner"+a]:A.document.documentElement["client"+a]:A.nodeType===9?(J=A.documentElement,Math.max(A.body["scroll"+a],J["scroll"+a],A.body["offset"+a],J["offset"+a],J["client"+a])):B===void 0?g.css(A,k,L):g.style(A,k,B,L)},u,v?y:void 0,v)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,u){g.fn[u]=function(f){return this.on(u,f)}}),g.fn.extend({bind:function(a,u,f){return this.on(a,null,u,f)},unbind:function(a,u){return this.off(a,null,u)},delegate:function(a,u,f,p){return this.on(u,a,f,p)},undelegate:function(a,u,f){return arguments.length===1?this.off(a,"**"):this.off(u,a||"**",f)},hover:function(a,u){return this.mouseenter(a).mouseleave(u||a)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,u){g.fn[u]=function(f,p){return arguments.length>0?this.on(u,null,f,p):this.trigger(u)}});var ry=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(a,u){var f,p,y;if(typeof u=="string"&&(f=a[u],u=a,a=f),!!C(a))return p=r.call(arguments,2),y=function(){return a.apply(u||this,p.concat(r.call(arguments)))},y.guid=a.guid=a.guid||g.guid++,y},g.holdReady=function(a){a?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=gt,g.isFunction=C,g.isWindow=S,g.camelCase=O,g.type=N,g.now=Date.now,g.isNumeric=function(a){var u=g.type(a);return(u==="number"||u==="string")&&!isNaN(a-parseFloat(a))},g.trim=function(a){return a==null?"":(a+"").replace(ry,"$1")};var oy=t.jQuery,ay=t.$;return g.noConflict=function(a){return t.$===g&&(t.$=ay),a&&t.jQuery===g&&(t.jQuery=oy),g},typeof e>"u"&&(t.jQuery=t.$=g),g})})(i0);class n0{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const mn=n0,ur={PROPERTYCHANGE:"propertychange"};class s0{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}const Mu=s0;function hr(i,t){return i>t?1:i<t?-1:0}function Pu(i,t,e){const n=i.length;if(i[0]<=t)return 0;if(t<=i[n-1])return n-1;let s;if(e>0){for(s=1;s<n;++s)if(i[s]<t)return s-1}else if(e<0){for(s=1;s<n;++s)if(i[s]<=t)return s}else for(s=1;s<n;++s){if(i[s]==t)return s;if(i[s]<t)return typeof e=="function"?e(t,i[s-1],i[s])>0?s-1:s:i[s-1]-t<t-i[s]?s-1:s}return n-1}function r0(i,t,e){for(;t<e;){const n=i[t];i[t]=i[e],i[e]=n,++t,--e}}function _p(i,t){const e=Array.isArray(t)?t:[t],n=e.length;for(let s=0;s<n;s++)i[i.length]=e[s]}function zn(i,t){const e=i.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(i[n]!==t[n])return!1;return!0}function o0(i,t,e){const n=t||hr;return i.every(function(s,r){if(r===0)return!0;const o=n(i[r-1],s);return!(o>0||e&&o===0)})}function ao(){return!0}function hl(){return!1}function Ss(){}function a0(i){let t=!1,e,n,s;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==s||!zn(r,n))&&(t=!0,s=this,n=r,e=i.apply(this,arguments)),e}}function bo(i){for(const t in i)delete i[t]}function lo(i){let t;for(t in i)return!1;return!t}class l0 extends Mu{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),s=n[t]||(n[t]=[]);s.includes(e)||s.push(e)}dispatchEvent(t){const e=typeof t=="string",n=e?t:t.type,s=this.listeners_&&this.listeners_[n];if(!s)return;const r=e?new mn(t):t;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,l[n]=0),++o[n];let c;for(let h=0,d=s.length;h<d;++h)if("handleEvent"in s[h]?c=s[h].handleEvent(r):c=s[h].call(this,r),c===!1||r.propagationStopped){c=!1;break}if(--o[n]===0){let h=l[n];for(delete l[n];h--;)this.removeEventListener(n,Ss);delete o[n]}return c}disposeInternal(){this.listeners_&&bo(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,e){const n=this.listeners_&&this.listeners_[t];if(n){const s=n.indexOf(e);s!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[s]=Ss,++this.pendingRemovals_[t]):(n.splice(s,1),n.length===0&&delete this.listeners_[t]))}}}const fl=l0,$t={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Gt(i,t,e,n,s){if(n&&n!==i&&(e=e.bind(n)),s){const o=e;e=function(){i.removeEventListener(t,e),o.apply(this,arguments)}}const r={target:i,type:t,listener:e};return i.addEventListener(t,e),r}function Pa(i,t,e,n){return Gt(i,t,e,n,!0)}function le(i){i&&i.target&&(i.target.removeEventListener(i.type,i.listener),bo(i))}class dl extends fl{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent($t.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Gt(this,t[r],e);return s}return Gt(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const s=t.length;n=new Array(s);for(let r=0;r<s;++r)n[r]=Pa(this,t[r],e)}else n=Pa(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)c0(n);else if(Array.isArray(t))for(let s=0,r=t.length;s<r;++s)this.removeEventListener(t[s],e);else this.removeEventListener(t,e)}}dl.prototype.on;dl.prototype.once;dl.prototype.un;function c0(i){if(Array.isArray(i))for(let t=0,e=i.length;t<e;++t)le(i[t]);else le(i)}const mp=dl;function Ut(){throw new Error("Unimplemented abstract method.")}let u0=0;function qt(i){return i.ol_uid||(i.ol_uid=String(++u0))}class $f extends mn{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}class h0 extends mp{constructor(t){super(),this.on,this.once,this.un,qt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(t,e){let n;n=`change:${t}`,this.hasListener(n)&&this.dispatchEvent(new $f(n,t,e)),n=ur.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new $f(n,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,n){const s=this.values_||(this.values_={});if(n)s[t]=e;else{const r=s[t];s[t]=e,r!==e&&this.notify(t,r)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){!t.values_||Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],lo(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}const Mi=h0,f0={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class d0 extends Error{constructor(t){const e=f0[t];super(e),this.code=t,this.name="AssertionError",this.message=e}}const yp=d0,Ze={ADD:"add",REMOVE:"remove"},Wf={LENGTH:"length"};class ta extends mn{constructor(t,e,n){super(t),this.element=e,this.index=n}}class g0 extends Mi{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let n=0,s=this.array_.length;n<s;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,s=e.length;n<s;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(Wf.LENGTH)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new ta(Ze.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,s=e.length;n<s;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new ta(Ze.REMOVE,e,t)),e}setAt(t,e){const n=this.getLength();if(t>=n){this.insertAt(t,e);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const s=this.array_[t];this.array_[t]=e,this.dispatchEvent(new ta(Ze.REMOVE,s,t)),this.dispatchEvent(new ta(Ze.ADD,e,t))}updateLength_(){this.set(Wf.LENGTH,this.array_.length)}assertUnique_(t,e){for(let n=0,s=this.array_.length;n<s;++n)if(this.array_[n]===t&&n!==e)throw new yp(58)}}const Vi=g0,$n=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",p0=$n.includes("firefox"),_0=$n.includes("safari")&&!$n.includes("chrom");_0&&($n.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test($n));const m0=$n.includes("webkit")&&!$n.includes("edge"),y0=$n.includes("macintosh"),Ep=typeof devicePixelRatio<"u"?devicePixelRatio:1,Nu=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,E0=typeof Image<"u"&&Image.prototype.decode,vp=function(){let i=!1;try{const t=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return i}();function zt(i,t){if(!i)throw new yp(t)}new Array(6);function Yi(){return[1,0,0,1,0,0]}function v0(i,t,e,n,s,r,o){return i[0]=t,i[1]=e,i[2]=n,i[3]=s,i[4]=r,i[5]=o,i}function x0(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i}function Ae(i,t){const e=t[0],n=t[1];return t[0]=i[0]*e+i[2]*n+i[4],t[1]=i[1]*e+i[3]*n+i[5],t}function C0(i,t,e){return v0(i,t,0,0,e,0,0)}function Wn(i,t,e,n,s,r,o,l){const c=Math.sin(r),h=Math.cos(r);return i[0]=n*h,i[1]=s*c,i[2]=-n*c,i[3]=s*h,i[4]=o*n*h-l*n*c+t,i[5]=o*s*c+l*s*h+e,i}function Fu(i,t){const e=T0(t);zt(e!==0,32);const n=t[0],s=t[1],r=t[2],o=t[3],l=t[4],c=t[5];return i[0]=o/e,i[1]=-s/e,i[2]=-r/e,i[3]=n/e,i[4]=(r*c-o*l)/e,i[5]=-(n*c-s*l)/e,i}function T0(i){return i[0]*i[3]-i[1]*i[2]}let jf;function xp(i){const t="matrix("+i.join(", ")+")";if(Nu)return t;const e=jf||(jf=document.createElement("div"));return e.style.transform=t,e.style.transform}const Se={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Bf(i){const t=yi();for(let e=0,n=i.length;e<n;++e)Ur(t,i[e]);return t}function ku(i,t,e){return e?(e[0]=i[0]-t,e[1]=i[1]-t,e[2]=i[2]+t,e[3]=i[3]+t,e):[i[0]-t,i[1]-t,i[2]+t,i[3]+t]}function Cp(i,t){return t?(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t):i.slice()}function Tp(i,t,e){let n,s;return t<i[0]?n=i[0]-t:i[2]<t?n=t-i[2]:n=0,e<i[1]?s=i[1]-e:i[3]<e?s=e-i[3]:s=0,n*n+s*s}function gl(i,t){return bp(i,t[0],t[1])}function gs(i,t){return i[0]<=t[0]&&t[2]<=i[2]&&i[1]<=t[1]&&t[3]<=i[3]}function bp(i,t,e){return i[0]<=t&&t<=i[2]&&i[1]<=e&&e<=i[3]}function Kc(i,t){const e=i[0],n=i[1],s=i[2],r=i[3],o=t[0],l=t[1];let c=Se.UNKNOWN;return o<e?c=c|Se.LEFT:o>s&&(c=c|Se.RIGHT),l<n?c=c|Se.BELOW:l>r&&(c=c|Se.ABOVE),c===Se.UNKNOWN&&(c=Se.INTERSECTING),c}function yi(){return[1/0,1/0,-1/0,-1/0]}function gn(i,t,e,n,s){return s?(s[0]=i,s[1]=t,s[2]=e,s[3]=n,s):[i,t,e,n]}function pl(i){return gn(1/0,1/0,-1/0,-1/0,i)}function b0(i,t){const e=i[0],n=i[1];return gn(e,n,e,n,t)}function w0(i,t,e,n,s){const r=pl(s);return wp(r,i,t,e,n)}function co(i,t){return i[0]==t[0]&&i[2]==t[2]&&i[1]==t[1]&&i[3]==t[3]}function S0(i,t){return t[0]<i[0]&&(i[0]=t[0]),t[2]>i[2]&&(i[2]=t[2]),t[1]<i[1]&&(i[1]=t[1]),t[3]>i[3]&&(i[3]=t[3]),i}function Ur(i,t){t[0]<i[0]&&(i[0]=t[0]),t[0]>i[2]&&(i[2]=t[0]),t[1]<i[1]&&(i[1]=t[1]),t[1]>i[3]&&(i[3]=t[1])}function wp(i,t,e,n,s){for(;e<n;e+=s)A0(i,t[e],t[e+1]);return i}function A0(i,t,e){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}function Sp(i,t){let e;return e=t(_l(i)),e||(e=t(ml(i)),e)||(e=t(yl(i)),e)||(e=t(Rs(i)),e)?e:!1}function Uc(i){let t=0;return $u(i)||(t=ue(i)*Ui(i)),t}function _l(i){return[i[0],i[1]]}function ml(i){return[i[2],i[1]]}function fr(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function I0(i,t){let e;return t==="bottom-left"?e=_l(i):t==="bottom-right"?e=ml(i):t==="top-left"?e=Rs(i):t==="top-right"?e=yl(i):zt(!1,13),e}function qc(i,t,e,n,s){const[r,o,l,c,h,d,_,m]=Zc(i,t,e,n);return gn(Math.min(r,l,h,_),Math.min(o,c,d,m),Math.max(r,l,h,_),Math.max(o,c,d,m),s)}function Zc(i,t,e,n){const s=t*n[0]/2,r=t*n[1]/2,o=Math.cos(e),l=Math.sin(e),c=s*o,h=s*l,d=r*o,_=r*l,m=i[0],x=i[1];return[m-c+_,x-h-d,m-c-_,x-h+d,m+c-_,x+h+d,m+c+_,x+h-d,m-c+_,x-h-d]}function Ui(i){return i[3]-i[1]}function qr(i,t,e){const n=e||yi();return Je(i,t)?(i[0]>t[0]?n[0]=i[0]:n[0]=t[0],i[1]>t[1]?n[1]=i[1]:n[1]=t[1],i[2]<t[2]?n[2]=i[2]:n[2]=t[2],i[3]<t[3]?n[3]=i[3]:n[3]=t[3]):pl(n),n}function Rs(i){return[i[0],i[3]]}function yl(i){return[i[2],i[3]]}function ue(i){return i[2]-i[0]}function Je(i,t){return i[0]<=t[2]&&i[2]>=t[0]&&i[1]<=t[3]&&i[3]>=t[1]}function $u(i){return i[2]<i[0]||i[3]<i[1]}function R0(i,t){return t?(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t):i}function L0(i,t,e){let n=!1;const s=Kc(i,t),r=Kc(i,e);if(s===Se.INTERSECTING||r===Se.INTERSECTING)n=!0;else{const o=i[0],l=i[1],c=i[2],h=i[3],d=t[0],_=t[1],m=e[0],x=e[1],b=(x-_)/(m-d);let C,S;!!(r&Se.ABOVE)&&!(s&Se.ABOVE)&&(C=m-(x-h)/b,n=C>=o&&C<=c),!n&&!!(r&Se.RIGHT)&&!(s&Se.RIGHT)&&(S=x-(m-c)*b,n=S>=l&&S<=h),!n&&!!(r&Se.BELOW)&&!(s&Se.BELOW)&&(C=m-(x-l)/b,n=C>=o&&C<=c),!n&&!!(r&Se.LEFT)&&!(s&Se.LEFT)&&(S=x-(m-o)*b,n=S>=l&&S<=h)}return n}function Ap(i,t){const e=t.getExtent(),n=fr(i);if(t.canWrapX()&&(n[0]<e[0]||n[0]>=e[2])){const s=ue(e),o=Math.floor((n[0]-e[0])/s)*s;i[0]-=o,i[2]-=o}return i}function O0(i,t){if(t.canWrapX()){const e=t.getExtent();if(!isFinite(i[0])||!isFinite(i[2]))return[[e[0],i[1],e[2],i[3]]];Ap(i,t);const n=ue(e);if(ue(i)>n)return[[e[0],i[1],e[2],i[3]]];if(i[0]<e[0])return[[i[0]+n,i[1],e[2],i[3]],[e[0],i[1],i[2],i[3]]];if(i[2]>e[2])return[[i[0],i[1],e[2],i[3]],[e[0],i[1],i[2]-n,i[3]]]}return[i]}function Ee(i,t,e){return Math.min(Math.max(i,t),e)}function D0(i,t,e,n,s,r){const o=s-e,l=r-n;if(o!==0||l!==0){const c=((i-e)*o+(t-n)*l)/(o*o+l*l);c>1?(e=s,n=r):c>0&&(e+=o*c,n+=l*c)}return sr(i,t,e,n)}function sr(i,t,e,n){const s=e-i,r=n-t;return s*s+r*r}function M0(i){const t=i.length;for(let n=0;n<t;n++){let s=n,r=Math.abs(i[n][n]);for(let l=n+1;l<t;l++){const c=Math.abs(i[l][n]);c>r&&(r=c,s=l)}if(r===0)return null;const o=i[s];i[s]=i[n],i[n]=o;for(let l=n+1;l<t;l++){const c=-i[l][n]/i[n][n];for(let h=n;h<t+1;h++)n==h?i[l][h]=0:i[l][h]+=c*i[n][h]}}const e=new Array(t);for(let n=t-1;n>=0;n--){e[n]=i[n][t]/i[n][n];for(let s=n-1;s>=0;s--)i[s][t]-=i[s][n]*e[n]}return e}function Ta(i){return i*Math.PI/180}function Ts(i,t){const e=i%t;return e*t<0?e+t:e}function ls(i,t,e){return i+e*(t-i)}function Wu(i,t){const e=Math.pow(10,t);return Math.round(i*e)/e}function ea(i,t){return Math.floor(Wu(i,t))}function ia(i,t){return Math.ceil(Wu(i,t))}const P0=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,N0=/^([a-z]*)$|^hsla?\(.*\)$/i;function Ip(i){return typeof i=="string"?i:Rp(i)}function F0(i){const t=document.createElement("div");if(t.style.color=i,t.style.color!==""){document.body.appendChild(t);const e=getComputedStyle(t).color;return document.body.removeChild(t),e}return""}const k0=function(){const t={};let e=0;return function(n){let s;if(t.hasOwnProperty(n))s=t[n];else{if(e>=1024){let r=0;for(const o in t)(r++&3)===0&&(delete t[o],--e)}s=$0(n),t[n]=s,++e}return s}}();function Na(i){return Array.isArray(i)?i:k0(i)}function $0(i){let t,e,n,s,r;if(N0.exec(i)&&(i=F0(i)),P0.exec(i)){const o=i.length-1;let l;o<=4?l=1:l=2;const c=o===4||o===8;t=parseInt(i.substr(1+0*l,l),16),e=parseInt(i.substr(1+1*l,l),16),n=parseInt(i.substr(1+2*l,l),16),c?s=parseInt(i.substr(1+3*l,l),16):s=255,l==1&&(t=(t<<4)+t,e=(e<<4)+e,n=(n<<4)+n,c&&(s=(s<<4)+s)),r=[t,e,n,s/255]}else i.startsWith("rgba(")?(r=i.slice(5,-1).split(",").map(Number),Hf(r)):i.startsWith("rgb(")?(r=i.slice(4,-1).split(",").map(Number),r.push(1),Hf(r)):zt(!1,14);return r}function Hf(i){return i[0]=Ee(i[0]+.5|0,0,255),i[1]=Ee(i[1]+.5|0,0,255),i[2]=Ee(i[2]+.5|0,0,255),i[3]=Ee(i[3],0,1),i}function Rp(i){let t=i[0];t!=(t|0)&&(t=t+.5|0);let e=i[1];e!=(e|0)&&(e=e+.5|0);let n=i[2];n!=(n|0)&&(n=n+.5|0);const s=i[3]===void 0?1:Math.round(i[3]*100)/100;return"rgba("+t+","+e+","+n+","+s+")"}class W0{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];(t++&3)===0&&!n.hasListener()&&(delete this.cache_[e],--this.cacheSize_)}}}get(t,e,n){const s=Vf(t,e,n);return s in this.cache_?this.cache_[s]:null}set(t,e,n,s){const r=Vf(t,e,n);this.cache_[r]=s,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function Vf(i,t,e){const n=e?Ip(e):"null";return t+":"+i+":"+n}const Fa=new W0,ee={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class j0 extends Mi{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);typeof t.properties=="object"&&(delete e.properties,Object.assign(e,t.properties)),e[ee.OPACITY]=t.opacity!==void 0?t.opacity:1,zt(typeof e[ee.OPACITY]=="number",64),e[ee.VISIBLE]=t.visible!==void 0?t.visible:!0,e[ee.Z_INDEX]=t.zIndex,e[ee.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,e[ee.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,e[ee.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,e[ee.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=e.className!==void 0?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:t===void 0?!0:t},n=this.getZIndex();return e.opacity=Ee(Math.round(this.getOpacity()*100)/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=n===void 0&&!e.managed?1/0:n,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return Ut()}getLayerStatesArray(t){return Ut()}getExtent(){return this.get(ee.EXTENT)}getMaxResolution(){return this.get(ee.MAX_RESOLUTION)}getMinResolution(){return this.get(ee.MIN_RESOLUTION)}getMinZoom(){return this.get(ee.MIN_ZOOM)}getMaxZoom(){return this.get(ee.MAX_ZOOM)}getOpacity(){return this.get(ee.OPACITY)}getSourceState(){return Ut()}getVisible(){return this.get(ee.VISIBLE)}getZIndex(){return this.get(ee.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(ee.EXTENT,t)}setMaxResolution(t){this.set(ee.MAX_RESOLUTION,t)}setMinResolution(t){this.set(ee.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(ee.MAX_ZOOM,t)}setMinZoom(t){this.set(ee.MIN_ZOOM,t)}setOpacity(t){zt(typeof t=="number",64),this.set(ee.OPACITY,t)}setVisible(t){this.set(ee.VISIBLE,t)}setZIndex(t){this.set(ee.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Lp=j0,Nn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class B0 extends Lp{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(ee.SOURCE,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(ee.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(le(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=Gt(t,$t.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}render(t,e){const n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,e)}unrender(){this.rendered=!1}setMapInternal(t){t||this.unrender(),this.set(ee.MAP,t)}getMapInternal(){return this.get(ee.MAP)}setMap(t){this.mapPrecomposeKey_&&(le(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(le(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Gt(t,Nn.PRECOMPOSE,function(e){const s=e.frameState.layerStatesArray,r=this.getLayerState(!1);zt(!s.some(function(o){return o.layer===r.layer}),67),s.push(r)},this),this.mapRenderKey_=Gt(this,$t.CHANGE,t.render,t),this.changed())}setSource(t){this.set(ee.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function ju(i,t){if(!i.visible)return!1;const e=t.resolution;if(e<i.minResolution||e>=i.maxResolution)return!1;const n=t.zoom;return n>i.minZoom&&n<=i.maxZoom}const El=B0;function H0(i,t){return i[0]+=+t[0],i[1]+=+t[1],i}function ka(i,t){let e=!0;for(let n=i.length-1;n>=0;--n)if(i[n]!=t[n]){e=!1;break}return e}function Bu(i,t){const e=Math.cos(t),n=Math.sin(t),s=i[0]*e-i[1]*n,r=i[1]*e+i[0]*n;return i[0]=s,i[1]=r,i}function V0(i,t){return i[0]*=t,i[1]*=t,i}function Op(i,t){if(t.canWrapX()){const e=ue(t.getExtent()),n=z0(i,t,e);n&&(i[0]-=n*e)}return i}function z0(i,t,e){const n=t.getExtent();let s=0;return t.canWrapX()&&(i[0]<n[0]||i[0]>n[2])&&(e=e||ue(n),s=Math.floor((i[0]-n[0])/e)),s}class G0 extends Mu{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){Ut()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,s=t.pixelToCoordinateTransform;Wn(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Fu(s,n)}forEachFeatureAtCoordinate(t,e,n,s,r,o,l,c){let h;const d=e.viewState;function _(N,j,g,it){return r.call(o,j,N?g:null,it)}const m=d.projection,x=Op(t.slice(),m),b=[[0,0]];if(m.canWrapX()&&s){const N=m.getExtent(),j=ue(N);b.push([-j,0],[j,0])}const C=e.layerStatesArray,S=C.length,w=[],M=[];for(let N=0;N<b.length;N++)for(let j=S-1;j>=0;--j){const g=C[j],it=g.layer;if(it.hasRenderer()&&ju(g,d)&&l.call(c,it)){const G=it.getRenderer(),et=it.getSource();if(G&&et){const rt=et.getWrapX()?x:t,mt=_.bind(null,g.managed);M[0]=rt[0]+b[N][0],M[1]=rt[1]+b[N][1],h=G.forEachFeatureAtCoordinate(M,e,n,mt,w)}if(h)return h}}if(w.length===0)return;const P=1/w.length;return w.forEach((N,j)=>N.distanceSq+=j*P),w.sort((N,j)=>N.distanceSq-j.distanceSq),w.some(N=>h=N.callback(N.feature,N.layer,N.geometry)),h}hasFeatureAtCoordinate(t,e,n,s,r,o){return this.forEachFeatureAtCoordinate(t,e,n,s,ao,this,r,o)!==void 0}getMap(){return this.map_}renderFrame(t){Ut()}scheduleExpireIconCache(t){Fa.canExpireCache()&&t.postRenderFunctions.push(Y0)}}function Y0(i,t){Fa.expire()}const X0=G0;class K0 extends mn{constructor(t,e,n,s){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=s}}const Dp=K0,na="ol-hidden",U0="ol-selectable",wo="ol-unselectable",zf="ol-unsupported",vl="ol-control",Gf="ol-collapsed",q0=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Yf=["style","variant","weight","size","lineHeight","family"],Mp=function(i){const t=i.match(q0);if(!t)return null;const e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let n=0,s=Yf.length;n<s;++n){const r=t[n+1];r!==void 0&&(e[Yf[n]]=r)}return e.families=e.family.split(/,\s?/),e};function Ve(i,t,e,n){let s;return e&&e.length?s=e.shift():Nu?s=new OffscreenCanvas(i||300,t||300):s=document.createElement("canvas"),i&&(s.width=i),t&&(s.height=t),s.getContext("2d",n)}function xl(i){const t=i.canvas;t.width=1,t.height=1,i.clearRect(0,0,1,1)}function Z0(i){let t=i.offsetWidth;const e=getComputedStyle(i);return t+=parseInt(e.marginLeft,10)+parseInt(e.marginRight,10),t}function J0(i){let t=i.offsetHeight;const e=getComputedStyle(i);return t+=parseInt(e.marginTop,10)+parseInt(e.marginBottom,10),t}function $a(i,t){const e=t.parentNode;e&&e.replaceChild(i,t)}function Wa(i){return i&&i.parentNode?i.parentNode.removeChild(i):null}function Pp(i){for(;i.lastChild;)i.removeChild(i.lastChild)}function Q0(i,t){const e=i.childNodes;for(let n=0;;++n){const s=e[n],r=t[n];if(!s&&!r)break;if(s!==r){if(!s){i.appendChild(r);continue}if(!r){i.removeChild(s),--n;continue}i.insertBefore(r,s)}}}const Np="10px sans-serif",cn="#000",ja="round",uo=[],ho=0,dr="round",fo=10,go="#000",po="center",Ba="middle",ps=[0,0,0,0],_o=1,nn=new Mi;let zs=null,Jc;const Qc={},tx=function(){const t="32px ",e=["monospace","serif"],n=e.length,s="wmytzilWMYTZIL@#/&?$%10\uF013";let r,o;function l(h,d,_){let m=!0;for(let x=0;x<n;++x){const b=e[x];if(o=Ha(h+" "+d+" "+t+b,s),_!=b){const C=Ha(h+" "+d+" "+t+_+","+b,s);m=m&&C!=o}}return!!m}function c(){let h=!0;const d=nn.getKeys();for(let _=0,m=d.length;_<m;++_){const x=d[_];nn.get(x)<100&&(l.apply(this,x.split(`
`))?(bo(Qc),zs=null,Jc=void 0,nn.set(x,100)):(nn.set(x,nn.get(x)+1,!0),h=!1))}h&&(clearInterval(r),r=void 0)}return function(h){const d=Mp(h);if(!d)return;const _=d.families;for(let m=0,x=_.length;m<x;++m){const b=_[m],C=d.style+`
`+d.weight+`
`+b;nn.get(C)===void 0&&(nn.set(C,100,!0),l(d.style,d.weight,b)||(nn.set(C,0,!0),r===void 0&&(r=setInterval(c,32))))}}}(),ex=function(){let i;return function(t){let e=Qc[t];if(e==null){if(Nu){const n=Mp(t),s=Fp(t,"\u017Dg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(s.actualBoundingBoxAscent+s.actualBoundingBoxDescent)}else i||(i=document.createElement("div"),i.innerHTML="M",i.style.minHeight="0",i.style.maxHeight="none",i.style.height="auto",i.style.padding="0",i.style.border="none",i.style.position="absolute",i.style.display="block",i.style.left="-99999px"),i.style.font=t,document.body.appendChild(i),e=i.offsetHeight,document.body.removeChild(i);Qc[t]=e}return e}}();function Fp(i,t){return zs||(zs=Ve(1,1)),i!=Jc&&(zs.font=i,Jc=zs.font),zs.measureText(t)}function Ha(i,t){return Fp(i,t).width}function Xf(i,t,e){if(t in e)return e[t];const n=t.split(`
`).reduce((s,r)=>Math.max(s,Ha(i,r)),0);return e[t]=n,n}function ix(i,t){const e=[],n=[],s=[];let r=0,o=0,l=0,c=0;for(let h=0,d=t.length;h<=d;h+=2){const _=t[h];if(_===`
`||h===d){r=Math.max(r,o),s.push(o),o=0,l+=c;continue}const m=t[h+1]||i.font,x=Ha(m,_);e.push(x),o+=x;const b=ex(m);n.push(b),c=Math.max(c,b)}return{width:r,height:l,widths:e,heights:n,lineWidths:s}}function nx(i,t,e,n,s,r,o,l,c,h,d){i.save(),e!==1&&(i.globalAlpha*=e),t&&i.setTransform.apply(i,t),n.contextInstructions?(i.translate(c,h),i.scale(d[0],d[1]),sx(n,i)):d[0]<0||d[1]<0?(i.translate(c,h),i.scale(d[0],d[1]),i.drawImage(n,s,r,o,l,0,0,o,l)):i.drawImage(n,s,r,o,l,c,h,o*d[0],l*d[1]),i.restore()}function sx(i,t){const e=i.contextInstructions;for(let n=0,s=e.length;n<s;n+=2)Array.isArray(e[n+1])?t[e[n]].apply(t,e[n+1]):t[e[n]]=e[n+1]}class rx extends X0{constructor(t){super(t),this.fontChangeListenerKey_=Gt(nn,ur.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=wo+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const s=new Dp(t,void 0,e);n.dispatchEvent(s)}}disposeInternal(){le(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Nn.PRECOMPOSE,t);const e=t.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex}),n=t.viewState;this.children_.length=0;const s=[];let r=null;for(let o=0,l=e.length;o<l;++o){const c=e[o];t.layerIndex=o;const h=c.layer,d=h.getSourceState();if(!ju(c,n)||d!="ready"&&d!="undefined"){h.unrender();continue}const _=h.render(t,r);!_||(_!==r&&(this.children_.push(_),r=_),"getDeclutter"in h&&s.push(h))}for(let o=s.length-1;o>=0;--o)s[o].renderDeclutter(t);Q0(this.element_,this.children_),this.dispatchRenderEvent(Nn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}}const ox=rx;class On extends mn{constructor(t,e){super(t),this.layer=e}}const cc={LAYERS:"layers"};class Hu extends Lp{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(cc.LAYERS,this.handleLayersChanged_),n?Array.isArray(n)?n=new Vi(n.slice(),{unique:!0}):zt(typeof n.getArray=="function",43):n=new Vi(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(le),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(Gt(t,Ze.ADD,this.handleLayersAdd_,this),Gt(t,Ze.REMOVE,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(le);bo(this.listenerKeys_);const e=t.getArray();for(let n=0,s=e.length;n<s;n++){const r=e[n];this.registerLayerListeners_(r),this.dispatchEvent(new On("addlayer",r))}this.changed()}registerLayerListeners_(t){const e=[Gt(t,ur.PROPERTYCHANGE,this.handleLayerChange_,this),Gt(t,$t.CHANGE,this.handleLayerChange_,this)];t instanceof Hu&&e.push(Gt(t,"addlayer",this.handleLayerGroupAdd_,this),Gt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[qt(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new On("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new On("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new On("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=qt(e);this.listenerKeys_[n].forEach(le),delete this.listenerKeys_[n],this.dispatchEvent(new On("removelayer",e)),this.changed()}getLayers(){return this.get(cc.LAYERS)}setLayers(t){const e=this.getLayers();if(e){const n=e.getArray();for(let s=0,r=n.length;s<r;++s)this.dispatchEvent(new On("removelayer",n[s]))}this.set(cc.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(e){e.getLayersArray(t)}),t}getLayerStatesArray(t){const e=t!==void 0?t:[],n=e.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(e)});const s=this.getLayerState();let r=s.zIndex;!t&&s.zIndex===void 0&&(r=0);for(let o=n,l=e.length;o<l;o++){const c=e[o];c.opacity*=s.opacity,c.visible=c.visible&&s.visible,c.maxResolution=Math.min(c.maxResolution,s.maxResolution),c.minResolution=Math.max(c.minResolution,s.minResolution),c.minZoom=Math.max(c.minZoom,s.minZoom),c.maxZoom=Math.min(c.maxZoom,s.maxZoom),s.extent!==void 0&&(c.extent!==void 0?c.extent=qr(c.extent,s.extent):c.extent=s.extent),c.zIndex===void 0&&(c.zIndex=r)}return e}getSourceState(){return"ready"}}const Cl=Hu;class ax extends mn{constructor(t,e,n){super(t),this.map=e,this.frameState=n!==void 0?n:null}}const Gs=ax;class lx extends Gs{constructor(t,e,n,s,r,o){super(t,e,r),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0?s:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Rn=lx,pe={SINGLECLICK:"singleclick",CLICK:$t.CLICK,DBLCLICK:$t.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},tu={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class cx extends fl{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e===void 0?1:e,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=Gt(n,tu.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Gt(n,tu.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener($t.TOUCHMOVE,this.boundHandleTouchMove_,vp?{passive:!1}:!1)}emulateClick_(t){let e=new Rn(pe.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Rn(pe.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const n=new Rn(pe.SINGLECLICK,this.map_,t);this.dispatchEvent(n)},250)}updateActivePointers_(t){const e=t,n=e.pointerId;if(e.type==pe.POINTERUP||e.type==pe.POINTERCANCEL){delete this.trackedTouches_[n];for(const s in this.trackedTouches_)if(this.trackedTouches_[s].target!==e.target){delete this.trackedTouches_[s];break}}else(e.type==pe.POINTERDOWN||e.type==pe.POINTERMOVE)&&(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new Rn(pe.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(le),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const e=new Rn(pe.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.down_={};for(const n in t){const s=t[n];this.down_[n]=typeof s=="function"?Ss:s}if(this.dragListenerKeys_.length===0){const n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Gt(n,pe.POINTERMOVE,this.handlePointerMove_,this),Gt(n,pe.POINTERUP,this.handlePointerUp_,this),Gt(this.element_,pe.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(Gt(this.element_.getRootNode(),pe.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new Rn(pe.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Rn(pe.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(le(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener($t.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(le(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(le),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const ux=cx,on={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},we={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Va=1/0;class hx{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,bo(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];t.length==1?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const s=this.keyFunction_(n);return delete this.queuedElements_[s],n}enqueue(t){zt(!(this.keyFunction_(t)in this.queuedElements_),31);const e=this.priorityFunction_(t);return e!=Va?(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,s=e.length,r=e[t],o=n[t],l=t;for(;t<s>>1;){const c=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),d=h<s&&n[h]<n[c]?h:c;e[t]=e[d],n[t]=n[d],t=d}e[t]=r,n[t]=o,this.siftDown_(l,t)}siftDown_(t,e){const n=this.elements_,s=this.priorities_,r=n[e],o=s[e];for(;e>t;){const l=this.getParentIndex_(e);if(s[l]>o)n[e]=n[l],s[e]=s[l],e=l;else break}n[e]=r,s[e]=o}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let s=0;const r=e.length;let o,l,c;for(l=0;l<r;++l)o=e[l],c=t(o),c==Va?delete this.queuedElements_[this.keyFunction_(o)]:(n[s]=c,e[s++]=o);e.length=s,n.length=s,this.heapify_()}}const fx=hx,Tt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class dx extends fx{constructor(t,e){super(function(n){return t.apply(null,n)},function(n){return n[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener($t.CHANGE,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(n===Tt.LOADED||n===Tt.ERROR||n===Tt.EMPTY){n!==Tt.ERROR&&e.removeEventListener($t.CHANGE,this.boundHandleTileChange_);const s=e.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n=0,s,r,o;for(;this.tilesLoading_<t&&n<e&&this.getCount()>0;)r=this.dequeue()[0],o=r.getKey(),s=r.getState(),s===Tt.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++n,r.load())}}const gx=dx;function px(i,t,e,n,s){if(!i||!(e in i.wantedTiles)||!i.wantedTiles[e][t.getKey()])return Va;const r=i.viewState.center,o=n[0]-r[0],l=n[1]-r[1];return 65536*Math.log(s)+Math.sqrt(o*o+l*l)/s}const Pe={ANIMATING:0,INTERACTING:1},wi={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},_x=42,Vu=256,mo={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class mx{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||mo[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const kp=mx,So=6378137,Js=Math.PI*So,yx=[-Js,-Js,Js,Js],Ex=[-180,-85,180,85],sa=So*Math.log(Math.tan(Math.PI/2));class ks extends kp{constructor(t){super({code:t,units:"m",extent:yx,global:!0,worldExtent:Ex,getPointResolution:function(e,n){return e/Math.cosh(n[1]/So)}})}}const Kf=[new ks("EPSG:3857"),new ks("EPSG:102100"),new ks("EPSG:102113"),new ks("EPSG:900913"),new ks("http://www.opengis.net/def/crs/EPSG/0/3857"),new ks("http://www.opengis.net/gml/srs/epsg.xml#3857")];function vx(i,t,e){const n=i.length;e=e>1?e:2,t===void 0&&(e>2?t=i.slice():t=new Array(n));for(let s=0;s<n;s+=e){t[s]=Js*i[s]/180;let r=So*Math.log(Math.tan(Math.PI*(+i[s+1]+90)/360));r>sa?r=sa:r<-sa&&(r=-sa),t[s+1]=r}return t}function xx(i,t,e){const n=i.length;e=e>1?e:2,t===void 0&&(e>2?t=i.slice():t=new Array(n));for(let s=0;s<n;s+=e)t[s]=180*i[s]/Js,t[s+1]=360*Math.atan(Math.exp(i[s+1]/So))/Math.PI-90;return t}const Cx=6378137,Uf=[-180,-90,180,90],Tx=Math.PI*Cx/180;class rs extends kp{constructor(t,e){super({code:t,units:"degrees",extent:Uf,axisOrientation:e,global:!0,metersPerUnit:Tx,worldExtent:Uf})}}const qf=[new rs("CRS:84"),new rs("EPSG:4326","neu"),new rs("urn:ogc:def:crs:OGC:1.3:CRS84"),new rs("urn:ogc:def:crs:OGC:2:84"),new rs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new rs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new rs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let eu={};function bx(i){return eu[i]||eu[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function wx(i,t){eu[i]=t}let rr={};function za(i,t,e){const n=i.getCode(),s=t.getCode();n in rr||(rr[n]={}),rr[n][s]=e}function Sx(i,t){let e;return i in rr&&t in rr[i]&&(e=rr[i][t]),e}const Ax=63710088e-1;function Zf(i,t,e){e=e||Ax;const n=Ta(i[1]),s=Ta(t[1]),r=(s-n)/2,o=Ta(t[0]-i[0])/2,l=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(n)*Math.cos(s);return 2*e*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}const $p={info:1,warn:2,error:3,none:4};let Ix=$p.info;function Wp(...i){Ix>$p.warn||console.warn(...i)}let iu=!0;function Rx(i){iu=!(i===void 0?!0:i)}function zu(i,t){if(t!==void 0){for(let e=0,n=i.length;e<n;++e)t[e]=i[e];t=t}else t=i.slice();return t}function jp(i,t){if(t!==void 0&&i!==t){for(let e=0,n=i.length;e<n;++e)t[e]=i[e];i=t}return i}function Lx(i){wx(i.getCode(),i),za(i,i,zu)}function Ox(i){i.forEach(Lx)}function Di(i){return typeof i=="string"?bx(i):i||null}function Jf(i,t,e,n){i=Di(i);let s;const r=i.getPointResolutionFunc();if(r){if(s=r(t,e),n&&n!==i.getUnits()){const o=i.getMetersPerUnit();o&&(s=s*o/mo[n])}}else{const o=i.getUnits();if(o=="degrees"&&!n||n=="degrees")s=t;else{const l=Yu(i,Di("EPSG:4326"));if(l===jp&&o!=="degrees")s=t*i.getMetersPerUnit();else{let h=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];h=l(h,h,2);const d=Zf(h.slice(0,2),h.slice(2,4)),_=Zf(h.slice(4,6),h.slice(6,8));s=(d+_)/2}const c=n?mo[n]:i.getMetersPerUnit();c!==void 0&&(s/=c)}}return s}function Qf(i){Ox(i),i.forEach(function(t){i.forEach(function(e){t!==e&&za(t,e,zu)})})}function Dx(i,t,e,n){i.forEach(function(s){t.forEach(function(r){za(s,r,e),za(r,s,n)})})}function Gu(i,t){if(i){if(typeof i=="string")return Di(i)}else return Di(t);return i}function Ys(i,t){if(i===t)return!0;const e=i.getUnits()===t.getUnits();return(i.getCode()===t.getCode()||Yu(i,t)===zu)&&e}function Yu(i,t){const e=i.getCode(),n=t.getCode();let s=Sx(e,n);return s||(s=jp),s}function Ga(i,t){const e=Di(i),n=Di(t);return Yu(e,n)}function Mx(i,t,e){return Ga(t,e)(i,void 0,i.length)}function nu(i,t){return i}function sn(i,t){return iu&&!ka(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(iu=!1,Wp("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),i}function Bp(i,t){return i}function _s(i,t){return i}function Px(){Qf(Kf),Qf(qf),Dx(qf,Kf,vx,xx)}Px();function td(i,t,e){return function(n,s,r,o,l){if(!n)return;if(!s&&!t)return n;const c=t?0:r[0]*s,h=t?0:r[1]*s,d=l?l[0]:0,_=l?l[1]:0;let m=i[0]+c/2+d,x=i[2]-c/2+d,b=i[1]+h/2+_,C=i[3]-h/2+_;m>x&&(m=(x+m)/2,x=m),b>C&&(b=(C+b)/2,C=b);let S=Ee(n[0],m,x),w=Ee(n[1],b,C);if(o&&e&&s){const M=30*s;S+=-M*Math.log(1+Math.max(0,m-n[0])/M)+M*Math.log(1+Math.max(0,n[0]-x)/M),w+=-M*Math.log(1+Math.max(0,b-n[1])/M)+M*Math.log(1+Math.max(0,n[1]-C)/M)}return[S,w]}}function Nx(i){return i}function Xu(i,t,e,n){const s=ue(t)/e[0],r=Ui(t)/e[1];return n?Math.min(i,Math.max(s,r)):Math.min(i,Math.min(s,r))}function Ku(i,t,e){let n=Math.min(i,t);const s=50;return n*=Math.log(1+s*Math.max(0,i/t-1))/s+1,e&&(n=Math.max(n,e),n/=Math.log(1+s*Math.max(0,e/i-1))/s+1),Ee(n,e/2,t*2)}function Fx(i,t,e,n){return t=t!==void 0?t:!0,function(s,r,o,l){if(s!==void 0){const c=i[0],h=i[i.length-1],d=e?Xu(c,e,o,n):c;if(l)return t?Ku(s,d,h):Ee(s,h,d);const _=Math.min(d,s),m=Math.floor(Pu(i,_,r));return i[m]>d&&m<i.length-1?i[m+1]:i[m]}}}function kx(i,t,e,n,s,r){return n=n!==void 0?n:!0,e=e!==void 0?e:0,function(o,l,c,h){if(o!==void 0){const d=s?Xu(t,s,c,r):t;if(h)return n?Ku(o,d,e):Ee(o,e,d);const _=1e-9,m=Math.ceil(Math.log(t/d)/Math.log(i)-_),x=-l*(.5-_)+.5,b=Math.min(d,o),C=Math.floor(Math.log(t/b)/Math.log(i)+x),S=Math.max(m,C),w=t/Math.pow(i,S);return Ee(w,e,d)}}}function ed(i,t,e,n,s){return e=e!==void 0?e:!0,function(r,o,l,c){if(r!==void 0){const h=n?Xu(i,n,l,s):i;return!e||!c?Ee(r,t,h):Ku(r,h,t)}}}function Uu(i){if(i!==void 0)return 0}function id(i){if(i!==void 0)return i}function $x(i){const t=2*Math.PI/i;return function(e,n){if(n)return e;if(e!==void 0)return e=Math.floor(e/t+.5)*t,e}}function Wx(i){return i=i||Ta(5),function(t,e){if(e)return t;if(t!==void 0)return Math.abs(t)<=i?0:t}}function Hp(i){return Math.pow(i,3)}function br(i){return 1-Hp(1-i)}function jx(i){return 3*i*i-2*i*i*i}function Bx(i){return i}function bs(i,t,e,n,s,r){r=r||[];let o=0;for(let l=t;l<e;l+=n){const c=i[l],h=i[l+1];r[o++]=s[0]*c+s[2]*h+s[4],r[o++]=s[1]*c+s[3]*h+s[5]}return r&&r.length!=o&&(r.length=o),r}function Vp(i,t,e,n,s,r,o){o=o||[];const l=Math.cos(s),c=Math.sin(s),h=r[0],d=r[1];let _=0;for(let m=t;m<e;m+=n){const x=i[m]-h,b=i[m+1]-d;o[_++]=h+x*l-b*c,o[_++]=d+x*c+b*l;for(let C=m+2;C<m+n;++C)o[_++]=i[C]}return o&&o.length!=_&&(o.length=_),o}function Hx(i,t,e,n,s,r,o,l){l=l||[];const c=o[0],h=o[1];let d=0;for(let _=t;_<e;_+=n){const m=i[_]-c,x=i[_+1]-h;l[d++]=c+s*m,l[d++]=h+r*x;for(let b=_+2;b<_+n;++b)l[d++]=i[b]}return l&&l.length!=d&&(l.length=d),l}function Vx(i,t,e,n,s,r,o){o=o||[];let l=0;for(let c=t;c<e;c+=n){o[l++]=i[c]+s,o[l++]=i[c+1]+r;for(let h=c+2;h<c+n;++h)o[l++]=i[h]}return o&&o.length!=l&&(o.length=l),o}const nd=Yi();class zx extends Mi{constructor(){super(),this.extent_=yi(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=a0(function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);const s=this.clone();return s.applyTransform(n),s.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return Ut()}closestPointXY(t,e,n,s){return Ut()}containsXY(t,e){const n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Ut()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&pl(e),this.extentRevision_=this.getRevision()}return R0(this.extent_,t)}rotate(t,e){Ut()}scale(t,e,n){Ut()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Ut()}getType(){return Ut()}applyTransform(t){Ut()}intersectsExtent(t){return Ut()}translate(t,e){Ut()}transform(t,e){const n=Di(t),s=n.getUnits()=="tile-pixels"?function(r,o,l){const c=n.getExtent(),h=n.getWorldExtent(),d=Ui(h)/Ui(c);return Wn(nd,h[0],h[3],d,-d,0,0,0),bs(r,0,r.length,l,nd,o),Ga(n,e)(r,o,l)}:Ga(n,e);return this.applyTransform(s),this}}const Gx=zx;class Yx extends Gx{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return w0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Ut()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=sd(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){Ut()}setLayout(t,e,n){let s;if(t)s=sd(t);else{for(let r=0;r<n;++r){if(e.length===0){this.layout="XY",this.stride=2;return}e=e[0]}s=e.length,t=Xx(s)}this.layout=t,this.stride=s}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const s=this.getStride();Vp(n,0,n.length,s,t,e,n),this.changed()}}scale(t,e,n){e===void 0&&(e=t),n||(n=fr(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();Hx(s,0,s.length,r,t,e,n,s),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const s=this.getStride();Vx(n,0,n.length,s,t,e,n),this.changed()}}}function Xx(i){let t;return i==2?t="XY":i==3?t="XYZ":i==4&&(t="XYZM"),t}function sd(i){let t;return i=="XY"?t=2:i=="XYZ"||i=="XYM"?t=3:i=="XYZM"&&(t=4),t}function Kx(i,t,e){const n=i.getFlatCoordinates();if(!n)return null;const s=i.getStride();return bs(n,0,n.length,s,t,e)}const qu=Yx;function rd(i,t,e,n,s,r,o){const l=i[t],c=i[t+1],h=i[e]-l,d=i[e+1]-c;let _;if(h===0&&d===0)_=t;else{const m=((s-l)*h+(r-c)*d)/(h*h+d*d);if(m>1)_=e;else if(m>0){for(let x=0;x<n;++x)o[x]=ls(i[t+x],i[e+x],m);o.length=n;return}else _=t}for(let m=0;m<n;++m)o[m]=i[_+m];o.length=n}function zp(i,t,e,n,s){let r=i[t],o=i[t+1];for(t+=n;t<e;t+=n){const l=i[t],c=i[t+1],h=sr(r,o,l,c);h>s&&(s=h),r=l,o=c}return s}function Ux(i,t,e,n,s){for(let r=0,o=e.length;r<o;++r){const l=e[r];s=zp(i,t,l,n,s),t=l}return s}function Gp(i,t,e,n,s,r,o,l,c,h,d){if(t==e)return h;let _,m;if(s===0){if(m=sr(o,l,i[t],i[t+1]),m<h){for(_=0;_<n;++_)c[_]=i[t+_];return c.length=n,m}return h}d=d||[NaN,NaN];let x=t+n;for(;x<e;)if(rd(i,x-n,x,n,o,l,d),m=sr(o,l,d[0],d[1]),m<h){for(h=m,_=0;_<n;++_)c[_]=d[_];c.length=n,x+=n}else x+=n*Math.max((Math.sqrt(m)-Math.sqrt(h))/s|0,1);if(r&&(rd(i,e-n,t,n,o,l,d),m=sr(o,l,d[0],d[1]),m<h)){for(h=m,_=0;_<n;++_)c[_]=d[_];c.length=n}return h}function qx(i,t,e,n,s,r,o,l,c,h,d){d=d||[NaN,NaN];for(let _=0,m=e.length;_<m;++_){const x=e[_];h=Gp(i,t,x,n,s,r,o,l,c,h,d),t=x}return h}function Zx(i,t,e,n){for(let s=0,r=e.length;s<r;++s)i[t++]=e[s];return t}function Yp(i,t,e,n){for(let s=0,r=e.length;s<r;++s){const o=e[s];for(let l=0;l<n;++l)i[t++]=o[l]}return t}function Jx(i,t,e,n,s){s=s||[];let r=0;for(let o=0,l=e.length;o<l;++o){const c=Yp(i,t,e[o],n);s[r++]=c,t=c}return s.length=r,s}function Qx(i,t,e,n,s,r,o){const l=(e-t)/n;if(l<3){for(;t<e;t+=n)r[o++]=i[t],r[o++]=i[t+1];return o}const c=new Array(l);c[0]=1,c[l-1]=1;const h=[t,e-n];let d=0;for(;h.length>0;){const _=h.pop(),m=h.pop();let x=0;const b=i[m],C=i[m+1],S=i[_],w=i[_+1];for(let M=m+n;M<_;M+=n){const P=i[M],N=i[M+1],j=D0(P,N,b,C,S,w);j>x&&(d=M,x=j)}x>s&&(c[(d-t)/n]=1,m+n<d&&h.push(m,d),d+n<_&&h.push(d,_))}for(let _=0;_<l;++_)c[_]&&(r[o++]=i[t+_*n],r[o++]=i[t+_*n+1]);return o}function cs(i,t){return t*Math.round(i/t)}function tC(i,t,e,n,s,r,o){if(t==e)return o;let l=cs(i[t],s),c=cs(i[t+1],s);t+=n,r[o++]=l,r[o++]=c;let h,d;do if(h=cs(i[t],s),d=cs(i[t+1],s),t+=n,t==e)return r[o++]=h,r[o++]=d,o;while(h==l&&d==c);for(;t<e;){const _=cs(i[t],s),m=cs(i[t+1],s);if(t+=n,_==h&&m==d)continue;const x=h-l,b=d-c,C=_-l,S=m-c;if(x*S==b*C&&(x<0&&C<x||x==C||x>0&&C>x)&&(b<0&&S<b||b==S||b>0&&S>b)){h=_,d=m;continue}r[o++]=h,r[o++]=d,l=h,c=d,h=_,d=m}return r[o++]=h,r[o++]=d,o}function eC(i,t,e,n,s,r,o,l){for(let c=0,h=e.length;c<h;++c){const d=e[c];o=tC(i,t,d,n,s,r,o),l.push(o),t=d}return o}function Qs(i,t,e,n,s){s=s!==void 0?s:[];let r=0;for(let o=t;o<e;o+=n)s[r++]=i.slice(o,o+n);return s.length=r,s}function Ya(i,t,e,n,s){s=s!==void 0?s:[];let r=0;for(let o=0,l=e.length;o<l;++o){const c=e[o];s[r++]=Qs(i,t,c,n,s[r]),t=c}return s.length=r,s}function od(i,t,e,n,s){s=s!==void 0?s:[];let r=0;for(let o=0,l=e.length;o<l;++o){const c=e[o];s[r++]=c.length===1&&c[0]===t?[]:Ya(i,t,c,n,s[r]),t=c[c.length-1]}return s.length=r,s}function Xp(i,t,e,n){let s=0,r=i[e-n],o=i[e-n+1];for(;t<e;t+=n){const l=i[t],c=i[t+1];s+=o*l-r*c,r=l,o=c}return s/2}function iC(i,t,e,n){let s=0;for(let r=0,o=e.length;r<o;++r){const l=e[r];s+=Xp(i,t,l,n),t=l}return s}class Xa extends qu{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}clone(){return new Xa(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,s){return s<Tp(this.getExtent(),t,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(zp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Gp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,s))}getArea(){return Xp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Qs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=Qx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new Xa(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Yp(this.flatCoordinates,0,t,this.stride),this.changed()}}const ad=Xa;class Zu extends qu{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new Zu(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,s){const r=this.flatCoordinates,o=sr(t,e,r[0],r[1]);if(o<s){const l=this.stride;for(let c=0;c<l;++c)n[c]=r[c];return n.length=l,o}return s}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return b0(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return bp(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Zx(this.flatCoordinates,0,t,this.stride),this.changed()}}const Kp=Zu;function nC(i,t,e,n,s){return!Sp(s,function(o){return!ms(i,t,e,n,o[0],o[1])})}function ms(i,t,e,n,s,r){let o=0,l=i[e-n],c=i[e-n+1];for(;t<e;t+=n){const h=i[t],d=i[t+1];c<=r?d>r&&(h-l)*(r-c)-(s-l)*(d-c)>0&&o++:d<=r&&(h-l)*(r-c)-(s-l)*(d-c)<0&&o--,l=h,c=d}return o!==0}function Up(i,t,e,n,s,r){if(e.length===0||!ms(i,t,e[0],n,s,r))return!1;for(let o=1,l=e.length;o<l;++o)if(ms(i,e[o-1],e[o],n,s,r))return!1;return!0}function sC(i,t,e,n,s,r,o){let l,c,h,d,_,m,x;const b=s[r+1],C=[];for(let M=0,P=e.length;M<P;++M){const N=e[M];for(d=i[N-n],m=i[N-n+1],l=t;l<N;l+=n)_=i[l],x=i[l+1],(b<=m&&x<=b||m<=b&&b<=x)&&(h=(b-m)/(x-m)*(_-d)+d,C.push(h)),d=_,m=x}let S=NaN,w=-1/0;for(C.sort(hr),d=C[0],l=1,c=C.length;l<c;++l){_=C[l];const M=Math.abs(_-d);M>w&&(h=(d+_)/2,Up(i,t,e,n,h,b)&&(S=h,w=M)),d=_}return isNaN(S)&&(S=s[r]),o?(o.push(S,b,w),o):[S,b,w]}function rC(i,t,e,n,s){let r;for(t+=n;t<e;t+=n)if(r=s(i.slice(t-n,t),i.slice(t,t+n)),r)return r;return!1}function qp(i,t,e,n,s){const r=wp(yi(),i,t,e,n);return Je(s,r)?gs(s,r)||r[0]>=s[0]&&r[2]<=s[2]||r[1]>=s[1]&&r[3]<=s[3]?!0:rC(i,t,e,n,function(o,l){return L0(s,o,l)}):!1}function Zp(i,t,e,n,s){return!!(qp(i,t,e,n,s)||ms(i,t,e,n,s[0],s[1])||ms(i,t,e,n,s[0],s[3])||ms(i,t,e,n,s[2],s[1])||ms(i,t,e,n,s[2],s[3]))}function oC(i,t,e,n,s){if(!Zp(i,t,e[0],n,s))return!1;if(e.length===1)return!0;for(let r=1,o=e.length;r<o;++r)if(nC(i,e[r-1],e[r],n,s)&&!qp(i,e[r-1],e[r],n,s))return!1;return!0}function aC(i,t,e,n){for(;t<e-n;){for(let s=0;s<n;++s){const r=i[t+s];i[t+s]=i[e-n+s],i[e-n+s]=r}t+=n,e-=n}}function Jp(i,t,e,n){let s=0,r=i[e-n],o=i[e-n+1];for(;t<e;t+=n){const l=i[t],c=i[t+1];s+=(l-r)*(c+o),r=l,o=c}return s===0?void 0:s>0}function lC(i,t,e,n,s){s=s!==void 0?s:!1;for(let r=0,o=e.length;r<o;++r){const l=e[r],c=Jp(i,t,l,n);if(r===0){if(s&&c||!s&&!c)return!1}else if(s&&!c||!s&&c)return!1;t=l}return!0}function ld(i,t,e,n,s){s=s!==void 0?s:!1;for(let r=0,o=e.length;r<o;++r){const l=e[r],c=Jp(i,t,l,n);(r===0?s&&c||!s&&!c:s&&!c||!s&&c)&&aC(i,t,l,n),t=l}return t}class yo extends qu{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,e!==void 0&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?_p(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new yo(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,s){return s<Tp(this.getExtent(),t,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ux(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),qx(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,s))}containsXY(t,e){return Up(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return iC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),ld(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Ya(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=fr(this.getExtent());this.flatInteriorPoint_=sC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Kp(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new ad(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,s=[];let r=0;for(let o=0,l=n.length;o<l;++o){const c=n[o],h=new ad(e.slice(r,c),t);s.push(h),r=c}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;lC(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ld(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=eC(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new yo(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return oC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Jx(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}}function cd(i){const t=i[0],e=i[1],n=i[2],s=i[3],r=[t,e,t,s,n,s,n,e,t,e];return new yo(r,"XY",[r.length])}const uc=0;class cC extends Mi{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Gu(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Rx(),t.center&&(t.center=sn(t.center,this.projection_)),t.extent&&(t.extent=_s(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const l in wi)delete e[l];this.setProperties(e,!0);const n=hC(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const s=uC(t),r=n.constraint,o=fC(t);this.constraints_={center:s,resolution:r,rotation:o},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenter();if(n){const s=t||[0,0,0,0];e=e||[0,0,0,0];const r=this.getResolution(),o=r/2*(s[3]-e[3]+e[1]-s[1]),l=r/2*(s[0]-e[0]+e[2]-s[2]);this.setCenterInternal([n[0]+o,n[1]-l])}}getUpdatedOptions_(t){const e=this.getProperties();return e.resolution!==void 0?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let n=0;n<e.length;++n){let s=arguments[n];s.center&&(s=Object.assign({},s),s.center=sn(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=sn(s.anchor,this.getProjection())),e[n]=s}this.animateInternal.apply(this,e)}animateInternal(t){let e=arguments.length,n;e>1&&typeof arguments[e-1]=="function"&&(n=arguments[e-1],--e);let s=0;for(;s<e&&!this.isDef();++s){const d=arguments[s];d.center&&this.setCenterInternal(d.center),d.zoom!==void 0?this.setZoom(d.zoom):d.resolution&&this.setResolution(d.resolution),d.rotation!==void 0&&this.setRotation(d.rotation)}if(s===e){n&&ra(n,!0);return}let r=Date.now(),o=this.targetCenter_.slice(),l=this.targetResolution_,c=this.targetRotation_;const h=[];for(;s<e;++s){const d=arguments[s],_={start:r,complete:!1,anchor:d.anchor,duration:d.duration!==void 0?d.duration:1e3,easing:d.easing||jx,callback:n};if(d.center&&(_.sourceCenter=o,_.targetCenter=d.center.slice(),o=_.targetCenter),d.zoom!==void 0?(_.sourceResolution=l,_.targetResolution=this.getResolutionForZoom(d.zoom),l=_.targetResolution):d.resolution&&(_.sourceResolution=l,_.targetResolution=d.resolution,l=_.targetResolution),d.rotation!==void 0){_.sourceRotation=c;const m=Ts(d.rotation-c+Math.PI,2*Math.PI)-Math.PI;_.targetRotation=c+m,c=_.targetRotation}dC(_)?_.complete=!0:r+=_.duration,h.push(_)}this.animations_.push(h),this.setHint(Pe.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Pe.ANIMATING]>0}getInteracting(){return this.hints_[Pe.INTERACTING]>0}cancelAnimations(){this.setHint(Pe.ANIMATING,-this.hints_[Pe.ANIMATING]);let t;for(let e=0,n=this.animations_.length;e<n;++e){const s=this.animations_[e];if(s[0].callback&&ra(s[0].callback,!1),!t)for(let r=0,o=s.length;r<o;++r){const l=s[r];if(!l.complete){t=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const s=this.animations_[n];let r=!0;for(let o=0,l=s.length;o<l;++o){const c=s[o];if(c.complete)continue;const h=t-c.start;let d=c.duration>0?h/c.duration:1;d>=1?(c.complete=!0,d=1):r=!1;const _=c.easing(d);if(c.sourceCenter){const m=c.sourceCenter[0],x=c.sourceCenter[1],b=c.targetCenter[0],C=c.targetCenter[1];this.nextCenter_=c.targetCenter;const S=m+_*(b-m),w=x+_*(C-x);this.targetCenter_=[S,w]}if(c.sourceResolution&&c.targetResolution){const m=_===1?c.targetResolution:c.sourceResolution+_*(c.targetResolution-c.sourceResolution);if(c.anchor){const x=this.getViewportSize_(this.getRotation()),b=this.constraints_.resolution(m,0,x,!0);this.targetCenter_=this.calculateCenterZoom(b,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=m,this.applyTargetState_(!0)}if(c.sourceRotation!==void 0&&c.targetRotation!==void 0){const m=_===1?Ts(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+_*(c.targetRotation-c.sourceRotation);if(c.anchor){const x=this.constraints_.rotation(m,!0);this.targetCenter_=this.calculateCenterRotate(x,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=m}if(this.applyTargetState_(!0),e=!0,!c.complete)break}if(r){this.animations_[n]=null,this.setHint(Pe.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=s[0].callback;o&&ra(o,!0)}}this.animations_=this.animations_.filter(Boolean),e&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const s=this.getCenterInternal();return s!==void 0&&(n=[s[0]-e[0],s[1]-e[1]],Bu(n,t-this.getRotation()),H0(n,e)),n}calculateCenterZoom(t,e){let n;const s=this.getCenterInternal(),r=this.getResolution();if(s!==void 0&&r!==void 0){const o=e[0]-t*(e[0]-s[0])/r,l=e[1]-t*(e[1]-s[1])/r;n=[o,l]}return n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],s=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(s*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(s*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&nu(t,this.getProjection())}getCenterInternal(){return this.get(wi.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return Bp(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();zt(e,1);const n=this.getResolution();zt(n!==void 0,2);const s=this.getRotation();return zt(s!==void 0,3),qc(e,n,s,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(wi.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal(_s(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=ue(t)/e[0],s=Ui(t)/e[1];return Math.max(n,s)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,s=Math.log(e/n)/Math.log(t);return function(r){return e/Math.pow(t,r*s)}}getRotation(){return this.get(wi.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(n/s)/e;return function(o){return Math.log(n/o)/e/r}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let s=this.getCenterInternal();const r=this.padding_;if(r){const o=this.getViewportSizeMinusPadding_();s=hc(s,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],e,n)}return{center:s.slice(0),projection:t!==void 0?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getZoom(){let t;const e=this.getResolution();return e!==void 0&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e=this.minZoom_||0,n,s;if(this.resolutions_){const r=Pu(this.resolutions_,t,1);e=r,n=this.resolutions_[r],r==this.resolutions_.length-1?s=2:s=n/this.resolutions_[r+1]}else n=this.maxResolution_,s=this.zoomFactor_;return e+Math.log(n/t)/Math.log(s)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=Ee(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Ee(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if(zt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){zt(!$u(t),25);const s=_s(t,this.getProjection());n=cd(s)}else if(t.getType()==="Circle"){const s=_s(t.getExtent(),this.getProjection());n=cd(s),n.rotate(this.getRotation(),fr(s))}else n=t;this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),s=Math.sin(-e),r=t.getFlatCoordinates(),o=t.getStride();let l=1/0,c=1/0,h=-1/0,d=-1/0;for(let _=0,m=r.length;_<m;_+=o){const x=r[_]*n-r[_+1]*s,b=r[_]*s+r[_+1]*n;l=Math.min(l,x),c=Math.min(c,b),h=Math.max(h,x),d=Math.max(d,b)}return[l,c,h,d]}fitInternal(t,e){e=e||{};let n=e.size;n||(n=this.getViewportSizeMinusPadding_());const s=e.padding!==void 0?e.padding:[0,0,0,0],r=e.nearest!==void 0?e.nearest:!1;let o;e.minResolution!==void 0?o=e.minResolution:e.maxZoom!==void 0?o=this.getResolutionForZoom(e.maxZoom):o=0;const l=this.rotatedExtentForGeometry(t);let c=this.getResolutionForExtentInternal(l,[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]);c=isNaN(c)?o:Math.max(c,o),c=this.getConstrainedResolution(c,r?0:1);const h=this.getRotation(),d=Math.sin(h),_=Math.cos(h),m=fr(l);m[0]+=(s[1]-s[3])/2*c,m[1]+=(s[0]-s[2])/2*c;const x=m[0]*_-m[1]*d,b=m[1]*_+m[0]*d,C=this.getConstrainedCenter([x,b],c),S=e.callback?e.callback:Ss;e.duration!==void 0?this.animateInternal({resolution:c,center:C,duration:e.duration,easing:e.easing},S):(this.targetResolution_=c,this.targetCenter_=C,this.applyTargetState_(!1,!0),ra(S,!0))}centerOn(t,e,n){this.centerOnInternal(sn(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(hc(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,s){let r;const o=this.padding_;if(o&&t){const l=this.getViewportSizeMinusPadding_(-n),c=hc(t,s,[l[0]/2+o[3],l[1]/2+o[0]],e,n);r=[t[0]-c[0],t[1]-c[1]]}return r}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const e=nu(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&sn(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,s,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=sn(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(s,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&sn(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,s=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,0,r,n),l=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,s,r));this.get(wi.ROTATION)!==s&&this.set(wi.ROTATION,s),this.get(wi.RESOLUTION)!==o&&(this.set(wi.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(wi.CENTER)||!ka(this.get(wi.CENTER),l))&&this.set(wi.CENTER,l),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=t!==void 0?t:200;const s=e||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),l=this.constraints_.resolution(this.targetResolution_,s,o),c=this.constraints_.center(this.targetCenter_,l,o,!1,this.calculateCenterShift(this.targetCenter_,l,r,o));if(t===0&&!this.cancelAnchor_){this.targetResolution_=l,this.targetRotation_=r,this.targetCenter_=c,this.applyTargetState_();return}n=n||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==r||!this.getCenterInternal()||!ka(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:c,resolution:l,duration:t,easing:br,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Pe.INTERACTING,1)}endInteraction(t,e,n){n=n&&sn(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.setHint(Pe.INTERACTING,-1),this.resolveConstraints(t,e,n)}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}}function ra(i,t){setTimeout(function(){i(t)},0)}function uC(i){if(i.extent!==void 0){const e=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return td(i.extent,i.constrainOnlyCenter,e)}const t=Gu(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,td(e,!1,!1)}return Nx}function hC(i){let t,e,n,o=i.minZoom!==void 0?i.minZoom:uc,l=i.maxZoom!==void 0?i.maxZoom:28;const c=i.zoomFactor!==void 0?i.zoomFactor:2,h=i.multiWorld!==void 0?i.multiWorld:!1,d=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,_=i.showFullExtent!==void 0?i.showFullExtent:!1,m=Gu(i.projection,"EPSG:3857"),x=m.getExtent();let b=i.constrainOnlyCenter,C=i.extent;if(!h&&!C&&m.isGlobal()&&(b=!1,C=x),i.resolutions!==void 0){const S=i.resolutions;e=S[o],n=S[l]!==void 0?S[l]:S[S.length-1],i.constrainResolution?t=Fx(S,d,!b&&C,_):t=ed(e,n,d,!b&&C,_)}else{const w=(x?Math.max(ue(x),Ui(x)):360*mo.degrees/m.getMetersPerUnit())/Vu/Math.pow(2,uc),M=w/Math.pow(2,28-uc);e=i.maxResolution,e!==void 0?o=0:e=w/Math.pow(c,o),n=i.minResolution,n===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?n=e/Math.pow(c,l):n=w/Math.pow(c,l):n=M),l=o+Math.floor(Math.log(e/n)/Math.log(c)),n=e/Math.pow(c,l-o),i.constrainResolution?t=kx(c,e,n,d,!b&&C,_):t=ed(e,n,d,!b&&C,_)}return{constraint:t,maxResolution:e,minResolution:n,minZoom:o,zoomFactor:c}}function fC(i){if(i.enableRotation!==void 0?i.enableRotation:!0){const e=i.constrainRotation;return e===void 0||e===!0?Wx():e===!1?id:typeof e=="number"?$x(e):id}return Uu}function dC(i){return!(i.sourceCenter&&i.targetCenter&&!ka(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function hc(i,t,e,n,s){const r=Math.cos(-s);let o=Math.sin(-s),l=i[0]*r-i[1]*o,c=i[1]*r+i[0]*o;l+=(t[0]/2-e[0])*n,c+=(e[1]-t[1]/2)*n,o=-o;const h=l*r-c*o,d=c*r+l*o;return[h,d]}const Bi=cC;class gC extends Mi{constructor(t){super();const e=t.element;e&&!t.target&&!e.style.pointerEvents&&(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){Wa(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&Wa(this.element);for(let e=0,n=this.listenerKeys.length;e<n;++e)le(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ss&&this.listenerKeys.push(Gt(t,on.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}const Tl=gC;class pC extends Tl{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const e=t.className!==void 0?t.className:"ol-attribution",n=t.tipLabel!==void 0?t.tipLabel:"Attributions",s=t.expandClassName!==void 0?t.expandClassName:e+"-expand",r=t.collapseLabel!==void 0?t.collapseLabel:"\u203A",o=t.collapseClassName!==void 0?t.collapseClassName:e+"-collapse";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=o):this.collapseLabel_=r;const l=t.label!==void 0?t.label:"i";typeof l=="string"?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=s):this.label_=l;const c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(c),this.toggleButton_.addEventListener($t.CLICK,this.handleClick_.bind(this),!1);const h=e+" "+wo+" "+vl+(this.collapsed_&&this.collapsible_?" "+Gf:"")+(this.collapsible_?"":" ol-uncollapsible"),d=this.element;d.className=h,d.appendChild(this.toggleButton_),d.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e={},n=[];let s=!0;const r=t.layerStatesArray;for(let o=0,l=r.length;o<l;++o){const c=r[o];if(!ju(c,t.viewState))continue;const h=c.layer.getSource();if(!h)continue;const d=h.getAttributions();if(!d)continue;const _=d(t);if(!!_)if(s=s&&h.getAttributionsCollapsible()!==!1,Array.isArray(_))for(let m=0,x=_.length;m<x;++m)_[m]in e||(n.push(_[m]),e[_[m]]=!0);else _ in e||(n.push(_),e[_]=!0)}return this.overrideCollapsible_||this.setCollapsible(s),n}updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!zn(e,this.renderedAttributions_)){Pp(this.ulElement_);for(let s=0,r=e.length;s<r;++s){const o=document.createElement("li");o.innerHTML=e[s],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Gf),this.collapsed_?$a(this.collapseLabel_,this.label_):$a(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}const _C=pC;class mC extends Tl{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=t.className!==void 0?t.className:"ol-rotate",n=t.label!==void 0?t.label:"\u21E7",s=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof n=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(s));const r=t.tipLabel?t.tipLabel:"Reset rotation",o=document.createElement("button");o.className=e+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),o.addEventListener($t.CLICK,this.handleClick_.bind(this),!1);const l=e+" "+wo+" "+vl,c=this.element;c.className=l,c.appendChild(o),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(na)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const n=e.getRotation();n!==void 0&&(this.duration_>0&&n%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:br}):e.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const s="rotate("+n+"rad)";if(this.autoHide_){const r=this.element.classList.contains(na);!r&&n===0?this.element.classList.add(na):r&&n!==0&&this.element.classList.remove(na)}this.label_.style.transform=s}this.rotation_=n}}const yC=mC;class EC extends Tl{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=t.className!==void 0?t.className:"ol-zoom",n=t.delta!==void 0?t.delta:1,s=t.zoomInClassName!==void 0?t.zoomInClassName:e+"-in",r=t.zoomOutClassName!==void 0?t.zoomOutClassName:e+"-out",o=t.zoomInLabel!==void 0?t.zoomInLabel:"+",l=t.zoomOutLabel!==void 0?t.zoomOutLabel:"\u2013",c=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",h=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof o=="string"?document.createTextNode(o):o),d.addEventListener($t.CLICK,this.handleClick_.bind(this,n),!1);const _=document.createElement("button");_.className=r,_.setAttribute("type","button"),_.title=h,_.appendChild(typeof l=="string"?document.createTextNode(l):l),_.addEventListener($t.CLICK,this.handleClick_.bind(this,-n),!1);const m=e+" "+wo+" "+vl,x=this.element;x.className=m,x.appendChild(d),x.appendChild(_),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const n=this.getMap().getView();if(!n)return;const s=n.getZoom();if(s!==void 0){const r=n.getConstrainedZoom(s+t);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:r,duration:this.duration_,easing:br})):n.setZoom(r)}}}const vC=EC;function xC(i){i=i||{};const t=new Vi;return(i.zoom!==void 0?i.zoom:!0)&&t.push(new vC(i.zoomOptions)),(i.rotate!==void 0?i.rotate:!0)&&t.push(new yC(i.rotateOptions)),(i.attribution!==void 0?i.attribution:!0)&&t.push(new _C(i.attributionOptions)),t}const ud={ACTIVE:"active"};class CC extends Mi{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(ud.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(ud.ACTIVE,t)}setMap(t){this.map_=t}}function TC(i,t,e){const n=i.getCenterInternal();if(n){const s=[n[0]+t[0],n[1]+t[1]];i.animateInternal({duration:e!==void 0?e:250,easing:Bx,center:i.getConstrainedCenter(s)})}}function Ju(i,t,e,n){const s=i.getZoom();if(s===void 0)return;const r=i.getConstrainedZoom(s+t),o=i.getResolutionForZoom(r);i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:o,anchor:e,duration:n!==void 0?n:250,easing:br})}const Ao=CC;class bC extends Ao{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let e=!1;if(t.type==pe.DBLCLICK){const n=t.originalEvent,s=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,l=s.getView();Ju(l,o,r,this.duration_),n.preventDefault(),e=!0}return!e}}const wC=bC;class SC extends Ao{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==pe.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==pe.POINTERUP){const n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==pe.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==pe.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Qu(i){const t=i.length;let e=0,n=0;for(let s=0;s<t;s++)e+=i[s].clientX,n+=i[s].clientY;return{clientX:e/t,clientY:n/t}}const Io=SC;function su(i){const t=arguments;return function(e){let n=!0;for(let s=0,r=t.length;s<r&&(n=n&&t[s](e),!!n);++s);return n}}const AC=function(i){const t=i.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},IC=function(i){const t=i.map.getTargetElement(),e=i.map.getOwnerDocument().activeElement;return t.contains(e)},Qp=function(i){return i.map.getTargetElement().hasAttribute("tabindex")?IC(i):!0},RC=ao,t_=function(i){const t=i.originalEvent;return t.button==0&&!(m0&&y0&&t.ctrlKey)},e_=function(i){const t=i.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},LC=function(i){const t=i.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},i_=function(i){const t=i.originalEvent,e=t.target.tagName;return e!=="INPUT"&&e!=="SELECT"&&e!=="TEXTAREA"&&!t.target.isContentEditable},fc=function(i){const t=i.originalEvent;return zt(t!==void 0,56),t.pointerType=="mouse"},OC=function(i){const t=i.originalEvent;return zt(t!==void 0,56),t.isPrimary&&t.button===0};class DC extends Io{constructor(t){super({stopDown:hl}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:su(e_,OC);this.condition_=t.onFocusOnly?su(Qp,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,s=e.getEventPixel(Qu(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const r=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],l=t.map.getView();V0(r,l.getResolution()),Bu(r,l.getRotation()),l.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenterInternal(),l=e.getPixelFromCoordinateInternal(o),c=e.getCoordinateFromPixelInternal([l[0]-s*Math.cos(r),l[1]-s*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(c),duration:500,easing:br})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const n=t.map.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const MC=DC;class PC extends Io{constructor(t){t=t||{},super({stopDown:hl}),this.condition_=t.condition?t.condition:AC,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!fc(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===Uu)return;const s=e.getSize(),r=t.pixel,o=Math.atan2(s[1]/2-r[1],r[0]-s[0]/2);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;n.adjustRotationInternal(-l)}this.lastAngle_=o}handleUpEvent(t){return fc(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return fc(t)&&t_(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}const NC=PC;class FC extends Mu{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",s=this.element_.style;s.left=Math.min(t[0],e[0])+n,s.top=Math.min(t[1],e[1])+n,s.width=Math.abs(e[0]-t[0])+n,s.height=Math.abs(e[1]-t[1])+n}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,s=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);s[4]=s[0].slice(),this.geometry_?this.geometry_.setCoordinates([s]):this.geometry_=new yo([s])}getGeometry(){return this.geometry_}}const kC=FC,oa={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class dc extends mn{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}class $C extends Io{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new kC(t.className||"ol-dragbox"),this.minArea_=t.minArea!==void 0?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:t_,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const s=n[0]-e[0],r=n[1]-e[1];return s*s+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new dc(oa.BOXDRAG,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new dc(e?oa.BOXEND:oa.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new dc(oa.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}}const WC=$C;class jC extends WC{constructor(t){t=t||{};const e=t.condition?t.condition:LC;super({condition:e,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const n=this.getMap().getView();let s=this.getGeometry();if(this.out_){const r=n.rotatedExtentForGeometry(s),o=n.getResolutionForExtentInternal(r),l=n.getResolution()/o;s=s.clone(),s.scale(l*l)}n.fitInternal(s,{duration:this.duration_,easing:br})}}const BC=jC,os={LEFT:37,UP:38,RIGHT:39,DOWN:40};class HC extends Ao{constructor(t){super(),t=t||{},this.defaultCondition_=function(e){return e_(e)&&i_(e)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==$t.KEYDOWN){const n=t.originalEvent,s=n.keyCode;if(this.condition_(t)&&(s==os.DOWN||s==os.LEFT||s==os.RIGHT||s==os.UP)){const o=t.map.getView(),l=o.getResolution()*this.pixelDelta_;let c=0,h=0;s==os.DOWN?h=-l:s==os.LEFT?c=-l:s==os.RIGHT?c=l:h=l;const d=[c,h];Bu(d,o.getRotation()),TC(o,d,this.duration_),n.preventDefault(),e=!0}}return!e}}const VC=HC;class zC extends Ao{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:i_,this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let e=!1;if(t.type==$t.KEYDOWN||t.type==$t.KEYPRESS){const n=t.originalEvent,s=n.charCode;if(this.condition_(t)&&(s=="+".charCodeAt(0)||s=="-".charCodeAt(0))){const r=t.map,o=s=="+".charCodeAt(0)?this.delta_:-this.delta_,l=r.getView();Ju(l,o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}}const GC=zC;class YC{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;for(;n>0&&this.points_[n+2]>t;)n-=3;const s=this.points_[e+2]-this.points_[n+2];if(s<1e3/60)return!1;const r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/s,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const XC=YC;class KC extends Ao{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const e=t.condition?t.condition:RC;this.condition_=t.onFocusOnly?su(Qp,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t)||t.type!==$t.WHEEL)return!0;const n=t.map,s=t.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);let r;if(t.type==$t.WHEEL&&(r=s.deltaY,p0&&s.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=Ep),s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),r===0)return!1;this.lastDelta_=r;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const l=n.getView();if(this.mode_==="trackpad"&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=r;const c=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),c),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-Ee(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Ju(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}const UC=KC;class qC extends Io{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=hl),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],s=this.targetPointers[1],r=Math.atan2(s.clientY-n.clientY,s.clientX-n.clientX);if(this.lastAngle_!==void 0){const c=r-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=c}this.lastAngle_=r;const o=t.map,l=o.getView();l.getConstraints().rotation!==Uu&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Qu(this.targetPointers))),this.rotating_&&(o.render(),l.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}const ZC=qC;class JC extends Io{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=hl),super(e),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],s=this.targetPointers[1],r=n.clientX-s.clientX,o=n.clientY-s.clientY,l=Math.sqrt(r*r+o*o);this.lastDistance_!==void 0&&(e=this.lastDistance_/l),this.lastDistance_=l;const c=t.map,h=c.getView();e!=1&&(this.lastScaleDelta_=e),this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Qu(this.targetPointers))),c.render(),h.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const n=t.map.getView(),s=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,s),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}const QC=JC;function tT(i){i=i||{};const t=new Vi,e=new XC(-.005,.05,100);return(i.altShiftDragRotate!==void 0?i.altShiftDragRotate:!0)&&t.push(new NC),(i.doubleClickZoom!==void 0?i.doubleClickZoom:!0)&&t.push(new wC({delta:i.zoomDelta,duration:i.zoomDuration})),(i.dragPan!==void 0?i.dragPan:!0)&&t.push(new MC({onFocusOnly:i.onFocusOnly,kinetic:e})),(i.pinchRotate!==void 0?i.pinchRotate:!0)&&t.push(new ZC),(i.pinchZoom!==void 0?i.pinchZoom:!0)&&t.push(new QC({duration:i.zoomDuration})),(i.keyboard!==void 0?i.keyboard:!0)&&(t.push(new VC),t.push(new GC({delta:i.zoomDelta,duration:i.zoomDuration}))),(i.mouseWheelZoom!==void 0?i.mouseWheelZoom:!0)&&t.push(new UC({onFocusOnly:i.onFocusOnly,duration:i.zoomDuration})),(i.shiftDragZoom!==void 0?i.shiftDragZoom:!0)&&t.push(new BC({duration:i.zoomDuration})),t}function hd(i){return i[0]>0&&i[1]>0}function n_(i,t,e){return e===void 0&&(e=[0,0]),e[0]=i[0]*t+.5|0,e[1]=i[1]*t+.5|0,e}function Qe(i,t){return Array.isArray(i)?i:(t===void 0?t=[i,i]:(t[0]=i,t[1]=i),t)}function s_(i){if(i instanceof El){i.setMapInternal(null);return}i instanceof Cl&&i.getLayers().forEach(s_)}function r_(i,t){if(i instanceof El){i.setMapInternal(t);return}if(i instanceof Cl){const e=i.getLayers().getArray();for(let n=0,s=e.length;n<s;++n)r_(e[n],t)}}class eT extends Mi{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=iT(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Ep,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Yi(),this.pixelToCoordinateTransform_=Yi(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=e.controls||xC(),this.interactions=e.interactions||tT({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new gx(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(we.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(we.VIEW,this.handleViewChanged_),this.addChangeListener(we.SIZE,this.handleSizeChanged_),this.addChangeListener(we.TARGET,this.handleTargetChanged_),this.setProperties(e.values);const n=this;t.view&&!(t.view instanceof Bi)&&t.view.then(function(s){n.setView(new Bi(s))}),this.controls.addEventListener(Ze.ADD,s=>{s.element.setMap(this)}),this.controls.addEventListener(Ze.REMOVE,s=>{s.element.setMap(null)}),this.interactions.addEventListener(Ze.ADD,s=>{s.element.setMap(this)}),this.interactions.addEventListener(Ze.REMOVE,s=>{s.element.setMap(null)}),this.overlays_.addEventListener(Ze.ADD,s=>{this.addOverlayInternal_(s.element)}),this.overlays_.addEventListener(Ze.REMOVE,s=>{const r=s.element.getId();r!==void 0&&delete this.overlayIdIndex_[r.toString()],s.element.setMap(null)}),this.controls.forEach(s=>{s.setMap(this)}),this.interactions.forEach(s=>{s.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){r_(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const s=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const r=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.layerFilter!==void 0?n.layerFilter:ao,l=n.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(s,this.frameState_,r,l,e,null,o,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,function(s){n.push(s)},e),n}getAllLayers(){const t=[];function e(n){n.forEach(function(s){s instanceof Cl?e(s.getLayers()):t.push(s)})}return e(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};const s=e.layerFilter!==void 0?e.layerFilter:ao,r=e.hitTolerance!==void 0?e.hitTolerance:0,o=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,s,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const n=this.viewport_.getBoundingClientRect(),s=this.getSize(),r=n.width/s[0],o=n.height/s[1],l="changedTouches"in t?t.changedTouches[0]:t;return[(l.clientX-n.left)/r,(l.clientY-n.top)/o]}getTarget(){return this.get(we.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return nu(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?Ae(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(we.LAYERGROUP)}setLayers(t){const e=this.getLayerGroup();if(t instanceof Vi){e.setLayers(t);return}const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const s=t[e];if(!s.visible)continue;const r=s.layer.getRenderer();if(r&&!r.ready)return!0;const o=s.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(t){const e=sn(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?Ae(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(we.SIZE)}getView(){return this.get(we.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,s){return px(this.frameState_,t,e,n,s)}handleBrowserEvent(t,e){e=e||t.type;const n=new Rn(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===tu.POINTERDOWN||n===$t.WHEEL||n===$t.KEYDOWN){const s=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():s,o=e.target;if(this.overlayContainerStopEvent_.contains(o)||!(r===s?s.documentElement:r).contains(o))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const s=this.getInteractions().getArray().slice();for(let r=s.length-1;r>=0;r--){const o=s[r];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let s=this.maxTilesLoading_,r=s;if(t){const o=t.viewHints;if(o[Pe.ANIMATING]||o[Pe.INTERACTING]){const l=Date.now()-t.time>8;s=l?0:8,r=l?0:2}}e.getTilesLoading()<s&&(e.reprioritize(),e.loadMoreTiles(s,r))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(Nn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Nn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Gs(on.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Gs(on.LOADSTART,this,t))));const n=this.postRenderFunctions_;for(let s=0,r=n.length;s<r;++s)n[s](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let n=0,s=this.targetChangeHandlerKeys_.length;n<s;++n)le(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener($t.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener($t.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Wa(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host)}const t=this.getTarget(),e=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=e,!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new ox(this)),this.mapBrowserEventHandler_=new ux(this,this.moveTolerance_);for(const r in pe)this.mapBrowserEventHandler_.addEventListener(pe[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener($t.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener($t.WHEEL,this.boundHandleBrowserEvent_,vp?{passive:!1}:!1);const n=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[Gt(n,$t.KEYDOWN,this.handleBrowserEvent,this),Gt(n,$t.KEYPRESS,this.handleBrowserEvent,this)];const s=e.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(e)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(le(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(le(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Gt(t,ur.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Gt(t,$t.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(le),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new On("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Gt(t,ur.PROPERTYCHANGE,this.render,this),Gt(t,$t.CHANGE,this.render,this),Gt(t,"addlayer",this.handleLayerAdd_,this),Gt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const s=t[e].layer;s.hasRenderer()&&s.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){s_(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),s=this.frameState_;let r=null;if(e!==void 0&&hd(e)&&n&&n.isDef()){const o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=n.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:qc(l.center,l.resolution,l.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:qt(this),renderTargets:{}},l.nextCenter&&l.nextResolution){const c=isNaN(l.nextRotation)?l.rotation:l.nextRotation;r.nextExtent=qc(l.nextCenter,l.nextResolution,c,e)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),s&&(!this.previousExtent_||!$u(this.previousExtent_)&&!co(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Gs(on.MOVESTART,this,s)),this.previousExtent_=pl(this.previousExtent_)),this.previousExtent_&&!r.viewHints[Pe.ANIMATING]&&!r.viewHints[Pe.INTERACTING]&&!co(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Gs(on.MOVEEND,this,r)),Cp(r.extent,this.previousExtent_))),this.dispatchEvent(new Gs(on.POSTRENDER,this,r)),this.renderComplete_=this.hasListener(on.LOADSTART)||this.hasListener(on.LOADEND)||this.hasListener(Nn.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new On("removelayer",e)),this.set(we.LAYERGROUP,t)}setSize(t){this.set(we.SIZE,t)}setTarget(t){this.set(we.TARGET,t)}setView(t){if(!t||t instanceof Bi){this.set(we.VIEW,t);return}this.set(we.VIEW,new Bi);const e=this;t.then(function(n){e.setView(new Bi(n))})}updateSize(){const t=this.getTargetElement();let e;if(t){const s=getComputedStyle(t),r=t.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),o=t.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth);!isNaN(r)&&!isNaN(o)&&(e=[r,o],!hd(e)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Wp("No map visible because the map container's width or height are 0."))}const n=this.getSize();e&&(!n||!zn(e,n))&&(this.setSize(e),this.updateViewportSize_())}updateViewportSize_(){const t=this.getView();if(t){let e;const n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}}}function iT(i){let t=null;i.keyboardEventTarget!==void 0&&(t=typeof i.keyboardEventTarget=="string"?document.getElementById(i.keyboardEventTarget):i.keyboardEventTarget);const e={},n=i.layers&&typeof i.layers.getLayers=="function"?i.layers:new Cl({layers:i.layers});e[we.LAYERGROUP]=n,e[we.TARGET]=i.target,e[we.VIEW]=i.view instanceof Bi?i.view:new Bi;let s;i.controls!==void 0&&(Array.isArray(i.controls)?s=new Vi(i.controls.slice()):(zt(typeof i.controls.getArray=="function",47),s=i.controls));let r;i.interactions!==void 0&&(Array.isArray(i.interactions)?r=new Vi(i.interactions.slice()):(zt(typeof i.interactions.getArray=="function",48),r=i.interactions));let o;return i.overlays!==void 0?Array.isArray(i.overlays)?o=new Vi(i.overlays.slice()):(zt(typeof i.overlays.getArray=="function",49),o=i.overlays):o=new Vi,{controls:s,interactions:r,keyboardEventTarget:t,overlays:o,values:e}}const fd=eT;class nT extends fl{constructor(t,e,n){super(),n=n||{},this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=n.transition===void 0?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent($t.CHANGE)}release(){this.state===Tt.ERROR&&this.setState(Tt.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let t=this.interimTile;do{if(t.getState()==Tt.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){if(!this.interimTile)return;let t=this.interimTile,e=this;do{if(t.getState()==Tt.LOADED){t.interimTile=null;break}else t.getState()==Tt.LOADING?e=t:t.getState()==Tt.IDLE?e.interimTile=t.interimTile:e=t;t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==Tt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){Ut()}getAlpha(t,e){if(!this.transition_)return 1;let n=this.transitionStarts_[t];if(!n)n=e,this.transitionStarts_[t]=n;else if(n===-1)return 1;const s=e-n+1e3/60;return s>=this.transition_?1:Hp(s/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}const o_=nT,be={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function a_(i,t,e){const n=i;let s=!0,r=!1,o=!1;const l=[Pa(n,$t.LOAD,function(){o=!0,r||t()})];return n.src&&E0?(r=!0,n.decode().then(function(){s&&t()}).catch(function(c){s&&(o?t():e())})):l.push(Pa(n,$t.ERROR,e)),function(){s=!1,l.forEach(le)}}class sT extends o_{constructor(t,e,n,s,r,o){super(t,e,o),this.crossOrigin_=s,this.src_=n,this.key=n,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(t){this.image_=t,this.state=Tt.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Tt.ERROR,this.unlistenImage_(),this.image_=rT(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Tt.LOADED:this.state=Tt.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Tt.ERROR&&(this.state=Tt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Tt.IDLE&&(this.state=Tt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=a_(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function rT(){const i=Ve(1,1);return i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1),i.canvas}const l_=sT,oT=.5,aT=10,dd=.25;class lT{constructor(t,e,n,s,r,o){this.sourceProj_=t,this.targetProj_=e;let l={};const c=Ga(this.targetProj_,this.sourceProj_);this.transformInv_=function(M){const P=M[0]+"/"+M[1];return l[P]||(l[P]=c(M)),l[P]},this.maxSourceExtent_=s,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&ue(s)==ue(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ue(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ue(this.targetProj_.getExtent()):null;const h=Rs(n),d=yl(n),_=ml(n),m=_l(n),x=this.transformInv_(h),b=this.transformInv_(d),C=this.transformInv_(_),S=this.transformInv_(m),w=aT+(o?Math.max(0,Math.ceil(Math.log2(Uc(n)/(o*o*256*256)))):0);if(this.addQuad_(h,d,_,m,x,b,C,S,w),this.wrapsXInSource_){let M=1/0;this.triangles_.forEach(function(P,N,j){M=Math.min(M,P.source[0][0],P.source[1][0],P.source[2][0])}),this.triangles_.forEach(P=>{if(Math.max(P.source[0][0],P.source[1][0],P.source[2][0])-M>this.sourceWorldWidth_/2){const N=[[P.source[0][0],P.source[0][1]],[P.source[1][0],P.source[1][1]],[P.source[2][0],P.source[2][1]]];N[0][0]-M>this.sourceWorldWidth_/2&&(N[0][0]-=this.sourceWorldWidth_),N[1][0]-M>this.sourceWorldWidth_/2&&(N[1][0]-=this.sourceWorldWidth_),N[2][0]-M>this.sourceWorldWidth_/2&&(N[2][0]-=this.sourceWorldWidth_);const j=Math.min(N[0][0],N[1][0],N[2][0]);Math.max(N[0][0],N[1][0],N[2][0])-j<this.sourceWorldWidth_/2&&(P.source=N)}})}l={}}addTriangle_(t,e,n,s,r,o){this.triangles_.push({source:[s,r,o],target:[t,e,n]})}addQuad_(t,e,n,s,r,o,l,c,h){const d=Bf([r,o,l,c]),_=this.sourceWorldWidth_?ue(d)/this.sourceWorldWidth_:null,m=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&_>.5&&_<1;let b=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const S=Bf([t,e,n,s]);b=ue(S)/this.targetWorldWidth_>dd||b}!x&&this.sourceProj_.isGlobal()&&_&&(b=_>dd||b)}if(!b&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!Je(d,this.maxSourceExtent_))return;let C=0;if(!b&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(c[0])||!isFinite(c[1]))){if(h>0)b=!0;else if(C=(!isFinite(r[0])||!isFinite(r[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),C!=1&&C!=2&&C!=4&&C!=8)return}if(h>0){if(!b){const S=[(t[0]+n[0])/2,(t[1]+n[1])/2],w=this.transformInv_(S);let M;x?M=(Ts(r[0],m)+Ts(l[0],m))/2-Ts(w[0],m):M=(r[0]+l[0])/2-w[0];const P=(r[1]+l[1])/2-w[1];b=M*M+P*P>this.errorThresholdSquared_}if(b){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const S=[(e[0]+n[0])/2,(e[1]+n[1])/2],w=this.transformInv_(S),M=[(s[0]+t[0])/2,(s[1]+t[1])/2],P=this.transformInv_(M);this.addQuad_(t,e,S,M,r,o,w,P,h-1),this.addQuad_(M,S,n,s,P,w,l,c,h-1)}else{const S=[(t[0]+e[0])/2,(t[1]+e[1])/2],w=this.transformInv_(S),M=[(n[0]+s[0])/2,(n[1]+s[1])/2],P=this.transformInv_(M);this.addQuad_(t,S,M,s,r,w,P,c,h-1),this.addQuad_(S,e,n,M,w,o,l,P,h-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(C&11)==0&&this.addTriangle_(t,n,s,r,l,c),(C&14)==0&&this.addTriangle_(t,n,e,r,l,o),C&&((C&13)==0&&this.addTriangle_(e,s,t,o,c,r),(C&7)==0&&this.addTriangle_(e,s,n,o,c,l))}calculateSourceExtent(){const t=yi();return this.triangles_.forEach(function(e,n,s){const r=e.source;Ur(t,r[0]),Ur(t,r[1]),Ur(t,r[2])}),t}getTriangles(){return this.triangles_}}const cT=lT;let gc;const or=[];function gd(i,t,e,n,s){i.beginPath(),i.moveTo(0,0),i.lineTo(t,e),i.lineTo(n,s),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(t,n)+1,Math.max(e,s)),i.restore()}function pc(i,t){return Math.abs(i[t*4]-210)>2||Math.abs(i[t*4+3]-.75*255)>2}function uT(){if(gc===void 0){const i=Ve(6,6,or);i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",gd(i,4,5,4,0),gd(i,4,5,0,5);const t=i.getImageData(0,0,3,3).data;gc=pc(t,0)||pc(t,4)||pc(t,8),xl(i),or.push(i.canvas)}return gc}function pd(i,t,e,n){const s=Mx(e,t,i);let r=Jf(t,n,e);const o=t.getMetersPerUnit();o!==void 0&&(r*=o);const l=i.getMetersPerUnit();l!==void 0&&(r/=l);const c=i.getExtent();if(!c||gl(c,s)){const h=Jf(i,r,s)/r;isFinite(h)&&h>0&&(r/=h)}return r}function hT(i,t,e,n){const s=fr(e);let r=pd(i,t,s,n);return(!isFinite(r)||r<=0)&&Sp(e,function(o){return r=pd(i,t,o,n),isFinite(r)&&r>0}),r}function fT(i,t,e,n,s,r,o,l,c,h,d,_){const m=Ve(Math.round(e*i),Math.round(e*t),or);if(_||(m.imageSmoothingEnabled=!1),c.length===0)return m.canvas;m.scale(e,e);function x(N){return Math.round(N*e)/e}m.globalCompositeOperation="lighter";const b=yi();c.forEach(function(N,j,g){S0(b,N.extent)});const C=ue(b),S=Ui(b),w=Ve(Math.round(e*C/n),Math.round(e*S/n),or);_||(w.imageSmoothingEnabled=!1);const M=e/n;c.forEach(function(N,j,g){const it=N.extent[0]-b[0],G=-(N.extent[3]-b[3]),et=ue(N.extent),rt=Ui(N.extent);N.image.width>0&&N.image.height>0&&w.drawImage(N.image,h,h,N.image.width-2*h,N.image.height-2*h,it*M,G*M,et*M,rt*M)});const P=Rs(o);return l.getTriangles().forEach(function(N,j,g){const it=N.source,G=N.target;let et=it[0][0],rt=it[0][1],mt=it[1][0],gt=it[1][1],_t=it[2][0],Vt=it[2][1];const pt=x((G[0][0]-P[0])/r),lt=x(-(G[0][1]-P[1])/r),q=x((G[1][0]-P[0])/r),ht=x(-(G[1][1]-P[1])/r),It=x((G[2][0]-P[0])/r),Nt=x(-(G[2][1]-P[1])/r),Ft=et,K=rt;et=0,rt=0,mt-=Ft,gt-=K,_t-=Ft,Vt-=K;const ie=[[mt,gt,0,0,q-pt],[_t,Vt,0,0,It-pt],[0,0,mt,gt,ht-lt],[0,0,_t,Vt,Nt-lt]],Dt=M0(ie);if(!!Dt){if(m.save(),m.beginPath(),uT()||!_){m.moveTo(q,ht);const kt=4,oe=pt-q,he=lt-ht;for(let Yt=0;Yt<kt;Yt++)m.lineTo(q+x((Yt+1)*oe/kt),ht+x(Yt*he/(kt-1))),Yt!=kt-1&&m.lineTo(q+x((Yt+1)*oe/kt),ht+x((Yt+1)*he/(kt-1)));m.lineTo(It,Nt)}else m.moveTo(q,ht),m.lineTo(pt,lt),m.lineTo(It,Nt);m.clip(),m.transform(Dt[0],Dt[2],Dt[1],Dt[3],pt,lt),m.translate(b[0]-Ft,b[3]-K),m.scale(n/e,-n/e),m.drawImage(w.canvas,0,0),m.restore()}}),xl(w),or.push(w.canvas),d&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,l.getTriangles().forEach(function(N,j,g){const it=N.target,G=(it[0][0]-P[0])/r,et=-(it[0][1]-P[1])/r,rt=(it[1][0]-P[0])/r,mt=-(it[1][1]-P[1])/r,gt=(it[2][0]-P[0])/r,_t=-(it[2][1]-P[1])/r;m.beginPath(),m.moveTo(rt,mt),m.lineTo(G,et),m.lineTo(gt,_t),m.closePath(),m.stroke()}),m.restore()),m.canvas}class dT extends o_{constructor(t,e,n,s,r,o,l,c,h,d,_,m){super(r,Tt.IDLE,{interpolate:!!m}),this.renderEdges_=_!==void 0?_:!1,this.pixelRatio_=l,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=s,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const x=s.getTileCoordExtent(this.wrappedTileCoord_),b=this.targetTileGrid_.getExtent();let C=this.sourceTileGrid_.getExtent();const S=b?qr(x,b):x;if(Uc(S)===0){this.state=Tt.EMPTY;return}const w=t.getExtent();w&&(C?C=qr(C,w):C=w);const M=s.getResolution(this.wrappedTileCoord_[0]),P=hT(t,n,S,M);if(!isFinite(P)||P<=0){this.state=Tt.EMPTY;return}const N=d!==void 0?d:oT;if(this.triangulation_=new cT(t,n,S,C,P*N,M),this.triangulation_.getTriangles().length===0){this.state=Tt.EMPTY;return}this.sourceZ_=e.getZForResolution(P);let j=this.triangulation_.calculateSourceExtent();if(C&&(t.canWrapX()?(j[1]=Ee(j[1],C[1],C[3]),j[3]=Ee(j[3],C[1],C[3])):j=qr(j,C)),!Uc(j))this.state=Tt.EMPTY;else{const g=e.getTileRangeForExtentAndZ(j,this.sourceZ_);for(let it=g.minX;it<=g.maxX;it++)for(let G=g.minY;G<=g.maxY;G++){const et=h(this.sourceZ_,it,G,l);et&&this.sourceTiles_.push(et)}this.sourceTiles_.length===0&&(this.state=Tt.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(e=>{e&&e.getState()==Tt.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}),this.sourceTiles_.length=0,t.length===0)this.state=Tt.ERROR;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),s=typeof n=="number"?n:n[0],r=typeof n=="number"?n:n[1],o=this.targetTileGrid_.getResolution(e),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=fT(s,r,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),o,c,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Tt.LOADED}this.changed()}load(){if(this.state==Tt.IDLE){this.state=Tt.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(e=>{const n=e.getState();if(n==Tt.IDLE||n==Tt.LOADING){t++;const s=Gt(e,$t.CHANGE,function(r){const o=e.getState();(o==Tt.LOADED||o==Tt.ERROR||o==Tt.EMPTY)&&(le(s),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,n,s){e.getState()==Tt.IDLE&&e.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(le),this.sourcesListenerKeys_=null}release(){this.canvas_&&(xl(this.canvas_.getContext("2d")),or.push(this.canvas_),this.canvas_=null),super.release()}}const ru=dT;class gT{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return zt(n!==void 0,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return zt(e!==void 0,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e=0,n;for(n=this.newest_;n;n=n.older)t[e++]=n.key_;return t}getValues(){const t=new Array(this.count_);let e=0,n;for(n=this.newest_;n;n=n.older)t[e++]=n.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){if(!!this.containsKey(t))return this.entries_[t].value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){zt(!(t in this.entries_),16);const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}}const pT=gT;function _d(i,t,e,n){return n!==void 0?(n[0]=i,n[1]=t,n[2]=e,n):[i,t,e]}function bl(i,t,e){return i+"/"+t+"/"+e}function c_(i){return bl(i[0],i[1],i[2])}function _T(i){return i.split("/").map(Number)}function u_(i){return(i[1]<<i[0])+i[2]}function mT(i,t){const e=i[0],n=i[1],s=i[2];if(t.getMinZoom()>e||e>t.getMaxZoom())return!1;const r=t.getFullTileRange(e);return r?r.containsXY(n,s):!0}class yT extends pT{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const t=this.peekFirstKey(),n=_T(t)[0];this.forEach(s=>{s.tileCoord[0]!==n&&(this.remove(c_(s.tileCoord)),s.release())})}}const h_=yT,_c={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class ET extends Mi{constructor(t){super(),this.projection=Di(t.projection),this.attributions_=md(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise(function(n,s){e.viewResolver=n,e.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=md(t),this.changed()}setState(t){this.state_=t,this.changed()}}function md(i){return i?Array.isArray(i)?function(t){return i}:typeof i=="function"?i:function(t){return[i]}:null}const f_=ET;class d_{constructor(t,e,n,s){this.minX=t,this.maxX=e,this.minY=n,this.maxY=s}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function $s(i,t,e,n,s){return s!==void 0?(s.minX=i,s.maxX=t,s.minY=e,s.maxY=n,s):new d_(i,t,e,n)}const g_=d_,Ws=[0,0,0],bn=5;class vT{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,zt(o0(this.resolutions_,function(s,r){return r-s},!0),17);let e;if(!t.origins){for(let s=0,r=this.resolutions_.length-1;s<r;++s)if(!e)e=this.resolutions_[s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this.resolutions_[s+1]!==e){e=void 0;break}}this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,zt(this.origins_.length==this.resolutions_.length,20));const n=t.extent;n!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Rs(n)),zt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,zt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:Vu,zt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=n!==void 0?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(s,r){const o=new g_(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(n){const l=this.getTileRangeForExtentAndZ(n,r);o.minX=Math.max(l.minX,o.minX),o.maxX=Math.min(l.maxX,o.maxX),o.minY=Math.max(l.minY,o.minY),o.maxY=Math.min(l.maxY,o.maxY)}return o},this):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const s=this.getTileRangeForExtentAndZ(t,e);for(let r=s.minX,o=s.maxX;r<=o;++r)for(let l=s.minY,c=s.maxY;l<=c;++l)n([e,r,l])}forEachTileCoordParentTileRange(t,e,n,s){let r,o,l,c=null,h=t[0]-1;for(this.zoomFactor_===2?(o=t[1],l=t[2]):c=this.getTileCoordExtent(t,s);h>=this.minZoom;){if(this.zoomFactor_===2?(o=Math.floor(o/2),l=Math.floor(l/2),r=$s(o,o,l,l,n)):r=this.getTileRangeForExtentAndZ(c,h,n),e(h,r))return!0;--h}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const r=t[1]*2,o=t[2]*2;return $s(r,r+1,o,o+1,e)}const s=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;const s=t[0],r=t[1],o=t[2];if(e===s)return $s(r,o,r,o,n);if(this.zoomFactor_){const c=Math.pow(this.zoomFactor_,e-s),h=Math.floor(r*c),d=Math.floor(o*c);if(e<s)return $s(h,h,d,d,n);const _=Math.floor(c*(r+1))-1,m=Math.floor(c*(o+1))-1;return $s(h,_,d,m,n)}const l=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,e,n)}getTileRangeExtent(t,e,n){const s=this.getOrigin(t),r=this.getResolution(t),o=Qe(this.getTileSize(t),this.tmpSize_),l=s[0]+e.minX*o[0]*r,c=s[0]+(e.maxX+1)*o[0]*r,h=s[1]+e.minY*o[1]*r,d=s[1]+(e.maxY+1)*o[1]*r;return gn(l,h,c,d,n)}getTileRangeForExtentAndZ(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,Ws);const s=Ws[1],r=Ws[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,Ws);const o=Ws[1],l=Ws[2];return $s(s,o,r,l,n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),s=Qe(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*s[0]*n,e[1]-(t[2]+.5)*s[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),s=this.getResolution(t[0]),r=Qe(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*s,l=n[1]-(t[2]+1)*r[1]*s,c=o+r[0]*s,h=l+r[1]*s;return gn(o,l,c,h,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,s,r){const o=this.getZForResolution(n),l=n/this.getResolution(o),c=this.getOrigin(o),h=Qe(this.getTileSize(o),this.tmpSize_);let d=l*(t-c[0])/n/h[0],_=l*(c[1]-e)/n/h[1];return s?(d=ia(d,bn)-1,_=ia(_,bn)-1):(d=ea(d,bn),_=ea(_,bn)),_d(o,d,_,r)}getTileCoordForXYAndZ_(t,e,n,s,r){const o=this.getOrigin(n),l=this.getResolution(n),c=Qe(this.getTileSize(n),this.tmpSize_);let h=(t-o[0])/l/c[0],d=(o[1]-e)/l/c[1];return s?(h=ia(h,bn)-1,d=ia(d,bn)-1):(h=ea(h,bn),d=ea(d,bn)),_d(n,h,d,r)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const n=Pu(this.resolutions_,t,e||0);return Ee(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return Zp(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let s=this.minZoom;s<e;++s)n[s]=this.getTileRangeForExtentAndZ(t,s);this.fullTileRanges_=n}}const p_=vT;function __(i){let t=i.getDefaultTileGrid();return t||(t=bT(i),i.setDefaultTileGrid(t)),t}function xT(i,t,e){const n=t[0],s=i.getTileCoordCenter(t),r=th(e);if(!gl(r,s)){const o=ue(r),l=Math.ceil((r[0]-s[0])/o);return s[0]+=o*l,i.getTileCoordForCoordAndZ(s,n)}return t}function CT(i,t,e,n){n=n!==void 0?n:"top-left";const s=m_(i,t,e);return new p_({extent:i,origin:I0(i,n),resolutions:s,tileSize:e})}function TT(i){const t=i||{},e=t.extent||Di("EPSG:3857").getExtent(),n={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:m_(e,t.maxZoom,t.tileSize,t.maxResolution)};return new p_(n)}function m_(i,t,e,n){t=t!==void 0?t:_x,e=Qe(e!==void 0?e:Vu);const s=Ui(i),r=ue(i);n=n>0?n:Math.max(r/e[0],s/e[1]);const o=t+1,l=new Array(o);for(let c=0;c<o;++c)l[c]=n/Math.pow(2,c);return l}function bT(i,t,e,n){const s=th(i);return CT(s,t,e,n)}function th(i){i=Di(i);let t=i.getExtent();if(!t){const e=180*mo.degrees/i.getMetersPerUnit();t=gn(-e,-e,e,e)}return t}class wT extends f_{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=t.opaque!==void 0?t.opaque:!1,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const e=[256,256];this.tileGrid&&Qe(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tileCache=new h_(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const n=this.getTileCacheForProjection(t);n&&n.expireCache(e)}forEachLoadedTile(t,e,n,s){const r=this.getTileCacheForProjection(t);if(!r)return!1;let o=!0,l,c,h;for(let d=n.minX;d<=n.maxX;++d)for(let _=n.minY;_<=n.maxY;++_)c=bl(e,d,_),h=!1,r.containsKey(c)&&(l=r.get(c),h=l.getState()===Tt.LOADED,h&&(h=s(l)!==!1)),h||(o=!1);return o}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,n,s,r){return Ut()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:__(t)}getTileCacheForProjection(t){const e=this.getProjection();return zt(e===null||Ys(e,t),68),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const s=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=Qe(s.getTileSize(t),this.tmpSize);return r==1?o:n_(o,r,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=e!==void 0?e:this.getProjection();const n=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=xT(n,t,e)),mT(t,n)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)}useTile(t,e,n,s){}}class ST extends mn{constructor(t,e){super(t),this.tile=e}}const AT=wT;function IT(i,t){const e=/\{z\}/g,n=/\{x\}/g,s=/\{y\}/g,r=/\{-y\}/g;return function(o,l,c){if(!!o)return i.replace(e,o[0].toString()).replace(n,o[1].toString()).replace(s,o[2].toString()).replace(r,function(){const h=o[0],d=t.getFullTileRange(h);return zt(d,55),(d.getHeight()-o[2]-1).toString()})}}function RT(i,t){const e=i.length,n=new Array(e);for(let s=0;s<e;++s)n[s]=IT(i[s],t);return LT(n)}function LT(i){return i.length===1?i[0]:function(t,e,n){if(!t)return;const s=u_(t),r=Ts(s,i.length);return i[r](t,e,n)}}function OT(i){const t=[];let e=/\{([a-z])-([a-z])\}/.exec(i);if(e){const n=e[1].charCodeAt(0),s=e[2].charCodeAt(0);let r;for(r=n;r<=s;++r)t.push(i.replace(e[0],String.fromCharCode(r)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(i),e){const n=parseInt(e[2],10);for(let s=parseInt(e[1],10);s<=n;s++)t.push(i.replace(e[0],s.toString()));return t}return t.push(i),t}class eh extends AT{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===eh.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=qt(e),s=e.getState();let r;s==Tt.LOADING?(this.tileLoadingKeys_[n]=!0,r=_c.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],r=s==Tt.ERROR?_c.TILELOADERROR:s==Tt.LOADED?_c.TILELOADEND:void 0),r!=null&&this.dispatchEvent(new ST(r,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof e<"u"?this.setKey(e):this.changed()}setUrl(t){const e=OT(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(RT(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}useTile(t,e,n){const s=bl(t,e,n);this.tileCache.containsKey(s)&&this.tileCache.get(s)}}const DT=eh;class MT extends DT{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:PT,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:l_,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?e:{});for(const s in this.tileCacheForProjection){const r=this.tileCacheForProjection[s];r.expireCache(r==n?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!Ys(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return this.getProjection()&&t&&!Ys(this.getProjection(),t)?!1:super.getOpaque(t)}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||Ys(e,t)))return this.tileGrid;const n=qt(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=__(t)),this.tileGridForProjection[n]}getTileCacheForProjection(t){const e=this.getProjection();if(!e||Ys(e,t))return this.tileCache;const n=qt(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new h_(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}createTile_(t,e,n,s,r,o){const l=[t,e,n],c=this.getTileCoordForTileUrlFunction(l,r),h=c?this.tileUrlFunction(c,s,r):void 0,d=new this.tileClass(l,h!==void 0?Tt.IDLE:Tt.EMPTY,h!==void 0?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=o,d.addEventListener($t.CHANGE,this.handleTileChange.bind(this)),d}getTile(t,e,n,s,r){const o=this.getProjection();if(!o||!r||Ys(o,r))return this.getTileInternal(t,e,n,s,o||r);const l=this.getTileCacheForProjection(r),c=[t,e,n];let h;const d=c_(c);l.containsKey(d)&&(h=l.get(d));const _=this.getKey();if(h&&h.key==_)return h;const m=this.getTileGridForProjection(o),x=this.getTileGridForProjection(r),b=this.getTileCoordForTileUrlFunction(c,r),C=new ru(o,m,r,x,c,b,this.getTilePixelRatio(s),this.getGutter(),(S,w,M,P)=>this.getTileInternal(S,w,M,P,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return C.key=_,h?(C.interimTile=h,C.refreshInterimChain(),l.replace(d,C)):l.set(d,C),C}getTileInternal(t,e,n,s,r){let o=null;const l=bl(t,e,n),c=this.getKey();if(!this.tileCache.containsKey(l))o=this.createTile_(t,e,n,s,r,c),this.tileCache.set(l,o);else if(o=this.tileCache.get(l),o.key!=c){const h=o;o=this.createTile_(t,e,n,s,r,c),h.getState()==Tt.IDLE?o.interimTile=h.interimTile:o.interimTile=h,o.refreshInterimChain(),this.tileCache.replace(l,o)}return o}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}}setTileGridForProjection(t,e){const n=Di(t);if(n){const s=qt(n);s in this.tileGridForProjection||(this.tileGridForProjection[s]=e)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function PT(i,t){i.getImage().src=t}const y_=MT;class NT extends y_{constructor(t){t=t||{};const e=t.projection!==void 0?t.projection:"EPSG:3857",n=t.tileGrid!==void 0?t.tileGrid:TT({extent:th(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const E_=NT,FT='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class kT extends E_{constructor(t){t=t||{};let e;t.attributions!==void 0?e=t.attributions:e=[FT];const n=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",s=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:e,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:n,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,opaque:t.opaque!==void 0?t.opaque:!0,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:s,wrapX:t.wrapX,zDirection:t.zDirection})}}const yd=kT;class ih extends Mi{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new ih(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(le(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=Gt(t,$t.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?$T(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function $T(i){if(typeof i=="function")return i;let t;return Array.isArray(i)?t=i:(zt(typeof i.getZIndex=="function",41),t=[i]),function(){return t}}const WT=ih;function jT(i,t,e,n,s){v_(i,t,e||0,n||i.length-1,s||BT)}function v_(i,t,e,n,s){for(;n>e;){if(n-e>600){var r=n-e+1,o=t-e+1,l=Math.log(r),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(r-c)/r)*(o-r/2<0?-1:1),d=Math.max(e,Math.floor(t-o*c/r+h)),_=Math.min(n,Math.floor(t+(r-o)*c/r+h));v_(i,t,d,_,s)}var m=i[t],x=e,b=n;for(Wr(i,e,t),s(i[n],m)>0&&Wr(i,e,n);x<b;){for(Wr(i,x,b),x++,b--;s(i[x],m)<0;)x++;for(;s(i[b],m)>0;)b--}s(i[e],m)===0?Wr(i,e,b):(b++,Wr(i,b,n)),b<=t&&(e=b+1),t<=b&&(n=b-1)}}function Wr(i,t,e){var n=i[t];i[t]=i[e],i[e]=n}function BT(i,t){return i<t?-1:i>t?1:0}class x_{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!la(t,e))return n;const s=this.toBBox,r=[];for(;e;){for(let o=0;o<e.children.length;o++){const l=e.children[o],c=e.leaf?s(l):l;la(t,c)&&(e.leaf?n.push(l):yc(t,c)?this._all(l,n):r.push(l))}e=r.pop()}return n}collides(t){let e=this.data;if(!la(t,e))return!1;const n=[];for(;e;){for(let s=0;s<e.children.length;s++){const r=e.children[s],o=e.leaf?this.toBBox(r):r;if(la(t,o)){if(e.leaf||yc(t,o))return!0;n.push(r)}}e=n.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let n=0;n<t.length;n++)this.insert(t[n]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const n=this.data;this.data=e,e=n}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Xs([]),this}remove(t,e){if(!t)return this;let n=this.data;const s=this.toBBox(t),r=[],o=[];let l,c,h;for(;n||r.length;){if(n||(n=r.pop(),c=r[r.length-1],l=o.pop(),h=!0),n.leaf){const d=HT(t,n.children,e);if(d!==-1)return n.children.splice(d,1),r.push(n),this._condense(r),this}!h&&!n.leaf&&yc(n,s)?(r.push(n),o.push(l),l=0,c=n,n=n.children[0]):c?(l++,n=c.children[l],h=!1):n=null}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,s){const r=n-e+1;let o=this._maxEntries,l;if(r<=o)return l=Xs(t.slice(e,n+1)),js(l,this.toBBox),l;s||(s=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,s-1))),l=Xs([]),l.leaf=!1,l.height=s;const c=Math.ceil(r/o),h=c*Math.ceil(Math.sqrt(o));Ed(t,e,n,h,this.compareMinX);for(let d=e;d<=n;d+=h){const _=Math.min(d+h-1,n);Ed(t,d,_,c,this.compareMinY);for(let m=d;m<=_;m+=c){const x=Math.min(m+c-1,_);l.children.push(this._build(t,m,x,s-1))}}return js(l,this.toBBox),l}_chooseSubtree(t,e,n,s){for(;s.push(e),!(e.leaf||s.length-1===n);){let r=1/0,o=1/0,l;for(let c=0;c<e.children.length;c++){const h=e.children[c],d=mc(h),_=GT(t,h)-d;_<o?(o=_,r=d<r?d:r,l=h):_===o&&d<r&&(r=d,l=h)}e=l||e.children[0]}return e}_insert(t,e,n){const s=n?t:this.toBBox(t),r=[],o=this._chooseSubtree(s,this.data,e,r);for(o.children.push(t),Gr(o,s);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(s,r,e)}_split(t,e){const n=t[e],s=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,s);const o=this._chooseSplitIndex(n,r,s),l=Xs(n.children.splice(o,n.children.length-o));l.height=n.height,l.leaf=n.leaf,js(n,this.toBBox),js(l,this.toBBox),e?t[e-1].children.push(l):this._splitRoot(n,l)}_splitRoot(t,e){this.data=Xs([t,e]),this.data.height=t.height+1,this.data.leaf=!1,js(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let s,r=1/0,o=1/0;for(let l=e;l<=n-e;l++){const c=zr(t,0,l,this.toBBox),h=zr(t,l,n,this.toBBox),d=YT(c,h),_=mc(c)+mc(h);d<r?(r=d,s=l,o=_<o?_:o):d===r&&_<o&&(o=_,s=l)}return s||n-e}_chooseSplitAxis(t,e,n){const s=t.leaf?this.compareMinX:VT,r=t.leaf?this.compareMinY:zT,o=this._allDistMargin(t,e,n,s),l=this._allDistMargin(t,e,n,r);o<l&&t.children.sort(s)}_allDistMargin(t,e,n,s){t.children.sort(s);const r=this.toBBox,o=zr(t,0,e,r),l=zr(t,n-e,n,r);let c=aa(o)+aa(l);for(let h=e;h<n-e;h++){const d=t.children[h];Gr(o,t.leaf?r(d):d),c+=aa(o)}for(let h=n-e-1;h>=e;h--){const d=t.children[h];Gr(l,t.leaf?r(d):d),c+=aa(l)}return c}_adjustParentBBoxes(t,e,n){for(let s=n;s>=0;s--)Gr(e[s],t)}_condense(t){for(let e=t.length-1,n;e>=0;e--)t[e].children.length===0?e>0?(n=t[e-1].children,n.splice(n.indexOf(t[e]),1)):this.clear():js(t[e],this.toBBox)}}function HT(i,t,e){if(!e)return t.indexOf(i);for(let n=0;n<t.length;n++)if(e(i,t[n]))return n;return-1}function js(i,t){zr(i,0,i.children.length,t,i)}function zr(i,t,e,n,s){s||(s=Xs(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let r=t;r<e;r++){const o=i.children[r];Gr(s,i.leaf?n(o):o)}return s}function Gr(i,t){return i.minX=Math.min(i.minX,t.minX),i.minY=Math.min(i.minY,t.minY),i.maxX=Math.max(i.maxX,t.maxX),i.maxY=Math.max(i.maxY,t.maxY),i}function VT(i,t){return i.minX-t.minX}function zT(i,t){return i.minY-t.minY}function mc(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function aa(i){return i.maxX-i.minX+(i.maxY-i.minY)}function GT(i,t){return(Math.max(t.maxX,i.maxX)-Math.min(t.minX,i.minX))*(Math.max(t.maxY,i.maxY)-Math.min(t.minY,i.minY))}function YT(i,t){const e=Math.max(i.minX,t.minX),n=Math.max(i.minY,t.minY),s=Math.min(i.maxX,t.maxX),r=Math.min(i.maxY,t.maxY);return Math.max(0,s-e)*Math.max(0,r-n)}function yc(i,t){return i.minX<=t.minX&&i.minY<=t.minY&&t.maxX<=i.maxX&&t.maxY<=i.maxY}function la(i,t){return t.minX<=i.maxX&&t.minY<=i.maxY&&t.maxX>=i.minX&&t.maxY>=i.minY}function Xs(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ed(i,t,e,n,s){const r=[t,e];for(;r.length;){if(e=r.pop(),t=r.pop(),e-t<=n)continue;const o=t+Math.ceil((e-t)/n/2)*n;jT(i,o,t,e,s),r.push(t,o,o,e)}}class XT{constructor(t){this.rbush_=new x_(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[qt(e)]=n}load(t,e){const n=new Array(e.length);for(let s=0,r=e.length;s<r;s++){const o=t[s],l=e[s],c={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:l};n[s]=c,this.items_[qt(l)]=c}this.rbush_.load(n)}remove(t){const e=qt(t),n=this.items_[e];return delete this.items_[e],this.rbush_.remove(n)!==null}update(t,e){const n=this.items_[qt(e)],s=[n.minX,n.minY,n.maxX,n.maxY];co(s,t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(s){return s.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let s=0,r=t.length;s<r;s++)if(n=e(t[s]),n)return n;return n}isEmpty(){return lo(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return gn(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}}const vd=XT,Si={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function KT(i,t){return[[-1/0,-1/0,1/0,1/0]]}let UT=!1;function qT(i,t,e,n,s,r,o){const l=new XMLHttpRequest;l.open("GET",typeof i=="function"?i(e,n,s):i,!0),t.getType()=="arraybuffer"&&(l.responseType="arraybuffer"),l.withCredentials=UT,l.onload=function(c){if(!l.status||l.status>=200&&l.status<300){const h=t.getType();let d;h=="json"||h=="text"?d=l.responseText:h=="xml"?(d=l.responseXML,d||(d=new DOMParser().parseFromString(l.responseText,"application/xml"))):h=="arraybuffer"&&(d=l.response),d?r(t.readFeatures(d,{extent:e,featureProjection:s}),t.readProjection(d)):o()}else o()},l.onerror=o,l.send()}function xd(i,t){return function(e,n,s,r,o){const l=this;qT(i,t,e,n,s,function(c,h){l.addFeatures(c),r!==void 0&&r(c)},o||Ss)}}class wn extends mn{constructor(t,e,n){super(t),this.feature=e,this.features=n}}class ZT extends f_{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Ss,this.format_=t.format,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(zt(this.format_,7),this.loader_=xd(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:KT;const e=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=e?new vd:null,this.loadedExtentsRtree_=new vd,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let n,s;Array.isArray(t.features)?s=t.features:t.features&&(n=t.features,s=n.getArray()),!e&&n===void 0&&(n=new Vi(s)),s!==void 0&&this.addFeaturesInternal(s),n!==void 0&&this.bindFeaturesCollection_(n)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=qt(t);if(!this.addToIndex_(e,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(e,t);const n=t.getGeometry();if(n){const s=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(s,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new wn(Si.ADDFEATURE,t))}setupChangeEvents_(t,e){this.featureChangeKeys_[t]=[Gt(e,$t.CHANGE,this.handleFeatureChange_,this),Gt(e,ur.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(t,e){let n=!0;const s=e.getId();return s!==void 0&&(s.toString()in this.idIndex_?n=!1:this.idIndex_[s.toString()]=e),n&&(zt(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],n=[],s=[];for(let r=0,o=t.length;r<o;r++){const l=t[r],c=qt(l);this.addToIndex_(c,l)&&n.push(l)}for(let r=0,o=n.length;r<o;r++){const l=n[r],c=qt(l);this.setupChangeEvents_(c,l);const h=l.getGeometry();if(h){const d=h.getExtent();e.push(d),s.push(l)}else this.nullGeometryFeatures_[c]=l}if(this.featuresRtree_&&this.featuresRtree_.load(e,s),this.hasListener(Si.ADDFEATURE))for(let r=0,o=n.length;r<o;r++)this.dispatchEvent(new wn(Si.ADDFEATURE,n[r]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(Si.ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(Si.REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(Ze.ADD,n=>{e||(e=!0,this.addFeature(n.element),e=!1)}),t.addEventListener(Ze.REMOVE,n=>{e||(e=!0,this.removeFeature(n.element),e=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(le);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const n=s=>{this.removeFeatureInternal(s)};this.featuresRtree_.forEach(n);for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new wn(Si.CLEAR);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(s){if(s.getGeometry().intersectsCoordinate(t))return e(s)})}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){const r=e(n);if(r)return r}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),lo(this.nullGeometryFeatures_)||_p(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,function(n){e.push(n)}),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const s=O0(t,e);return[].concat(...s.map(r=>this.featuresRtree_.getInExtent(r)))}else if(this.featuresCollection_)return this.featuresCollection_.getArray().slice(0);return[]}getClosestFeatureToCoordinate(t,e){const n=t[0],s=t[1];let r=null;const o=[NaN,NaN];let l=1/0;const c=[-1/0,-1/0,1/0,1/0];return e=e||ao,this.featuresRtree_.forEachInExtent(c,function(h){if(e(h)){const d=h.getGeometry(),_=l;if(l=d.closestPointXY(n,s,o,l),l<_){r=h;const m=Math.sqrt(l);c[0]=n-m,c[1]=s-m,c[2]=n+m,c[3]=s+m}}}),r}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return e!==void 0?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return e!==void 0?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,n=qt(e),s=e.getGeometry();if(!s)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);else{const o=s.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}const r=e.getId();if(r!==void 0){const o=r.toString();this.idIndex_[o]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[o]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new wn(Si.CHANGEFEATURE,e))}hasFeature(t){const e=t.getId();return e!==void 0?e in this.idIndex_:qt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&lo(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,e,n){const s=this.loadedExtentsRtree_,r=this.strategy_(t,e,n);for(let o=0,l=r.length;o<l;++o){const c=r[o];s.forEachInExtent(c,function(d){return gs(d.extent,c)})||(++this.loadingExtentsCount_,this.dispatchEvent(new wn(Si.FEATURESLOADSTART)),this.loader_.call(this,c,e,n,d=>{--this.loadingExtentsCount_,this.dispatchEvent(new wn(Si.FEATURESLOADEND,void 0,d))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new wn(Si.FEATURESLOADERROR))}),s.insert(c,{extent:c.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let n;e.forEachInExtent(t,function(s){if(co(s.extent,t))return n=s,!0}),n&&e.remove(n)}removeFeature(t){if(!t)return;const e=qt(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=qt(t),n=this.featureChangeKeys_[e];if(!n)return;n.forEach(le),delete this.featureChangeKeys_[e];const s=t.getId();return s!==void 0&&delete this.idIndex_[s.toString()],delete this.uidIndex_[e],this.dispatchEvent(new wn(Si.REMOVEFEATURE,t)),t}removeFromIdIndex_(t){let e=!1;for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e}setLoader(t){this.loader_=t}setUrl(t){zt(this.format_,7),this.url_=t,this.setLoader(xd(t,this.format_))}}const JT=ZT;function QT(i,t){const e=[];Object.keys(t).forEach(function(s){t[s]!==null&&t[s]!==void 0&&e.push(s+"="+encodeURIComponent(t[s]))});const n=e.join("&");return i=i.replace(/[?&]$/,""),i+=i.includes("?")?"&":"?",i+n}class tb extends mp{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return Ut()}getData(t){return null}prepareFrame(t){return Ut()}renderFrame(t,e){return Ut()}loadedTileCallback(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n}createLoadedTileFinder(t,e,n){return(s,r)=>{const o=this.loadedTileCallback.bind(this,n,s);return t.forEachLoadedTile(e,s,r,o)}}forEachFeatureAtCoordinate(t,e,n,s,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){t.target.getState()===be.LOADED&&this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=be.LOADED&&e!=be.ERROR&&t.addEventListener($t.CHANGE,this.boundHandleImageChange_),e==be.IDLE&&(t.load(),e=t.getState()),e==be.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const eb=tb,Cd=[];let Ks=null;function ib(){Ks=Ve(1,1,void 0,{willReadFrequently:!0})}class nb extends eb{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Yi(),this.pixelTransform=Yi(),this.inversePixelTransform=Yi(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,e,n){Ks||ib(),Ks.clearRect(0,0,1,1);let s;try{Ks.drawImage(t,e,n,1,1,0,0,1,1),s=Ks.getImageData(0,0,1,1).data}catch{return Ks=null,null}return s}getBackground(t){let n=this.getLayer().getBackground();return typeof n=="function"&&(n=n(t.viewState.resolution)),n||void 0}useContainer(t,e,n){const s=this.getLayer().getClassName();let r,o;if(t&&t.className===s&&(!n||t&&t.style.backgroundColor&&zn(Na(t.style.backgroundColor),Na(n)))){const l=t.firstElementChild;l instanceof HTMLCanvasElement&&(o=l.getContext("2d"))}if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){r=document.createElement("div"),r.className=s;let l=r.style;l.position="absolute",l.width="100%",l.height="100%",o=Ve();const c=o.canvas;r.appendChild(c),l=c.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=r,this.context=o}!this.containerReused&&n&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const s=Rs(n),r=yl(n),o=ml(n),l=_l(n);Ae(e.coordinateToPixelTransform,s),Ae(e.coordinateToPixelTransform,r),Ae(e.coordinateToPixelTransform,o),Ae(e.coordinateToPixelTransform,l);const c=this.inversePixelTransform;Ae(c,s),Ae(c,r),Ae(c,o),Ae(c,l),t.save(),t.beginPath(),t.moveTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()}dispatchRenderEvent_(t,e,n){const s=this.getLayer();if(s.hasListener(t)){const r=new Dp(t,this.inversePixelTransform,n,e);s.dispatchEvent(r)}}preRender(t,e){this.frameState=e,this.dispatchRenderEvent_(Nn.PRERENDER,t,e)}postRender(t,e){this.dispatchRenderEvent_(Nn.POSTRENDER,t,e)}getRenderTransform(t,e,n,s,r,o,l){const c=r/2,h=o/2,d=s/e,_=-d,m=-t[0]+l,x=-t[1];return Wn(this.tempTransform,c,h,d,_,-n,m,x)}disposeInternal(){delete this.frameState,super.disposeInternal()}}const C_=nb,ca={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class sb extends El{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getPreload(){return this.get(ca.PRELOAD)}setPreload(t){this.set(ca.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(ca.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(ca.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}const rb=sb;class ob extends C_{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=yi(),this.tmpTileRange_=new g_(0,0,0,0)}isDrawableTile(t){const e=this.getLayer(),n=t.getState(),s=e.getUseInterimTilesOnError();return n==Tt.LOADED||n==Tt.EMPTY||n==Tt.ERROR&&!s}getTile(t,e,n,s){const r=s.pixelRatio,o=s.viewState.projection,l=this.getLayer();let h=l.getSource().getTile(t,e,n,r,o);return h.getState()==Tt.ERROR&&l.getUseInterimTilesOnError()&&l.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(h)||(h=h.getInterimTile()),h}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),s=Ae(e.pixelToCoordinateTransform,t.slice()),r=n.getExtent();if(r&&!gl(r,s))return null;const o=e.pixelRatio,l=e.viewState.projection,c=e.viewState,h=n.getRenderSource(),d=h.getTileGridForProjection(c.projection),_=h.getTilePixelRatio(e.pixelRatio);for(let m=d.getZForResolution(c.resolution);m>=d.getMinZoom();--m){const x=d.getTileCoordForCoordAndZ(s,m),b=h.getTile(m,x[1],x[2],o,l);if(!(b instanceof l_||b instanceof ru)||b instanceof ru&&b.getState()===Tt.EMPTY)return null;if(b.getState()!==Tt.LOADED)continue;const C=d.getOrigin(m),S=Qe(d.getTileSize(m)),w=d.getResolution(m),M=Math.floor(_*((s[0]-C[0])/w-x[1]*S[0])),P=Math.floor(_*((C[1]-s[1])/w-x[2]*S[1])),N=Math.round(_*h.getGutterForProjection(c.projection));return this.getImageData(b.getImage(),M+N,P+N)}return null}loadedTileCallback(t,e,n){return this.isDrawableTile(n)?super.loadedTileCallback(t,e,n):!1}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex],s=t.viewState,r=s.projection,o=s.resolution,l=s.center,c=s.rotation,h=t.pixelRatio,d=this.getLayer(),_=d.getSource(),m=_.getRevision(),x=_.getTileGridForProjection(r),b=x.getZForResolution(o,_.zDirection),C=x.getResolution(b);let S=t.extent;const w=t.viewState.resolution,M=_.getTilePixelRatio(h),P=Math.round(ue(S)/w*h),N=Math.round(Ui(S)/w*h),j=n.extent&&_s(n.extent);j&&(S=qr(S,_s(n.extent)));const g=C*P/2/M,it=C*N/2/M,G=[l[0]-g,l[1]-it,l[0]+g,l[1]+it],et=x.getTileRangeForExtentAndZ(S,b),rt={};rt[b]={};const mt=this.createLoadedTileFinder(_,r,rt),gt=this.tmpExtent,_t=this.tmpTileRange_;this.newTiles_=!1;const Vt=c?Zc(s.center,w,c,t.size):void 0;for(let ie=et.minX;ie<=et.maxX;++ie)for(let Dt=et.minY;Dt<=et.maxY;++Dt){if(c&&!x.tileCoordIntersectsViewport([b,ie,Dt],Vt))continue;const kt=this.getTile(b,ie,Dt,t);if(this.isDrawableTile(kt)){const Yt=qt(this);if(kt.getState()==Tt.LOADED){rt[b][kt.tileCoord.toString()]=kt;let Jt=kt.inTransition(Yt);Jt&&n.opacity!==1&&(kt.endTransition(Yt),Jt=!1),!this.newTiles_&&(Jt||!this.renderedTiles.includes(kt))&&(this.newTiles_=!0)}if(kt.getAlpha(Yt,t.time)===1)continue}const oe=x.getTileCoordChildTileRange(kt.tileCoord,_t,gt);let he=!1;oe&&(he=mt(b+1,oe)),he||x.forEachTileCoordParentTileRange(kt.tileCoord,mt,_t,gt)}const pt=C/o*h/M;Wn(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/h,1/h,c,-P/2,-N/2);const lt=xp(this.pixelTransform);this.useContainer(e,lt,this.getBackground(t));const q=this.context,ht=q.canvas;Fu(this.inversePixelTransform,this.pixelTransform),Wn(this.tempTransform,P/2,N/2,pt,pt,0,-P/2,-N/2),ht.width!=P||ht.height!=N?(ht.width=P,ht.height=N):this.containerReused||q.clearRect(0,0,P,N),j&&this.clipUnrotated(q,t,j),_.getInterpolate()||(q.imageSmoothingEnabled=!1),this.preRender(q,t),this.renderedTiles.length=0;let It=Object.keys(rt).map(Number);It.sort(hr);let Nt,Ft,K;n.opacity===1&&(!this.containerReused||_.getOpaque(t.viewState.projection))?It=It.reverse():(Nt=[],Ft=[]);for(let ie=It.length-1;ie>=0;--ie){const Dt=It[ie],kt=_.getTilePixelSize(Dt,h,r),he=x.getResolution(Dt)/C,Yt=kt[0]*he*pt,Jt=kt[1]*he*pt,ze=x.getTileCoordForCoordAndZ(Rs(G),Dt),Ge=x.getTileCoordExtent(ze),R=Ae(this.tempTransform,[M*(Ge[0]-G[0])/C,M*(G[3]-Ge[3])/C]),O=M*_.getGutterForProjection(r),H=rt[Dt];for(const X in H){const $=H[X],Z=$.tileCoord,ct=ze[1]-Z[1],st=Math.round(R[0]-(ct-1)*Yt),nt=ze[2]-Z[2],U=Math.round(R[1]-(nt-1)*Jt),ft=Math.round(R[0]-ct*Yt),ot=Math.round(R[1]-nt*Jt),ut=st-ft,yt=U-ot,Ct=b===Dt,jt=Ct&&$.getAlpha(qt(this),t.time)!==1;let Lt=!1;if(!jt)if(Nt){K=[ft,ot,ft+ut,ot,ft+ut,ot+yt,ft,ot+yt];for(let Qt=0,ve=Nt.length;Qt<ve;++Qt)if(b!==Dt&&Dt<Ft[Qt]){const fe=Nt[Qt];Je([ft,ot,ft+ut,ot+yt],[fe[0],fe[3],fe[4],fe[7]])&&(Lt||(q.save(),Lt=!0),q.beginPath(),q.moveTo(K[0],K[1]),q.lineTo(K[2],K[3]),q.lineTo(K[4],K[5]),q.lineTo(K[6],K[7]),q.moveTo(fe[6],fe[7]),q.lineTo(fe[4],fe[5]),q.lineTo(fe[2],fe[3]),q.lineTo(fe[0],fe[1]),q.clip())}Nt.push(K),Ft.push(Dt)}else q.clearRect(ft,ot,ut,yt);this.drawTileImage($,t,ft,ot,ut,yt,O,Ct),Nt&&!jt?(Lt&&q.restore(),this.renderedTiles.unshift($)):this.renderedTiles.push($),this.updateUsedTiles(t.usedTiles,_,$)}}return this.renderedRevision=m,this.renderedResolution=C,this.extentChanged=!this.renderedExtent_||!co(this.renderedExtent_,G),this.renderedExtent_=G,this.renderedPixelRatio=h,this.renderedProjection=r,this.manageTilePyramid(t,_,x,h,r,S,b,d.getPreload()),this.scheduleExpireCache(t,_),this.postRender(q,t),n.extent&&q.restore(),q.imageSmoothingEnabled=!0,lt!==ht.style.transform&&(ht.style.transform=lt),this.container}drawTileImage(t,e,n,s,r,o,l,c){const h=this.getTileImage(t);if(!h)return;const d=qt(this),_=e.layerStatesArray[e.layerIndex],m=_.opacity*(c?t.getAlpha(d,e.time):1),x=m!==this.context.globalAlpha;x&&(this.context.save(),this.context.globalAlpha=m),this.context.drawImage(h,l,l,h.width-2*l,h.height-2*l,n,s,r,o),x&&this.context.restore(),m!==_.opacity?e.animate=!0:c&&t.endTransition(d)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,e){if(e.canExpireCache()){const n=function(s,r,o){const l=qt(s);l in o.usedTiles&&s.expireCache(o.viewState.projection,o.usedTiles[l])}.bind(null,e);t.postRenderFunctions.push(n)}}updateUsedTiles(t,e,n){const s=qt(e);s in t||(t[s]={}),t[s][n.getKey()]=!0}manageTilePyramid(t,e,n,s,r,o,l,c,h){const d=qt(e);d in t.wantedTiles||(t.wantedTiles[d]={});const _=t.wantedTiles[d],m=t.tileQueue,x=n.getMinZoom(),b=t.viewState.rotation,C=b?Zc(t.viewState.center,t.viewState.resolution,b,t.size):void 0;let S=0,w,M,P,N,j,g;for(g=x;g<=l;++g)for(M=n.getTileRangeForExtentAndZ(o,g,M),P=n.getResolution(g),N=M.minX;N<=M.maxX;++N)for(j=M.minY;j<=M.maxY;++j)b&&!n.tileCoordIntersectsViewport([g,N,j],C)||(l-g<=c?(++S,w=e.getTile(g,N,j,s,r),w.getState()==Tt.IDLE&&(_[w.getKey()]=!0,m.isKeyQueued(w.getKey())||m.enqueue([w,d,n.getTileCoordCenter(w.tileCoord),P])),h!==void 0&&h(w)):e.useTile(g,N,j,r));e.updateCacheSize(S,r)}}const ab=ob;class lb extends rb{constructor(t){super(t)}createRenderer(){return new ab(this)}}const ba=lb;class cb extends y_{constructor(t){t=t||{},super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection}),this.params_=t.params||{},this.hidpi_=t.hidpi!==void 0?t.hidpi:!0,this.tmpExtent_=yi(),this.setKey(this.getKeyForParams_())}getKeyForParams_(){let t=0;const e=[];for(const n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")}getParams(){return this.params_}getRequestUrl_(t,e,n,s,r,o){const l=this.urls;if(!l)return;const c=r.getCode().split(/:(?=\d+$)/).pop();o.SIZE=e[0]+","+e[1],o.BBOX=n.join(","),o.BBOXSR=c,o.IMAGESR=c,o.DPI=Math.round(o.DPI?o.DPI*s:90*s);let h;if(l.length==1)h=l[0];else{const _=Ts(u_(t),l.length);h=l[_]}const d=h.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return QT(d,o)}getTilePixelRatio(t){return this.hidpi_?t:1}updateParams(t){Object.assign(this.params_,t),this.setKey(this.getKeyForParams_())}tileUrlFunction(t,e,n){let s=this.getTileGrid();if(s||(s=this.getTileGridForProjection(n)),s.getResolutions().length<=t[0])return;e!=1&&!this.hidpi_&&(e=1);const r=s.getTileCoordExtent(t,this.tmpExtent_);let o=Qe(s.getTileSize(t[0]),this.tmpSize);e!=1&&(o=n_(o,e,this.tmpSize));const l={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object.assign(l,this.params_),this.getRequestUrl_(t,o,r,e,n,l)}}const ub=cb;class nh{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Qe(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new nh({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Ut()}getImage(t){return Ut()}getHitDetectionImage(){return Ut()}getPixelRatio(t){return 1}getImageState(){return Ut()}getImageSize(){return Ut()}getOrigin(){return Ut()}getSize(){return Ut()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Qe(t)}listenImageChange(t){Ut()}load(){Ut()}unlistenImageChange(t){Ut()}}const T_=nh;function zi(i){return Array.isArray(i)?Rp(i):i}class sh extends T_{constructor(t){const e=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:1,rotateWithView:e,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius!==void 0?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const t=this.getScale(),e=new sh({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_;if(!t)return null;const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(t){let e=this.canvas_[t];if(!e){const n=this.renderOptions_,s=Ve(n.size*t,n.size*t);this.draw_(n,s,t),e=s.canvas,this.canvas_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return be.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,n){if(e===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return e;let s=this.radius_,r=this.radius2_===void 0?s:this.radius2_;if(s<r){const g=s;s=r,r=g}const o=this.radius2_===void 0?this.points_:this.points_*2,l=2*Math.PI/o,c=r*Math.sin(l),h=Math.sqrt(r*r-c*c),d=s-h,_=Math.sqrt(c*c+d*d),m=_/c;if(t==="miter"&&m<=n)return m*e;const x=e/2/m,b=e/2*(d/_),S=Math.sqrt((s+x)*(s+x)+b*b)-s;if(this.radius2_===void 0||t==="bevel")return S*2;const w=s*Math.sin(l),M=Math.sqrt(s*s-w*w),P=r-M,j=Math.sqrt(w*w+P*P)/w;if(j<=n){const g=j*e/2-r-s;return 2*Math.max(S,g)}return S*2}createRenderOptions(){let t=dr,e=0,n=null,s=0,r,o=0;this.stroke_&&(r=this.stroke_.getColor(),r===null&&(r=go),r=zi(r),o=this.stroke_.getWidth(),o===void 0&&(o=_o),n=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=dr),e=this.stroke_.getMiterLimit(),e===void 0&&(e=fo));const l=this.calculateLineJoinSize_(t,o,e),c=Math.max(this.radius_,this.radius2_||0),h=Math.ceil(2*c+l);return{strokeStyle:r,strokeWidth:o,size:h,lineDash:n,lineDashOffset:s,lineJoin:t,miterLimit:e}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]}draw_(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let s=this.fill_.getColor();s===null&&(s=cn),e.fillStyle=zi(s),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){if(this.fill_){let e=this.fill_.getColor(),n=0;if(typeof e=="string"&&(e=Na(e)),e===null?n=1:Array.isArray(e)&&(n=e.length===4?e[3]:1),n===0){const s=Ve(t.size,t.size);this.hitDetectionCanvas_=s.canvas,this.drawHitDetectionCanvas_(t,s)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(t){let e=this.points_;const n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{const s=this.radius2_===void 0?n:this.radius2_;this.radius2_!==void 0&&(e*=2);const r=this.angle_-Math.PI/2,o=2*Math.PI/e;for(let l=0;l<e;l++){const c=r+l*o,h=l%2===0?n:s;t.lineTo(h*Math.cos(c),h*Math.sin(c))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=cn,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}}const b_=sh;class rh extends b_{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new rh({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}const w_=rh;class oh{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null}clone(){const t=this.getColor();return new oh({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){this.color_=t}}const ah=oh;let jr=null;class hb extends fl{constructor(t,e,n,s,r,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=o,this.unlisten_=null,this.imageState_=r,this.size_=n,this.src_=e,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===be.LOADED){jr||(jr=Ve(1,1,void 0,{willReadFrequently:!0})),jr.drawImage(this.image_,0,0);try{jr.getImageData(0,0,1,1),this.tainted_=!1}catch{jr=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent($t.CHANGE)}handleImageError_(){this.imageState_=be.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=be.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=Ve(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===be.IDLE){this.image_||this.initializeImage_(),this.imageState_=be.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=a_(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==be.LOADED)return;const e=this.image_,n=document.createElement("canvas");n.width=Math.ceil(e.width*t),n.height=Math.ceil(e.height*t);const s=n.getContext("2d");s.scale(t,t),s.drawImage(e,0,0),s.globalCompositeOperation="multiply",s.fillStyle=Ip(this.color_),s.fillRect(0,0,n.width/t,n.height/t),s.globalCompositeOperation="destination-in",s.drawImage(e,0,0),this.canvas_[t]=n}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function fb(i,t,e,n,s,r){let o=Fa.get(t,n,r);return o||(o=new hb(i,t,e,n,s,r),Fa.set(t,n,r,o)),o}class lh extends T_{constructor(t){t=t||{};const e=t.opacity!==void 0?t.opacity:1,n=t.rotation!==void 0?t.rotation:0,s=t.scale!==void 0?t.scale:1,r=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:e,rotation:n,scale:s,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:r,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const o=t.img!==void 0?t.img:null;this.imgSize_=t.imgSize;let l=t.src;zt(!(l!==void 0&&o),4),zt(!o||o&&this.imgSize_,5),(l===void 0||l.length===0)&&o&&(l=o.src||qt(o)),zt(l!==void 0&&l.length>0,6),zt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),69);const c=t.src!==void 0?be.IDLE:be.LOADED;if(this.color_=t.color!==void 0?Na(t.color):null,this.iconImage_=fb(o,l,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,c,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.width_=t.width,this.height_=t.height,this.width_!==void 0||this.height_!==void 0){const h=this.getImage(1),d=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};h.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):h.addEventListener("load",d)}}clone(){const t=this.getScale();return new lh({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(t,e){const n=this.getImage(1);t!==void 0&&e!==void 0?super.setScale([t/n.width,e/n.height]):t!==void 0?super.setScale([t/n.width,t/n.width]):e!==void 0?super.setScale([e/n.height,e/n.height]):super.setScale([1,1])}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=s[0]),this.anchorYUnits_=="fraction"&&(t[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+s[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+s[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]-e[0]/n[0],t[1]+e[1]/n[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=n[0]-e[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(t){this.width_=t,this.updateScaleFromWidthAndHeight(t,this.height_)}setHeight(t){this.height_=t,this.updateScaleFromWidthAndHeight(this.width_,t)}setScale(t){super.setScale(t);const e=this.getImage(1);if(e){const n=Array.isArray(t)?t[0]:t;n!==void 0&&(this.width_=n*e.width);const s=Array.isArray(t)?t[1]:t;s!==void 0&&(this.height_=s*e.height)}}listenImageChange(t){this.iconImage_.addEventListener($t.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener($t.CHANGE,t)}}const ch=lh;class uh{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new uh({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const S_=uh;class wl{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=Td,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new wl({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(e){return e.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Td,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function db(i){let t;if(typeof i=="function")t=i;else{let e;Array.isArray(i)?e=i:(zt(typeof i.getZIndex=="function",41),e=[i]),t=function(){return e}}return t}let Ec=null;function gb(i,t){if(!Ec){const e=new ah({color:"rgba(255,255,255,0.4)"}),n=new S_({color:"#3399CC",width:1.25});Ec=[new wl({image:new w_({fill:e,stroke:n,radius:5}),fill:e,stroke:n})]}return Ec}function Td(i){return i.getGeometry()}const Ka=wl,pb="#333";class hh{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=Qe(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new ah({color:pb}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}clone(){const t=this.getScale();return new hh({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Qe(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const _b=hh;function mb(i,t,e,n){let s=i[t],r=i[t+1],o=0;for(let l=t+n;l<e;l+=n){const c=i[l],h=i[l+1];o+=Math.sqrt((c-s)*(c-s)+(h-r)*(h-r)),s=c,r=h}return o}function bd(i){return new Ka({fill:Eo(i,""),stroke:vo(i,""),text:yb(i),image:Eb(i)})}function Eo(i,t){const e=i[t+"fill-color"];if(!!e)return new ah({color:e})}function vo(i,t){const e=i[t+"stroke-width"],n=i[t+"stroke-color"];if(!(!e&&!n))return new S_({width:e,color:n,lineCap:i[t+"stroke-line-cap"],lineJoin:i[t+"stroke-line-join"],lineDash:i[t+"stroke-line-dash"],lineDashOffset:i[t+"stroke-line-dash-offset"],miterLimit:i[t+"stroke-miter-limit"]})}function yb(i){const t=i["text-value"];return t?new _b({text:t,font:i["text-font"],maxAngle:i["text-max-angle"],offsetX:i["text-offset-x"],offsetY:i["text-offset-y"],overflow:i["text-overflow"],placement:i["text-placement"],scale:i["text-scale"],rotateWithView:i["text-rotate-with-view"],rotation:i["text-rotation"],textAlign:i["text-align"],justify:i["text-justify"],textBaseline:i["text-baseline"],padding:i["text-padding"],fill:Eo(i,"text-"),backgroundFill:Eo(i,"text-background-"),stroke:vo(i,"text-"),backgroundStroke:vo(i,"text-background-")}):void 0}function Eb(i){const t=i["icon-src"],e=i["icon-img"];if(t||e)return new ch({src:t,img:e,imgSize:i["icon-img-size"],anchor:i["icon-anchor"],anchorOrigin:i["icon-anchor-origin"],anchorXUnits:i["icon-anchor-x-units"],anchorYUnits:i["icon-anchor-y-units"],color:i["icon-color"],crossOrigin:i["icon-cross-origin"],offset:i["icon-offset"],displacement:i["icon-displacement"],opacity:i["icon-opacity"],scale:i["icon-scale"],rotation:i["icon-rotation"],rotateWithView:i["icon-rotate-with-view"],size:i["icon-size"],declutterMode:i["icon-declutter-mode"]});const n=i["shape-points"];if(n){const r="shape-";return new b_({points:n,fill:Eo(i,r),stroke:vo(i,r),radius:i["shape-radius"],radius1:i["shape-radius1"],radius2:i["shape-radius2"],angle:i["shape-angle"],displacement:i["shape-displacement"],rotation:i["shape-rotation"],rotateWithView:i["shape-rotate-with-view"],scale:i["shape-scale"],declutterMode:i["shape-declutter-mode"]})}const s=i["circle-radius"];if(s){const r="circle-";return new w_({radius:s,fill:Eo(i,r),stroke:vo(i,r),displacement:i["circle-displacement"],scale:i["circle-scale"],rotation:i["circle-rotation"],rotateWithView:i["circle-rotate-with-view"],declutterMode:i["circle-declutter-mode"]})}}const wd={RENDER_ORDER:"renderOrder"};class vb extends El{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter!==void 0?t.declutter:!1,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(wd.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new x_(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(t){this.set(wd.RENDER_ORDER,t)}setStyle(t){let e;if(t===void 0)e=gb;else if(t===null)e=null;else if(typeof t=="function")e=t;else if(t instanceof Ka)e=t;else if(Array.isArray(t)){const n=t.length,s=new Array(n);for(let r=0;r<n;++r){const o=t[r];o instanceof Ka?s[r]=o:s[r]=bd(o)}e=s}else e=bd(t);this.style_=e,this.styleFunction_=t===null?void 0:db(this.style_),this.changed()}}const xb=vb,Ro={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},ua=[Ro.FILL],Dn=[Ro.STROKE],ys=[Ro.BEGIN_PATH],Sd=[Ro.CLOSE_PATH],At=Ro;class Cb{drawCustom(t,e,n,s){}drawGeometry(t){}setStyle(t){}drawCircle(t,e){}drawFeature(t,e){}drawGeometryCollection(t,e){}drawLineString(t,e){}drawMultiLineString(t,e){}drawMultiPoint(t,e){}drawMultiPolygon(t,e){}drawPoint(t,e){}drawPolygon(t,e){}drawText(t,e){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}}const A_=Cb;class Tb extends A_{constructor(t,e,n,s){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return e==1?t:t.map(function(n){return n*e})}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,r=this.coordinates;let o=r.length;for(let l=0,c=t.length;l<c;l+=e)s[0]=t[l],s[1]=t[l+1],gl(n,s)&&(r[o++]=s[0],r[o++]=s[1]);return o}appendFlatLineCoordinates(t,e,n,s,r,o){const l=this.coordinates;let c=l.length;const h=this.getBufferedMaxExtent();o&&(e+=s);let d=t[e],_=t[e+1];const m=this.tmpCoordinate_;let x=!0,b,C,S;for(b=e+s;b<n;b+=s)m[0]=t[b],m[1]=t[b+1],S=Kc(h,m),S!==C?(x&&(l[c++]=d,l[c++]=_,x=!1),l[c++]=m[0],l[c++]=m[1]):S===Se.INTERSECTING?(l[c++]=m[0],l[c++]=m[1],x=!1):x=!0,d=m[0],_=m[1],C=S;return(r&&x||b===e+s)&&(l[c++]=d,l[c++]=_),c}drawCustomCoordinates_(t,e,n,s,r){for(let o=0,l=n.length;o<l;++o){const c=n[o],h=this.appendFlatLineCoordinates(t,e,c,s,!1,!1);r.push(h),e=c}return e}drawCustom(t,e,n,s){this.beginGeometry(t,e);const r=t.getType(),o=t.getStride(),l=this.coordinates.length;let c,h,d,_,m;switch(r){case"MultiPolygon":c=t.getOrientedFlatCoordinates(),_=[];const x=t.getEndss();m=0;for(let b=0,C=x.length;b<C;++b){const S=[];m=this.drawCustomCoordinates_(c,m,x[b],o,S),_.push(S)}this.instructions.push([At.CUSTOM,l,_,t,n,od]),this.hitDetectionInstructions.push([At.CUSTOM,l,_,t,s||n,od]);break;case"Polygon":case"MultiLineString":d=[],c=r=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),m=this.drawCustomCoordinates_(c,0,t.getEnds(),o,d),this.instructions.push([At.CUSTOM,l,d,t,n,Ya]),this.hitDetectionInstructions.push([At.CUSTOM,l,d,t,s||n,Ya]);break;case"LineString":case"Circle":c=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(c,0,c.length,o,!1,!1),this.instructions.push([At.CUSTOM,l,h,t,n,Qs]),this.hitDetectionInstructions.push([At.CUSTOM,l,h,t,s||n,Qs]);break;case"MultiPoint":c=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(c,o),h>l&&(this.instructions.push([At.CUSTOM,l,h,t,n,Qs]),this.hitDetectionInstructions.push([At.CUSTOM,l,h,t,s||n,Qs]));break;case"Point":c=t.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),h=this.coordinates.length,this.instructions.push([At.CUSTOM,l,h,t,n]),this.hitDetectionInstructions.push([At.CUSTOM,l,h,t,s||n]);break}this.endGeometry(e)}beginGeometry(t,e){this.beginGeometryInstruction1_=[At.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[At.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let e;const n=t.length;let s,r,o=-1;for(e=0;e<n;++e)s=t[e],r=s[0],r==At.END_GEOMETRY?o=e:r==At.BEGIN_GEOMETRY&&(s[2]=e,r0(this.hitDetectionInstructions,o,e),o=-1)}setFillStrokeStyle(t,e){const n=this.state;if(t){const s=t.getColor();n.fillStyle=zi(s||cn)}else n.fillStyle=void 0;if(e){const s=e.getColor();n.strokeStyle=zi(s||go);const r=e.getLineCap();n.lineCap=r!==void 0?r:ja;const o=e.getLineDash();n.lineDash=o?o.slice():uo;const l=e.getLineDashOffset();n.lineDashOffset=l||ho;const c=e.getLineJoin();n.lineJoin=c!==void 0?c:dr;const h=e.getWidth();n.lineWidth=h!==void 0?h:_o;const d=e.getMiterLimit();n.miterLimit=d!==void 0?d:fo,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(t){const e=t.fillStyle,n=[At.SET_FILL_STYLE,e];return typeof e!="string"&&n.push(!0),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[At.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;(typeof n!="string"||t.currentFillStyle!=n)&&(n!==void 0&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,s=t.lineCap,r=t.lineDash,o=t.lineDashOffset,l=t.lineJoin,c=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=s||r!=t.currentLineDash&&!zn(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=l||t.currentLineWidth!=c||t.currentMiterLimit!=h)&&(n!==void 0&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=s,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=l,t.currentLineWidth=c,t.currentMiterLimit=h)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[At.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Cp(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;ku(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}const Lo=Tb;class bb extends Lo{constructor(t,e,n,s){super(t,e,n,s),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const n=t.getFlatCoordinates(),s=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,s);this.instructions.push([At.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([At.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const n=t.getFlatCoordinates(),s=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,s);this.instructions.push([At.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([At.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),s=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=s[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=s[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}const wb=bb;class Sb extends Lo{constructor(t,e,n,s){super(t,e,n,s)}drawFlatCoordinates_(t,e,n,s){const r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,s,!1,!1),l=[At.MOVE_TO_LINE_TO,r,o];return this.instructions.push(l),this.hitDetectionInstructions.push(l),n}drawLineString(t,e){const n=this.state,s=n.strokeStyle,r=n.lineWidth;if(s===void 0||r===void 0)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,uo,ho],ys);const o=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(Dn),this.endGeometry(e)}drawMultiLineString(t,e){const n=this.state,s=n.strokeStyle,r=n.lineWidth;if(s===void 0||r===void 0)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],ys);const o=t.getEnds(),l=t.getFlatCoordinates(),c=t.getStride();let h=0;for(let d=0,_=o.length;d<_;++d)h=this.drawFlatCoordinates_(l,h,o[d],c);this.hitDetectionInstructions.push(Dn),this.endGeometry(e)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Dn),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Dn),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(ys)}}const Ab=Sb;class Ib extends Lo{constructor(t,e,n,s){super(t,e,n,s)}drawFlatCoordinatess_(t,e,n,s){const r=this.state,o=r.fillStyle!==void 0,l=r.strokeStyle!==void 0,c=n.length;this.instructions.push(ys),this.hitDetectionInstructions.push(ys);for(let h=0;h<c;++h){const d=n[h],_=this.coordinates.length,m=this.appendFlatLineCoordinates(t,e,d,s,!0,!l),x=[At.MOVE_TO_LINE_TO,_,m];this.instructions.push(x),this.hitDetectionInstructions.push(x),l&&(this.instructions.push(Sd),this.hitDetectionInstructions.push(Sd)),e=d}return o&&(this.instructions.push(ua),this.hitDetectionInstructions.push(ua)),l&&(this.instructions.push(Dn),this.hitDetectionInstructions.push(Dn)),e}drawCircle(t,e){const n=this.state,s=n.fillStyle,r=n.strokeStyle;if(s===void 0&&r===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,cn]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const o=t.getFlatCoordinates(),l=t.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const h=[At.CIRCLE,c];this.instructions.push(ys,h),this.hitDetectionInstructions.push(ys,h),n.fillStyle!==void 0&&(this.instructions.push(ua),this.hitDetectionInstructions.push(ua)),n.strokeStyle!==void 0&&(this.instructions.push(Dn),this.hitDetectionInstructions.push(Dn)),this.endGeometry(e)}drawPolygon(t,e){const n=this.state,s=n.fillStyle,r=n.strokeStyle;if(s===void 0&&r===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,cn]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const o=t.getEnds(),l=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(l,0,o,c),this.endGeometry(e)}drawMultiPolygon(t,e){const n=this.state,s=n.fillStyle,r=n.strokeStyle;if(s===void 0&&r===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_FILL_STYLE,cn]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([At.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const o=t.getEndss(),l=t.getOrientedFlatCoordinates(),c=t.getStride();let h=0;for(let d=0,_=o.length;d<_;++d)h=this.drawFlatCoordinatess_(l,h,o[d],c);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const e=this.coordinates;for(let n=0,s=e.length;n<s;++n)e[n]=cs(e[n],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}const Ad=Ib;function Rb(i,t,e,n,s){let r=e,o=e,l=0,c=0,h=e,d,_,m,x,b,C,S,w,M,P;for(_=e;_<n;_+=s){const N=t[_],j=t[_+1];b!==void 0&&(M=N-b,P=j-C,x=Math.sqrt(M*M+P*P),S!==void 0&&(c+=m,d=Math.acos((S*M+w*P)/(m*x)),d>i&&(c>l&&(l=c,r=h,o=_),c=0,h=_-s)),m=x,S=M,w=P),b=N,C=j}return c+=x,c>l?[h,_]:[r,o]}const Zr={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Lb extends Lo{constructor(t,e,n,s){super(t,e,n,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e){const n=this.textFillState_,s=this.textStrokeState_,r=this.textState_;if(this.text_===""||!r||!n&&!s)return;const o=this.coordinates;let l=o.length;const c=t.getType();let h=null,d=t.getStride();if(r.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!Je(this.getBufferedMaxExtent(),t.getExtent()))return;let _;if(h=t.getFlatCoordinates(),c=="LineString")_=[h.length];else if(c=="MultiLineString")_=t.getEnds();else if(c=="Polygon")_=t.getEnds().slice(0,1);else if(c=="MultiPolygon"){const C=t.getEndss();_=[];for(let S=0,w=C.length;S<w;++S)_.push(C[S][0])}this.beginGeometry(t,e);const m=r.textAlign;let x=0,b;for(let C=0,S=_.length;C<S;++C){if(m==null){const M=Rb(r.maxAngle,h,x,_[C],d);x=M[0],b=M[1]}else b=_[C];for(let M=x;M<b;M+=d)o.push(h[M],h[M+1]);const w=o.length;x=_[C],this.drawChars_(l,w),l=w}this.endGeometry(e)}else{let _=r.overflow?null:[];switch(c){case"Point":case"MultiPoint":h=t.getFlatCoordinates();break;case"LineString":h=t.getFlatMidpoint();break;case"Circle":h=t.getCenter();break;case"MultiLineString":h=t.getFlatMidpoints(),d=2;break;case"Polygon":h=t.getFlatInteriorPoint(),r.overflow||_.push(h[2]/this.resolution),d=3;break;case"MultiPolygon":const S=t.getFlatInteriorPoints();h=[];for(let w=0,M=S.length;w<M;w+=3)r.overflow||_.push(S[w+2]/this.resolution),h.push(S[w],S[w+1]);if(h.length===0)return;d=2;break}const m=this.appendFlatPointCoordinates(h,d);if(m===l)return;if(_&&(m-l)/2!==h.length/d){let S=l/2;_=_.filter((w,M)=>{const P=o[(S+M)*2]===h[M*d]&&o[(S+M)*2+1]===h[M*d+1];return P||--S,P})}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);let x=r.padding;if(x!=ps&&(r.scale[0]<0||r.scale[1]<0)){let S=r.padding[0],w=r.padding[1],M=r.padding[2],P=r.padding[3];r.scale[0]<0&&(w=-w,P=-P),r.scale[1]<0&&(S=-S,M=-M),x=[S,w,M,P]}const b=this.pixelRatio;this.instructions.push([At.DRAW_IMAGE,l,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,x==ps?ps:x.map(function(S){return S*b}),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]);const C=1/b;this.hitDetectionInstructions.push([At.DRAW_IMAGE,l,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[C,C],NaN,void 0,this.declutterImageWithText_,x,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]),this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,s=this.strokeKey_;t&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||po,justify:e.justify,textBaseline:e.textBaseline||Ba,scale:e.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,s=this.textState_,r=this.strokeKey_,o=this.textKey_,l=this.fillKey_;this.saveTextStates_();const c=this.pixelRatio,h=Zr[s.textBaseline],d=this.textOffsetY_*c,_=this.text_,m=n?n.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([At.DRAW_CHARS,t,e,h,s.overflow,l,s.maxAngle,c,d,r,m*c,_,o,1]),this.hitDetectionInstructions.push([At.DRAW_CHARS,t,e,h,s.overflow,l,s.maxAngle,1,d,r,m,_,o,1/c])}setTextStyle(t,e){let n,s,r;if(!t)this.text_="";else{const o=t.getFill();o?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=zi(o.getColor()||cn)):(s=null,this.textFillState_=s);const l=t.getStroke();if(!l)r=null,this.textStrokeState_=r;else{r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const b=l.getLineDash(),C=l.getLineDashOffset(),S=l.getWidth(),w=l.getMiterLimit();r.lineCap=l.getLineCap()||ja,r.lineDash=b?b.slice():uo,r.lineDashOffset=C===void 0?ho:C,r.lineJoin=l.getLineJoin()||dr,r.lineWidth=S===void 0?_o:S,r.miterLimit=w===void 0?fo:w,r.strokeStyle=zi(l.getColor()||go)}n=this.textState_;const c=t.getFont()||Np;tx(c);const h=t.getScaleArray();n.overflow=t.getOverflow(),n.font=c,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||Ba,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||ps,n.scale=h===void 0?[1,1]:h;const d=t.getOffsetX(),_=t.getOffsetY(),m=t.getRotateWithView(),x=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=d===void 0?0:d,this.textOffsetY_=_===void 0?0:_,this.textRotateWithView_=m===void 0?!1:m,this.textRotation_=x===void 0?0:x,this.strokeKey_=r?(typeof r.strokeStyle=="string"?r.strokeStyle:qt(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=s?typeof s.fillStyle=="string"?s.fillStyle:"|"+qt(s.fillStyle):""}this.declutterImageWithText_=e}}const Ob={Circle:Ad,Default:Lo,Image:wb,LineString:Ab,Polygon:Ad,Text:Lb};class Db{constructor(t,e,n,s){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=s,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const s in n){const r=n[s].finish();t[e][s]=r}}return t}getBuilder(t,e){const n=t!==void 0?t.toString():"0";let s=this.buildersByZIndex_[n];s===void 0&&(s={},this.buildersByZIndex_[n]=s);let r=s[e];if(r===void 0){const o=Ob[e];r=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[e]=r}return r}}const Id=Db;function Mb(i,t,e,n,s,r,o,l,c,h,d,_){let m=i[t],x=i[t+1],b=0,C=0,S=0,w=0;function M(){b=m,C=x,t+=n,m=i[t],x=i[t+1],w+=S,S=Math.sqrt((m-b)*(m-b)+(x-C)*(x-C))}do M();while(t<e-n&&w+S<r);let P=S===0?0:(r-w)/S;const N=ls(b,m,P),j=ls(C,x,P),g=t-n,it=w,G=r+l*c(h,s,d);for(;t<e-n&&w+S<G;)M();P=S===0?0:(G-w)/S;const et=ls(b,m,P),rt=ls(C,x,P);let mt;if(_){const lt=[N,j,et,rt];Vp(lt,0,4,2,_,lt,lt),mt=lt[0]>lt[2]}else mt=N>et;const gt=Math.PI,_t=[],Vt=g+n===t;t=g,S=0,w=it,m=i[t],x=i[t+1];let pt;if(Vt){M(),pt=Math.atan2(x-C,m-b),mt&&(pt+=pt>0?-gt:gt);const lt=(et+N)/2,q=(rt+j)/2;return _t[0]=[lt,q,(G-r)/2,pt,s],_t}s=s.replace(/\n/g," ");for(let lt=0,q=s.length;lt<q;){M();let ht=Math.atan2(x-C,m-b);if(mt&&(ht+=ht>0?-gt:gt),pt!==void 0){let Dt=ht-pt;if(Dt+=Dt>gt?-2*gt:Dt<-gt?2*gt:0,Math.abs(Dt)>o)return null}pt=ht;const It=lt;let Nt=0;for(;lt<q;++lt){const Dt=mt?q-lt-1:lt,kt=l*c(h,s[Dt],d);if(t+n<e&&w+S<r+Nt+kt/2)break;Nt+=kt}if(lt===It)continue;const Ft=mt?s.substring(q-It,q-lt):s.substring(It,lt);P=S===0?0:(r+Nt/2-w)/S;const K=ls(b,m,P),ie=ls(C,x,P);_t.push([K,ie,Nt/2,ht,Ft]),r+=Nt}return _t}const Bs=yi(),Sn=[],tn=[],en=[],An=[];function Rd(i){return i[3].declutterBox}const Pb=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Ld(i,t){return(t==="start"||t==="end")&&!Pb.test(i)&&(t=t==="start"?"left":"right"),Zr[t]}function Nb(i,t,e){return e>0&&i.push(`
`,""),i.push(t,""),i}class Fb{constructor(t,e,n,s){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=Yi(),this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={}}createLabel(t,e,n,s){const r=t+e+n+s;if(this.labels_[r])return this.labels_[r];const o=s?this.strokeStates[s]:null,l=n?this.fillStates[n]:null,c=this.textStates[e],h=this.pixelRatio,d=[c.scale[0]*h,c.scale[1]*h],_=Array.isArray(t),m=c.justify?Zr[c.justify]:Ld(Array.isArray(t)?t[0]:t,c.textAlign||po),x=s&&o.lineWidth?o.lineWidth:0,b=_?t:t.split(`
`).reduce(Nb,[]),{width:C,height:S,widths:w,heights:M,lineWidths:P}=ix(c,b),N=C+x,j=[],g=(N+2)*d[0],it=(S+x)*d[1],G={width:g<0?Math.floor(g):Math.ceil(g),height:it<0?Math.floor(it):Math.ceil(it),contextInstructions:j};(d[0]!=1||d[1]!=1)&&j.push("scale",d),s&&(j.push("strokeStyle",o.strokeStyle),j.push("lineWidth",x),j.push("lineCap",o.lineCap),j.push("lineJoin",o.lineJoin),j.push("miterLimit",o.miterLimit),j.push("setLineDash",[o.lineDash]),j.push("lineDashOffset",o.lineDashOffset)),n&&j.push("fillStyle",l.fillStyle),j.push("textBaseline","middle"),j.push("textAlign","center");const et=.5-m;let rt=m*N+et*x;const mt=[],gt=[];let _t=0,Vt=0,pt=0,lt=0,q;for(let ht=0,It=b.length;ht<It;ht+=2){const Nt=b[ht];if(Nt===`
`){Vt+=_t,_t=0,rt=m*N+et*x,++lt;continue}const Ft=b[ht+1]||c.font;Ft!==q&&(s&&mt.push("font",Ft),n&&gt.push("font",Ft),q=Ft),_t=Math.max(_t,M[pt]);const K=[Nt,rt+et*w[pt]+m*(w[pt]-P[lt]),.5*(x+_t)+Vt];rt+=w[pt],s&&mt.push("strokeText",K),n&&gt.push("fillText",K),++pt}return Array.prototype.push.apply(j,mt),Array.prototype.push.apply(j,gt),this.labels_[r]=G,G}replayTextBackground_(t,e,n,s,r,o,l){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),l&&(this.setStrokeStyle_(t,l),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,s,r,o,l,c,h,d,_,m,x,b,C,S){l*=m[0],c*=m[1];let w=n-l,M=s-c;const P=r+h>t?t-h:r,N=o+d>e?e-d:o,j=b[3]+P*m[0]+b[1],g=b[0]+N*m[1]+b[2],it=w-b[3],G=M-b[0];(C||_!==0)&&(Sn[0]=it,An[0]=it,Sn[1]=G,tn[1]=G,tn[0]=it+j,en[0]=tn[0],en[1]=G+g,An[1]=en[1]);let et;return _!==0?(et=Wn(Yi(),n,s,1,1,_,-n,-s),Ae(et,Sn),Ae(et,tn),Ae(et,en),Ae(et,An),gn(Math.min(Sn[0],tn[0],en[0],An[0]),Math.min(Sn[1],tn[1],en[1],An[1]),Math.max(Sn[0],tn[0],en[0],An[0]),Math.max(Sn[1],tn[1],en[1],An[1]),Bs)):gn(Math.min(it,it+j),Math.min(G,G+g),Math.max(it,it+j),Math.max(G,G+g),Bs),x&&(w=Math.round(w),M=Math.round(M)),{drawImageX:w,drawImageY:M,drawImageW:P,drawImageH:N,originX:h,originY:d,declutterBox:{minX:Bs[0],minY:Bs[1],maxX:Bs[2],maxY:Bs[3],value:S},canvasTransform:et,scale:m}}replayImageOrLabel_(t,e,n,s,r,o,l){const c=!!(o||l),h=s.declutterBox,d=t.canvas,_=l?l[2]*s.scale[0]/2:0;return h.minX-_<=d.width/e&&h.maxX+_>=0&&h.minY-_<=d.height/e&&h.maxY+_>=0&&(c&&this.replayTextBackground_(t,Sn,tn,en,An,o,l),nx(t,s.canvasTransform,r,n,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(t){if(this.alignFill_){const e=Ae(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,n,s){const r=this.textStates[e],o=this.createLabel(t,e,s,n),l=this.strokeStates[n],c=this.pixelRatio,h=Ld(Array.isArray(t)?t[0]:t,r.textAlign||po),d=Zr[r.textBaseline||Ba],_=l&&l.lineWidth?l.lineWidth:0,m=o.width/c-2*r.scale[0],x=h*m+2*(.5-h)*_,b=d*o.height/c+2*(.5-d)*_;return{label:o,anchorX:x,anchorY:b}}execute_(t,e,n,s,r,o,l,c){let h;this.pixelCoordinates_&&zn(n,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=bs(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),x0(this.renderedTransform_,n));let d=0;const _=s.length;let m=0,x,b,C,S,w,M,P,N,j,g,it,G,et=0,rt=0,mt=null,gt=null;const _t=this.coordinateCache_,Vt=this.viewRotation_,pt=Math.round(Math.atan2(-n[1],n[0])*1e12)/1e12,lt={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Vt},q=this.instructions!=s||this.overlaps?0:200;let ht,It,Nt,Ft;for(;d<_;){const K=s[d];switch(K[0]){case At.BEGIN_GEOMETRY:ht=K[1],Ft=K[3],ht.getGeometry()?l!==void 0&&!Je(l,Ft.getExtent())?d=K[2]+1:++d:d=K[2];break;case At.BEGIN_PATH:et>q&&(this.fill_(t),et=0),rt>q&&(t.stroke(),rt=0),!et&&!rt&&(t.beginPath(),S=NaN,w=NaN),++d;break;case At.CIRCLE:m=K[1];const Dt=h[m],kt=h[m+1],oe=h[m+2],he=h[m+3],Yt=oe-Dt,Jt=he-kt,ze=Math.sqrt(Yt*Yt+Jt*Jt);t.moveTo(Dt+ze,kt),t.arc(Dt,kt,ze,0,2*Math.PI,!0),++d;break;case At.CLOSE_PATH:t.closePath(),++d;break;case At.CUSTOM:m=K[1],x=K[2];const Ge=K[3],R=K[4],O=K.length==6?K[5]:void 0;lt.geometry=Ge,lt.feature=ht,d in _t||(_t[d]=[]);const H=_t[d];O?O(h,m,x,2,H):(H[0]=h[m],H[1]=h[m+1],H.length=2),R(H,lt),++d;break;case At.DRAW_IMAGE:m=K[1],x=K[2],N=K[3],b=K[4],C=K[5];let X=K[6];const $=K[7],Z=K[8],ct=K[9],st=K[10];let nt=K[11];const U=K[12];let ft=K[13];const ot=K[14],ut=K[15];if(!N&&K.length>=20){j=K[19],g=K[20],it=K[21],G=K[22];const $e=this.drawLabelWithPointPlacement_(j,g,it,G);N=$e.label,K[3]=N;const Fi=K[23];b=($e.anchorX-Fi)*this.pixelRatio,K[4]=b;const Ie=K[24];C=($e.anchorY-Ie)*this.pixelRatio,K[5]=C,X=N.height,K[6]=X,ft=N.width,K[13]=ft}let yt;K.length>25&&(yt=K[25]);let Ct,jt,Lt;K.length>17?(Ct=K[16],jt=K[17],Lt=K[18]):(Ct=ps,jt=!1,Lt=!1),st&&pt?nt+=Vt:!st&&!pt&&(nt-=Vt);let Qt=0;for(;m<x;m+=2){if(yt&&yt[Qt++]<ft/this.pixelRatio)continue;const $e=this.calculateImageOrLabelDimensions_(N.width,N.height,h[m],h[m+1],ft,X,b,C,Z,ct,nt,U,r,Ct,jt||Lt,ht),Fi=[t,e,N,$e,$,jt?mt:null,Lt?gt:null];if(c){if(ot==="none")continue;if(ot==="obstacle"){c.insert($e.declutterBox);continue}else{let Ie,Ci;if(ut){const We=x-m;if(!ut[We]){ut[We]=Fi;continue}if(Ie=ut[We],delete ut[We],Ci=Rd(Ie),c.collides(Ci))continue}if(c.collides($e.declutterBox))continue;Ie&&(c.insert(Ci),this.replayImageOrLabel_.apply(this,Ie)),c.insert($e.declutterBox)}}this.replayImageOrLabel_.apply(this,Fi)}++d;break;case At.DRAW_CHARS:const ve=K[1],fe=K[2],ti=K[3],ei=K[4];G=K[5];const Kn=K[6],xe=K[7],ae=K[8];it=K[9];const me=K[10];j=K[11],g=K[12];const Ms=[K[13],K[13]],Rr=this.textStates[g],En=Rr.font,vn=[Rr.scale[0]*xe,Rr.scale[1]*xe];let ui;En in this.widths_?ui=this.widths_[En]:(ui={},this.widths_[En]=ui);const Zi=mb(h,ve,fe,2),ko=Math.abs(vn[0])*Xf(En,j,ui);if(ei||ko<=Zi){const $e=this.textStates[g].textAlign,Fi=(Zi-ko)*Zr[$e],Ie=Mb(h,ve,fe,2,j,Fi,Kn,Math.abs(vn[0]),Xf,En,ui,pt?0:this.viewRotation_);t:if(Ie){const Ci=[];let We,Ps,Un,Oe,Ye;if(it)for(We=0,Ps=Ie.length;We<Ps;++We){Ye=Ie[We],Un=Ye[4],Oe=this.createLabel(Un,g,"",it),b=Ye[2]+(vn[0]<0?-me:me),C=ti*Oe.height+(.5-ti)*2*me*vn[1]/vn[0]-ae;const hi=this.calculateImageOrLabelDimensions_(Oe.width,Oe.height,Ye[0],Ye[1],Oe.width,Oe.height,b,C,0,0,Ye[3],Ms,!1,ps,!1,ht);if(c&&c.collides(hi.declutterBox))break t;Ci.push([t,e,Oe,hi,1,null,null])}if(G)for(We=0,Ps=Ie.length;We<Ps;++We){Ye=Ie[We],Un=Ye[4],Oe=this.createLabel(Un,g,G,""),b=Ye[2],C=ti*Oe.height-ae;const hi=this.calculateImageOrLabelDimensions_(Oe.width,Oe.height,Ye[0],Ye[1],Oe.width,Oe.height,b,C,0,0,Ye[3],Ms,!1,ps,!1,ht);if(c&&c.collides(hi.declutterBox))break t;Ci.push([t,e,Oe,hi,1,null,null])}c&&c.load(Ci.map(Rd));for(let hi=0,Pl=Ci.length;hi<Pl;++hi)this.replayImageOrLabel_.apply(this,Ci[hi])}}++d;break;case At.END_GEOMETRY:if(o!==void 0){ht=K[1];const $e=o(ht,Ft);if($e)return $e}++d;break;case At.FILL:q?et++:this.fill_(t),++d;break;case At.MOVE_TO_LINE_TO:for(m=K[1],x=K[2],It=h[m],Nt=h[m+1],M=It+.5|0,P=Nt+.5|0,(M!==S||P!==w)&&(t.moveTo(It,Nt),S=M,w=P),m+=2;m<x;m+=2)It=h[m],Nt=h[m+1],M=It+.5|0,P=Nt+.5|0,(m==x-2||M!==S||P!==w)&&(t.lineTo(It,Nt),S=M,w=P);++d;break;case At.SET_FILL_STYLE:mt=K,this.alignFill_=K[2],et&&(this.fill_(t),et=0,rt&&(t.stroke(),rt=0)),t.fillStyle=K[1],++d;break;case At.SET_STROKE_STYLE:gt=K,rt&&(t.stroke(),rt=0),this.setStrokeStyle_(t,K),++d;break;case At.STROKE:q?rt++:t.stroke(),++d;break;default:++d;break}}et&&this.fill_(t),rt&&t.stroke()}execute(t,e,n,s,r,o){this.viewRotation_=s,this.execute_(t,e,n,this.instructions,r,void 0,void 0,o)}executeHitDetection(t,e,n,s,r){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,s,r)}}const kb=Fb,vc=["Polygon","Circle","LineString","Image","Text","Default"];class $b{constructor(t,e,n,s,r,o){this.maxExtent_=t,this.overlaps_=s,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Yi(),this.createExecutors_(r)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t){for(const e in t){let n=this.executorsByZIndex_[e];n===void 0&&(n={},this.executorsByZIndex_[e]=n);const s=t[e];for(const r in s){const o=s[r];n[r]=new kb(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let s=0,r=t.length;s<r;++s)if(t[s]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,s,r,o){s=Math.round(s);const l=s*2+1,c=Wn(this.hitDetectionTransform_,s+.5,s+.5,1/e,-1/e,-n,-t[0],-t[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=Ve(l,l,void 0,{willReadFrequently:!0}));const d=this.hitDetectionContext_;d.canvas.width!==l||d.canvas.height!==l?(d.canvas.width=l,d.canvas.height=l):h||d.clearRect(0,0,l,l);let _;this.renderBuffer_!==void 0&&(_=yi(),Ur(_,t),ku(_,e*(this.renderBuffer_+s),_));const m=Wb(s);let x;function b(j,g){const it=d.getImageData(0,0,l,l).data;for(let G=0,et=m.length;G<et;G++)if(it[m[G]]>0){if(!o||x!=="Image"&&x!=="Text"||o.includes(j)){const rt=(m[G]-3)/4,mt=s-rt%l,gt=s-(rt/l|0),_t=r(j,g,mt*mt+gt*gt);if(_t)return _t}d.clearRect(0,0,l,l);break}}const C=Object.keys(this.executorsByZIndex_).map(Number);C.sort(hr);let S,w,M,P,N;for(S=C.length-1;S>=0;--S){const j=C[S].toString();for(M=this.executorsByZIndex_[j],w=vc.length-1;w>=0;--w)if(x=vc[w],P=M[x],P!==void 0&&(N=P.executeHitDetection(d,c,n,b,_),N))return N}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],s=e[1],r=e[2],o=e[3],l=[n,s,n,o,r,o,r,s];return bs(l,0,8,2,t,l),l}isEmpty(){return lo(this.executorsByZIndex_)}execute(t,e,n,s,r,o,l){const c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(hr),this.maxExtent_&&(t.save(),this.clip(t,n)),o=o||vc;let h,d,_,m,x,b;for(l&&c.reverse(),h=0,d=c.length;h<d;++h){const C=c[h].toString();for(x=this.executorsByZIndex_[C],_=0,m=o.length;_<m;++_){const S=o[_];b=x[S],b!==void 0&&b.execute(t,e,n,s,r,l)}}this.maxExtent_&&t.restore()}}const xc={};function Wb(i){if(xc[i]!==void 0)return xc[i];const t=i*2+1,e=i*i,n=new Array(e+1);for(let r=0;r<=i;++r)for(let o=0;o<=i;++o){const l=r*r+o*o;if(l>e)break;let c=n[l];c||(c=[],n[l]=c),c.push(((i+r)*t+(i+o))*4+3),r>0&&c.push(((i-r)*t+(i+o))*4+3),o>0&&(c.push(((i+r)*t+(i-o))*4+3),r>0&&c.push(((i-r)*t+(i-o))*4+3))}const s=[];for(let r=0,o=n.length;r<o;++r)n[r]&&s.push(...n[r]);return xc[i]=s,s}const Od=$b;class jb extends A_{constructor(t,e,n,s,r,o,l){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=s,this.transformRotation_=s?Wu(Math.atan2(s[1],s[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=o,this.userTransform_=l,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Yi()}drawImages_(t,e,n,s){if(!this.image_)return;const r=bs(t,e,n,s,this.transform_,this.pixelCoordinates_),o=this.context_,l=this.tmpLocalTransform_,c=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=c*this.imageOpacity_);let h=this.imageRotation_;this.transformRotation_===0&&(h-=this.viewRotation_),this.imageRotateWithView_&&(h+=this.viewRotation_);for(let d=0,_=r.length;d<_;d+=2){const m=r[d]-this.imageAnchorX_,x=r[d+1]-this.imageAnchorY_;if(h!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const b=m+this.imageAnchorX_,C=x+this.imageAnchorY_;Wn(l,b,C,1,1,h,-b,-C),o.setTransform.apply(o,l),o.translate(b,C),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,m,x,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=c)}drawText_(t,e,n,s){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=bs(t,e,n,s,this.transform_,this.pixelCoordinates_),o=this.context_;let l=this.textRotation_;for(this.transformRotation_===0&&(l-=this.viewRotation_),this.textRotateWithView_&&(l+=this.viewRotation_);e<n;e+=s){const c=r[e]+this.textOffsetX_,h=r[e+1]+this.textOffsetY_;l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.translate(c-this.textOffsetX_,h-this.textOffsetY_),o.rotate(l),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&o.strokeText(this.text_,c,h),this.textFillState_&&o.fillText(this.text_,c,h))}}moveToLineTo_(t,e,n,s,r){const o=this.context_,l=bs(t,e,n,s,this.transform_,this.pixelCoordinates_);o.moveTo(l[0],l[1]);let c=l.length;r&&(c-=2);for(let h=2;h<c;h+=2)o.lineTo(l[h],l[h+1]);return r&&o.closePath(),n}drawRings_(t,e,n,s){for(let r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],s,!0);return e}drawCircle(t){if(!!Je(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=Kx(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],s=e[3]-e[1],r=Math.sqrt(n*n+s*s),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,e){const n=e.getGeometryFunction()(t);!n||!Je(this.extent_,n.getExtent())||(this.setStyle(e),this.drawGeometry(n))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let n=0,s=e.length;n<s;++n)this.drawGeometry(e[n])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),this.text_!==""&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),this.text_!==""&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Je(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(this.text_!==""){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if(!!Je(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getFlatCoordinates();let r=0;const o=t.getEnds(),l=t.getStride();n.beginPath();for(let c=0,h=o.length;c<h;++c)r=this.moveToLineTo_(s,r,o[c],l,!1);n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoints();this.drawText_(n,0,n.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Je(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Je(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let s=0;const r=t.getEndss(),o=t.getStride();e.beginPath();for(let l=0,c=r.length;l<c;++l){const h=r[l];s=this.drawRings_(n,s,h,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),zn(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,s=t.textAlign?t.textAlign:po;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=s&&(n.textAlign=s,e.textAlign=s),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=s,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:s,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(!t)this.fillState_=null;else{const n=t.getColor();this.fillState_={fillStyle:zi(n||cn)}}if(!e)this.strokeState_=null;else{const n=e.getColor(),s=e.getLineCap(),r=e.getLineDash(),o=e.getLineDashOffset(),l=e.getLineJoin(),c=e.getWidth(),h=e.getMiterLimit(),d=r||uo;this.strokeState_={lineCap:s!==void 0?s:ja,lineDash:this.pixelRatio_===1?d:d.map(_=>_*this.pixelRatio_),lineDashOffset:(o||ho)*this.pixelRatio_,lineJoin:l!==void 0?l:dr,lineWidth:(c!==void 0?c:_o)*this.pixelRatio_,miterLimit:h!==void 0?h:fo,strokeStyle:zi(n||go)}}}setImageStyle(t){let e;if(!t||!(e=t.getSize())){this.image_=null;return}const n=t.getPixelRatio(this.pixelRatio_),s=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*n,this.imageAnchorY_=s[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const o=t.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}setTextStyle(t){if(!t)this.text_="";else{const e=t.getFill();if(!e)this.textFillState_=null;else{const x=e.getColor();this.textFillState_={fillStyle:zi(x||cn)}}const n=t.getStroke();if(!n)this.textStrokeState_=null;else{const x=n.getColor(),b=n.getLineCap(),C=n.getLineDash(),S=n.getLineDashOffset(),w=n.getLineJoin(),M=n.getWidth(),P=n.getMiterLimit();this.textStrokeState_={lineCap:b!==void 0?b:ja,lineDash:C||uo,lineDashOffset:S||ho,lineJoin:w!==void 0?w:dr,lineWidth:M!==void 0?M:_o,miterLimit:P!==void 0?P:fo,strokeStyle:zi(x||go)}}const s=t.getFont(),r=t.getOffsetX(),o=t.getOffsetY(),l=t.getRotateWithView(),c=t.getRotation(),h=t.getScaleArray(),d=t.getText(),_=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:s!==void 0?s:Np,textAlign:_!==void 0?_:po,textBaseline:m!==void 0?m:Ba},this.text_=d!==void 0?Array.isArray(d)?d.reduce((x,b,C)=>x+=C%2?" ":b,""):d:"",this.textOffsetX_=r!==void 0?this.pixelRatio_*r:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=l!==void 0?l:!1,this.textRotation_=c!==void 0?c:0,this.textScale_=[this.pixelRatio_*h[0],this.pixelRatio_*h[1]]}}}const Bb=jb,Hi=.5;function Hb(i,t,e,n,s,r,o){const l=i[0]*Hi,c=i[1]*Hi,h=Ve(l,c);h.imageSmoothingEnabled=!1;const d=h.canvas,_=new Bb(h,Hi,s,null,o),m=e.length,x=Math.floor((256*256*256-1)/m),b={};for(let S=1;S<=m;++S){const w=e[S-1],M=w.getStyleFunction()||n;if(!n)continue;let P=M(w,r);if(!P)continue;Array.isArray(P)||(P=[P]);const j=(S*x).toString(16).padStart(7,"#00000");for(let g=0,it=P.length;g<it;++g){const G=P[g],et=G.getGeometryFunction()(w);if(!et||!Je(s,et.getExtent()))continue;const rt=G.clone(),mt=rt.getFill();mt&&mt.setColor(j);const gt=rt.getStroke();gt&&(gt.setColor(j),gt.setLineDash(null)),rt.setText(void 0);const _t=G.getImage();if(_t&&_t.getOpacity()!==0){const q=_t.getImageSize();if(!q)continue;const ht=Ve(q[0],q[1],void 0,{alpha:!1}),It=ht.canvas;ht.fillStyle=j,ht.fillRect(0,0,It.width,It.height),rt.setImage(new ch({img:It,imgSize:q,anchor:_t.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:_t.getOrigin(),opacity:1,size:_t.getSize(),scale:_t.getScale(),rotation:_t.getRotation(),rotateWithView:_t.getRotateWithView()}))}const Vt=rt.getZIndex()||0;let pt=b[Vt];pt||(pt={},b[Vt]=pt,pt.Polygon=[],pt.Circle=[],pt.LineString=[],pt.Point=[]);const lt=et.getType();if(lt==="GeometryCollection"){const q=et.getGeometriesArrayRecursive();for(let ht=0,It=q.length;ht<It;++ht){const Nt=q[ht];pt[Nt.getType().replace("Multi","")].push(Nt,rt)}}else pt[lt.replace("Multi","")].push(et,rt)}}const C=Object.keys(b).map(Number).sort(hr);for(let S=0,w=C.length;S<w;++S){const M=b[C[S]];for(const P in M){const N=M[P];for(let j=0,g=N.length;j<g;j+=2){_.setStyle(N[j+1]);for(let it=0,G=t.length;it<G;++it)_.setTransform(t[it]),_.drawGeometry(N[j])}}}return h.getImageData(0,0,d.width,d.height)}function Vb(i,t,e){const n=[];if(e){const s=Math.floor(Math.round(i[0])*Hi),r=Math.floor(Math.round(i[1])*Hi),o=(Ee(s,0,e.width-1)+Ee(r,0,e.height-1)*e.width)*4,l=e.data[o],c=e.data[o+1],d=e.data[o+2]+256*(c+256*l),_=Math.floor((256*256*256-1)/t.length);d&&d%_===0&&n.push(t[d/_-1])}return n}const zb=.5,I_={Point:Qb,LineString:qb,Polygon:ew,MultiPoint:tw,MultiLineString:Zb,MultiPolygon:Jb,GeometryCollection:Ub,Circle:Xb};function Gb(i,t){return parseInt(qt(i),10)-parseInt(qt(t),10)}function Yb(i,t){const e=ou(i,t);return e*e}function ou(i,t){return zb*i/t}function Xb(i,t,e,n,s){const r=e.getFill(),o=e.getStroke();if(r||o){const c=i.getBuilder(e.getZIndex(),"Circle");c.setFillStrokeStyle(r,o),c.drawCircle(t,n)}const l=e.getText();if(l&&l.getText()){const c=(s||i).getBuilder(e.getZIndex(),"Text");c.setTextStyle(l),c.drawText(t,n)}}function Dd(i,t,e,n,s,r,o){let l=!1;const c=e.getImage();if(c){const h=c.getImageState();h==be.LOADED||h==be.ERROR?c.unlistenImageChange(s):(h==be.IDLE&&c.load(),c.listenImageChange(s),l=!0)}return Kb(i,t,e,n,r,o),l}function Kb(i,t,e,n,s,r){const o=e.getGeometryFunction()(t);if(!o)return;const l=o.simplifyTransformed(n,s);if(e.getRenderer())R_(i,l,e,t);else{const h=I_[l.getType()];h(i,l,e,t,r)}}function R_(i,t,e,n){if(t.getType()=="GeometryCollection"){const r=t.getGeometries();for(let o=0,l=r.length;o<l;++o)R_(i,r[o],e,n);return}i.getBuilder(e.getZIndex(),"Default").drawCustom(t,n,e.getRenderer(),e.getHitDetectionRenderer())}function Ub(i,t,e,n,s){const r=t.getGeometriesArray();let o,l;for(o=0,l=r.length;o<l;++o){const c=I_[r[o].getType()];c(i,r[o],e,n,s)}}function qb(i,t,e,n,s){const r=e.getStroke();if(r){const l=i.getBuilder(e.getZIndex(),"LineString");l.setFillStrokeStyle(null,r),l.drawLineString(t,n)}const o=e.getText();if(o&&o.getText()){const l=(s||i).getBuilder(e.getZIndex(),"Text");l.setTextStyle(o),l.drawText(t,n)}}function Zb(i,t,e,n,s){const r=e.getStroke();if(r){const l=i.getBuilder(e.getZIndex(),"LineString");l.setFillStrokeStyle(null,r),l.drawMultiLineString(t,n)}const o=e.getText();if(o&&o.getText()){const l=(s||i).getBuilder(e.getZIndex(),"Text");l.setTextStyle(o),l.drawText(t,n)}}function Jb(i,t,e,n,s){const r=e.getFill(),o=e.getStroke();if(o||r){const c=i.getBuilder(e.getZIndex(),"Polygon");c.setFillStrokeStyle(r,o),c.drawMultiPolygon(t,n)}const l=e.getText();if(l&&l.getText()){const c=(s||i).getBuilder(e.getZIndex(),"Text");c.setTextStyle(l),c.drawText(t,n)}}function Qb(i,t,e,n,s){const r=e.getImage(),o=e.getText();let l;if(r){if(r.getImageState()!=be.LOADED)return;let c=i;if(s){const d=r.getDeclutterMode();if(d!=="none")if(c=s,d==="obstacle"){const _=i.getBuilder(e.getZIndex(),"Image");_.setImageStyle(r,l),_.drawPoint(t,n)}else o&&o.getText()&&(l={})}const h=c.getBuilder(e.getZIndex(),"Image");h.setImageStyle(r,l),h.drawPoint(t,n)}if(o&&o.getText()){let c=i;s&&(c=s);const h=c.getBuilder(e.getZIndex(),"Text");h.setTextStyle(o,l),h.drawText(t,n)}}function tw(i,t,e,n,s){const r=e.getImage(),o=e.getText();let l;if(r){if(r.getImageState()!=be.LOADED)return;let c=i;if(s){const d=r.getDeclutterMode();if(d!=="none")if(c=s,d==="obstacle"){const _=i.getBuilder(e.getZIndex(),"Image");_.setImageStyle(r,l),_.drawMultiPoint(t,n)}else o&&o.getText()&&(l={})}const h=c.getBuilder(e.getZIndex(),"Image");h.setImageStyle(r,l),h.drawMultiPoint(t,n)}if(o&&o.getText()){let c=i;s&&(c=s);const h=c.getBuilder(e.getZIndex(),"Text");h.setTextStyle(o,l),h.drawText(t,n)}}function ew(i,t,e,n,s){const r=e.getFill(),o=e.getStroke();if(r||o){const c=i.getBuilder(e.getZIndex(),"Polygon");c.setFillStrokeStyle(r,o),c.drawPolygon(t,n)}const l=e.getText();if(l&&l.getText()){const c=(s||i).getBuilder(e.getZIndex(),"Text");c.setTextStyle(l),c.drawText(t,n)}}class iw extends C_{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=yi(),this.wrappedRenderedExtent_=yi(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(t,e,n){const s=e.extent,r=e.viewState,o=r.center,l=r.resolution,c=r.projection,h=r.rotation,d=c.getExtent(),_=this.getLayer().getSource(),m=e.pixelRatio,x=e.viewHints,b=!(x[Pe.ANIMATING]||x[Pe.INTERACTING]),C=this.compositionContext_,S=Math.round(e.size[0]*m),w=Math.round(e.size[1]*m),M=_.getWrapX()&&c.canWrapX(),P=M?ue(d):null,N=M?Math.ceil((s[2]-d[2])/P)+1:1;let j=M?Math.floor((s[0]-d[0])/P):0;do{const g=this.getRenderTransform(o,l,h,m,S,w,j*P);t.execute(C,1,g,h,b,void 0,n)}while(++j<N)}setupCompositionContext_(){if(this.opacity_!==1){const t=Ve(this.context.canvas.width,this.context.canvas.height,Cd);this.compositionContext_=t}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,xl(this.compositionContext_),Cd.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())}renderFrame(t,e){const n=t.pixelRatio,s=t.layerStatesArray[t.layerIndex];C0(this.pixelTransform,1/n,1/n),Fu(this.inversePixelTransform,this.pixelTransform);const r=xp(this.pixelTransform);this.useContainer(e,r,this.getBackground(t));const o=this.context,l=o.canvas,c=this.replayGroup_,h=this.declutterExecutorGroup;if((!c||c.isEmpty())&&(!h||h.isEmpty()))return null;const d=Math.round(t.size[0]*n),_=Math.round(t.size[1]*n);l.width!=d||l.height!=_?(l.width=d,l.height=_,l.style.transform!==r&&(l.style.transform=r)):this.containerReused||o.clearRect(0,0,d,_),this.preRender(o,t);const m=t.viewState;m.projection,this.opacity_=s.opacity,this.setupCompositionContext_();let x=!1,b=!0;if(s.extent&&this.clipping){const C=_s(s.extent);b=Je(C,t.extent),x=b&&!gs(C,t.extent),x&&this.clipUnrotated(this.compositionContext_,t,C)}return b&&this.renderWorlds(c,t),x&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,t),this.renderedRotation_!==m.rotation&&(this.renderedRotation_=m.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(t){return new Promise(e=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const n=[this.context.canvas.width,this.context.canvas.height];Ae(this.pixelTransform,n);const s=this.renderedCenter_,r=this.renderedResolution_,o=this.renderedRotation_,l=this.renderedProjection_,c=this.wrappedRenderedExtent_,h=this.getLayer(),d=[],_=n[0]*Hi,m=n[1]*Hi;d.push(this.getRenderTransform(s,r,o,Hi,_,m,0).slice());const x=h.getSource(),b=l.getExtent();if(x.getWrapX()&&l.canWrapX()&&!gs(b,c)){let C=c[0];const S=ue(b);let w=0,M;for(;C<b[0];)--w,M=S*w,d.push(this.getRenderTransform(s,r,o,Hi,_,m,M).slice()),C+=S;for(w=0,C=c[2];C>b[2];)++w,M=S*w,d.push(this.getRenderTransform(s,r,o,Hi,_,m,M).slice()),C-=S}this.hitDetectionImageData_=Hb(n,d,this.renderedFeatures_,h.getStyleFunction(),c,r,o)}e(Vb(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,e,n,s,r){if(!this.replayGroup_)return;const o=e.viewState.resolution,l=e.viewState.rotation,c=this.getLayer(),h={},d=function(x,b,C){const S=qt(x),w=h[S];if(w){if(w!==!0&&C<w.distanceSq){if(C===0)return h[S]=!0,r.splice(r.lastIndexOf(w),1),s(x,c,b);w.geometry=b,w.distanceSq=C}}else{if(C===0)return h[S]=!0,s(x,c,b);r.push(h[S]={feature:x,layer:c,geometry:b,distanceSq:C,callback:s})}};let _;const m=[this.replayGroup_];return this.declutterExecutorGroup&&m.push(this.declutterExecutorGroup),m.some(x=>_=x.forEachFeatureAtCoordinate(t,o,l,n,d,x===this.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map(b=>b.value):null)),_}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const s=t.viewHints[Pe.ANIMATING],r=t.viewHints[Pe.INTERACTING],o=e.getUpdateWhileAnimating(),l=e.getUpdateWhileInteracting();if(this.ready&&!o&&s||!l&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const c=t.extent,h=t.viewState,d=h.projection,_=h.resolution,m=t.pixelRatio,x=e.getRevision(),b=e.getRenderBuffer();let C=e.getRenderOrder();C===void 0&&(C=Gb);const S=h.center.slice(),w=ku(c,b*_),M=w.slice(),P=[w.slice()],N=d.getExtent();if(n.getWrapX()&&d.canWrapX()&&!gs(N,t.extent)){const pt=ue(N),lt=Math.max(ue(w)/2,pt);w[0]=N[0]-lt,w[2]=N[2]+lt,Op(S,d);const q=Ap(P[0],d);q[0]<N[0]&&q[2]<N[2]?P.push([q[0]+pt,q[1],q[2]+pt,q[3]]):q[0]>N[0]&&q[2]>N[2]&&P.push([q[0]-pt,q[1],q[2]-pt,q[3]])}if(this.ready&&this.renderedResolution_==_&&this.renderedRevision_==x&&this.renderedRenderOrder_==C&&gs(this.wrappedRenderedExtent_,w))return zn(this.renderedExtent_,M)||(this.hitDetectionImageData_=null,this.renderedExtent_=M),this.renderedCenter_=S,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const j=new Id(ou(_,m),w,_,m);let g;this.getLayer().getDeclutter()&&(g=new Id(ou(_,m),w,_,m));let it;for(let pt=0,lt=P.length;pt<lt;++pt)n.loadFeatures(P[pt],_,d);const G=Yb(_,m);let et=!0;const rt=pt=>{let lt;const q=pt.getStyleFunction()||e.getStyleFunction();if(q&&(lt=q(pt,_)),lt){const ht=this.renderFeature(pt,G,lt,j,it,g);et=et&&!ht}},mt=Bp(w),gt=n.getFeaturesInExtent(mt);C&&gt.sort(C);for(let pt=0,lt=gt.length;pt<lt;++pt)rt(gt[pt]);this.renderedFeatures_=gt,this.ready=et;const _t=j.finish(),Vt=new Od(w,_,m,n.getOverlaps(),_t,e.getRenderBuffer());return g&&(this.declutterExecutorGroup=new Od(w,_,m,n.getOverlaps(),g.finish(),e.getRenderBuffer())),this.renderedResolution_=_,this.renderedRevision_=x,this.renderedRenderOrder_=C,this.renderedExtent_=M,this.wrappedRenderedExtent_=w,this.renderedCenter_=S,this.renderedProjection_=d,this.replayGroup_=Vt,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,s,r,o){if(!n)return!1;let l=!1;if(Array.isArray(n))for(let c=0,h=n.length;c<h;++c)l=Dd(s,t,n[c],e,this.boundHandleStyleImageChange_,r,o)||l;else l=Dd(s,t,n,e,this.boundHandleStyleImageChange_,r,o);return l}}const nw=iw;class sw extends xb{constructor(t){super(t)}createRenderer(){return new nw(this)}}const rw=sw,Md=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],Pd={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"};class ow extends Tl{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target}),this.on,this.once,this.un,this.keys_=t.keys!==void 0?t.keys:!1,this.source_=t.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=t.className!==void 0?t.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=t.activeClassName!==void 0?t.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=t.inactiveClassName!==void 0?t.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const e=t.label!==void 0?t.label:"\u2922";this.labelNode_=typeof e=="string"?document.createTextNode(e):e;const n=t.labelActive!==void 0?t.labelActive:"\xD7";this.labelActiveNode_=typeof n=="string"?document.createTextNode(n):n;const s=t.tipLabel?t.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=s,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener($t.CLICK,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${wo} ${vl}`,this.element.appendChild(this.button_)}handleClick_(t){t.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const t=this.getMap();if(!t)return;const e=t.getOwnerDocument();if(!!Nd(e))if(Fd(e))lw(e);else{let n;this.source_?n=typeof this.source_=="string"?e.getElementById(this.source_):this.source_:n=t.getTargetElement(),this.keys_?aw(n):L_(n)}}handleFullScreenChange_(){const t=this.getMap();if(!t)return;const e=this.isInFullscreen_;this.isInFullscreen_=Fd(t.getOwnerDocument()),e!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?($a(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(Pd.ENTERFULLSCREEN)):($a(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(Pd.LEAVEFULLSCREEN)),t.updateSize())}setClassName_(t,e){e?(t.classList.remove(...this.inactiveClassName_),t.classList.add(...this.activeClassName_)):(t.classList.remove(...this.activeClassName_),t.classList.add(...this.inactiveClassName_))}setMap(t){const e=this.getMap();e&&e.removeChangeListener(we.TARGET,this.boundHandleMapTargetChange_),super.setMap(t),this.handleMapTargetChange_(),t&&t.addChangeListener(we.TARGET,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const t=this.documentListeners_;for(let n=0,s=t.length;n<s;++n)le(t[n]);t.length=0;const e=this.getMap();if(e){const n=e.getOwnerDocument();Nd(n)?this.element.classList.remove(zf):this.element.classList.add(zf);for(let s=0,r=Md.length;s<r;++s)t.push(Gt(n,Md[s],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}function Nd(i){const t=i.body;return!!(t.webkitRequestFullscreen||t.requestFullscreen&&i.fullscreenEnabled)}function Fd(i){return!!(i.webkitIsFullScreen||i.fullscreenElement)}function L_(i){i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen()}function aw(i){i.webkitRequestFullscreen?i.webkitRequestFullscreen():L_(i)}function lw(i){i.exitFullscreen?i.exitFullscreen():i.webkitExitFullscreen&&i.webkitExitFullscreen()}const cw=ow,Me={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class uw extends Mi{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+U0,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Me.ELEMENT,this.handleElementChanged),this.addChangeListener(Me.MAP,this.handleMapChanged),this.addChangeListener(Me.OFFSET,this.handleOffsetChanged),this.addChangeListener(Me.POSITION,this.handlePositionChanged),this.addChangeListener(Me.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(Me.ELEMENT)}getId(){return this.id}getMap(){return this.get(Me.MAP)||null}getOffset(){return this.get(Me.OFFSET)}getPosition(){return this.get(Me.POSITION)}getPositioning(){return this.get(Me.POSITIONING)}handleElementChanged(){Pp(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(Wa(this.element),le(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=Gt(t,on.POSTRENDER,this.render,this),this.updatePixelPosition();const e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(Me.ELEMENT,t)}setMap(t){this.set(Me.MAP,t)}setOffset(t){this.set(Me.OFFSET,t)}setPosition(t){this.set(Me.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const e=this.getMap();if(!e||!e.getTargetElement()||!this.get(Me.POSITION))return;const n=this.getRect(e.getTargetElement(),e.getSize()),s=this.getElement(),r=this.getRect(s,[Z0(s),J0(s)]);t=t||{};const o=t.margin===void 0?20:t.margin;if(!gs(n,r)){const l=r[0]-n[0],c=n[2]-r[2],h=r[1]-n[1],d=n[3]-r[3],_=[0,0];if(l<0?_[0]=l-o:c<0&&(_[0]=Math.abs(c)+o),h<0?_[1]=h-o:d<0&&(_[1]=Math.abs(d)+o),_[0]!==0||_[1]!==0){const m=e.getView().getCenterInternal(),x=e.getPixelFromCoordinateInternal(m);if(!x)return;const b=[x[0]+_[0],x[1]+_[1]],C=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(b),duration:C.duration,easing:C.easing})}}}getRect(t,e){const n=t.getBoundingClientRect(),s=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[s,r,s+e[0],r+e[1]]}setPositioning(t){this.set(Me.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e){this.setVisible(!1);return}const n=t.getPixelFromCoordinate(e),s=t.getSize();this.updateRenderedPosition(n,s)}updateRenderedPosition(t,e){const n=this.element.style,s=this.getOffset(),r=this.getPositioning();this.setVisible(!0);const o=Math.round(t[0]+s[0])+"px",l=Math.round(t[1]+s[1])+"px";let c="0%",h="0%";r=="bottom-right"||r=="center-right"||r=="top-right"?c="-100%":(r=="bottom-center"||r=="center-center"||r=="top-center")&&(c="-50%"),r=="bottom-left"||r=="bottom-center"||r=="bottom-right"?h="-100%":(r=="center-left"||r=="center-center"||r=="center-right")&&(h="-50%");const d=`translate(${c}, ${h}) translate(${o}, ${l})`;this.rendered.transform_!=d&&(this.rendered.transform_=d,n.transform=d)}getOptions(){return this.options}}const hw=uw;const Oo=(i,t)=>{const e=i.__vccOpts||i;for(const[n,s]of t)e[n]=s;return e},fw={props:{},setup(i,{emit:t}){const e=Vn({defaultCenter:[120.971859,24.801583],defaultCenterZoom:17}),n=La(null);La(null),new ba({source:new E_({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),new Bi({projection:"EPSG:4326",center:e.defaultCenter,zoom:e.defaultCenterZoom});function s(){const r=document.createElement("div");r.setAttribute("id","map1"),r.setAttribute("class","w-100"),document.getElementById("mapWrap").appendChild(r)}return To(()=>{s();var r=new Cesium.Viewer("map1",{infoBox:!1});r.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(120.971859,24.801583,100)});let o=document.getElementsByClassName("cesium-infoBox-iframe")[0];o.setAttribute("sandbox","allow-same-origin allow-scripts allow-popus allow-forms"),o.setAttribute("src",""),new OLCesium({map:map1.value}).setEnabled(!0),ol3dLayers.addImageryProvider(new Cesium.ArcGisMapServerImageryProvider({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"}))}),{state:e,props:i,mapCom:n}}},dw={class:"w-100 d-flex flex-nowrap mapWrap",id:"mapWrap"};function gw(i,t,e,n,s,r){return Gi(),ln("div",dw)}const O_=Oo(fw,[["render",gw],["__scopeId","data-v-fd38e7ac"]]);const pw="/assets/riverpoly.3a2ebbe8.jpg";const _w={props:{},setup(i,{emit:t}){const e=Vn({defaultCenter:[120.971859,24.801583],defaultCenterZoom:17}),n=La(null),s=[new ba({preload:1/0,name:"defaultLayer",source:new yd})],r=new Bi({projection:"EPSG:4326",center:e.defaultCenter,zoom:e.defaultCenterZoom,rotation:1});n.value=new hw({element:n.value,positioning:"center-center",stopEvent:!1,rotation:0});function o(){const C=document.createElement("div");C.setAttribute("id","map1"),C.setAttribute("class","w-100"),document.getElementById("mapWrap").appendChild(C),C.value=new fd({target:"map1",layers:s,view:r,overlays:[n.value],controls:[new cw]})}function l(){r.on("change:rotation",C=>{const S=map1.value.getView().getRotation(),w=Math.floor(S*180/Math.PI);console.log(`\u5730\u5716\u65CB\u8F49\u89D2\u5EA6\u70BA ${w}`);const M=document.getElementById("compass");M.style.transform=`rotate(${w}rad)`})}function c(C,S){const w=new rw({source:new JT({features:[new WT({geometry:new Kp([C,S]),name:"Null Island",population:4e3,rainfall:500})]}),style:new Ka({image:new ch({anchor:[.5,100],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"https://www.ockert-cnc.de/wp-content/uploads/2016/12/map-marker-icon-100x100.png"})})});map1.value.addLayer(w)}function h(){navigator.geolocation.getCurrentPosition(function(C){r.animate({center:[C.coords.longitude,C.coords.latitude],zoom:17,duration:100}),c(C.coords.longitude,C.coords.latitude)})}function d(C,S=1){let M=(S==1?map1:map2).value.getView();switch(C){case"In":M.animate({zoom:M.getZoom()+1});break;case"Out":M.animate({zoom:M.getZoom()-1});break;case"toNorth":M.animate({rotation:0});break}}function _(C){C==="add"&&!document.getElementById("map2")&&m(),C==="remove"&&document.getElementById("map2")&&document.getElementById("map2").remove()}function m(){const C=document.createElement("div");C.setAttribute("id","map2"),C.setAttribute("class","w-100"),document.getElementById("mapWrap").appendChild(C);const S=Object.values(map1.value.getView().getCenter()),w=map1.value.getView().getZoom(),M=map1.value.getView().getProjection();C.value=new fd({target:"map2",layers:[new ba({preload:1/0,name:"defaultLayer",source:new yd})],view:new Bi({projection:M,center:S,zoom:w}),controls:[]})}function x(){r.animate({center:[-96.794027,31.624217],zoom:10,duration:100})}function b(C){if(C){const S="https://sampleserver6.arcgisonline.com/ArcGIS/rest/services/USA/MapServer";let w=new ba({preload:1/0,source:new ub({url:S})});map1.value.getLayers().extend([w])}}return To(()=>{console.log("1"),o(),Bg(()=>{const C=map1.value.getView().getRotation(),S=Math.floor(C*180/Math.PI);console.log(`\u5730\u5716\u65CB\u8F49\u89D2\u5EA6\u70BA ${S}`);const w=document.getElementById("compass");w.style.transform=`rotate(${S}rad)`,l()})}),{state:e,props:i,moveCurrentPosition:h,changeMapCount:_,addLayout:b,moveTo:x,riverpoly:pw,controlMap:d}}},D_=i=>(Yg("data-v-1ddb33d2"),i=i(),Xg(),i),mw=D_(()=>Rt("div",{class:"w-100 d-flex flex-nowrap mapWrap",id:"mapWrap"},null,-1)),yw={class:"asideTool"},Ew=D_(()=>Rt("img",{src:"https://cdn.pixabay.com/photo/2012/04/02/15/57/right-24825_1280.png",alt:"Compass"},null,-1)),vw=[Ew];function xw(i,t,e,n,s,r){return Gi(),ln("div",null,[mw,Rt("div",yw,[Rt("div",{class:"",onClick:t[0]||(t[0]=(...o)=>n.moveCurrentPosition&&n.moveCurrentPosition(...o))},"\u5B9A\u4F4D"),Rt("div",{class:"",onClick:t[1]||(t[1]=o=>n.controlMap("In"))},"\u653E\u5927"),Rt("div",{class:"",onClick:t[2]||(t[2]=o=>n.controlMap("Out"))},"\u7E2E\u5C0F")]),Rt("div",{ref:"compassBox",class:"compass",id:"compass",onClick:t[3]||(t[3]=o=>n.controlMap("toNorth"))},vw,512)])}const M_=Oo(_w,[["render",xw],["__scopeId","data-v-1ddb33d2"]]),Cw={setup(i,{emit:t}){const e=Vn({});return La(),{state:e}}};function Tw(i,t,e,n,s,r){return Gi(),ln("div")}const bw=Oo(Cw,[["render",Tw]]);const ww={props:{},setup(i,{emit:t}){const e=Vn({toolSwitch:{threeDimensional:!1,layerCondition:!1,splitWindow:!1}});function n(l){Object.keys(e.toolSwitch).forEach(c=>{c==l?e.toolSwitch[c]=!e.toolSwitch[c]:e.toolSwitch[c]=!1})}return{state:e,toolSwitch:n,changeLayouts:function(l){t("layouts",l)},exampleChange:function(l){console.log(l.target.checked),t("mapMode",l.target.checked)},moveTo:function(){t("moveTo")}}}},Ls=i=>(Yg("data-v-a0a34a3c"),i=i(),Xg(),i),Sw={class:"row flex-wrap mx-0"},Aw=Ls(()=>Rt("div",{class:"searchbar"},[Rt("input",{type:"text",placeholder:"\u8ACB\u8F38\u5165\u95DC\u9375\u5B57"})],-1)),Iw={class:"list-unstyled d-flex align-items-center flex-nowrap"},Rw={class:"me-4"},Lw=Ls(()=>Rt("svg",{viewBox:"0 0 24 24"},[Rt("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Rt("path",{d:"M16.466 7.5C15.643 4.237 13.952 2 12 2C9.239 2 7 6.477 7 12s2.239 10 5 10c.342 0 .677-.069 1-.2m2.194-8.093l3.814 1.86l-1.86 3.814"}),Rt("path",{d:"M19 15.57c-1.804.885-4.274 1.43-7 1.43c-5.523 0-10-2.239-10-5s4.477-5 10-5c4.838 0 8.873 1.718 9.8 4"})])],-1)),Ow=[Lw],Dw={class:"me-4 position-relative"},Mw=Ls(()=>Rt("svg",{viewBox:"0 0 24 24"},[Rt("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3l5.571-3m-11.142 0L2.25 7.5L12 2.25l9.75 5.25l-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75L2.25 16.5l4.179-2.25m11.142 0l-5.571 3l-5.571-3"})],-1)),Pw=[Mw],Nw={key:0,class:"condition bg-white position-absolute start-0 top-100 mt-2"},Fw={class:"p-3"},kw=Ls(()=>Rt("label",{for:"example"},"2.\u958B\u555F\u5716\u5C64",-1)),$w={class:"me-4 position-relative"},Ww=Ls(()=>Rt("svg",{viewBox:"0 0 20 20"},[Rt("path",{fill:"currentColor",d:"M2 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h5.5V5H4Zm12 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-5.5v10H16Zm-4.5-1a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1Zm2.5-.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0Zm1.5.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1Z"})],-1)),jw=[Ww],Bw={key:0,class:"list-unstyled position-absolute start-0 top-100 p-0"},Hw={class:"mt-2"},Vw=Ls(()=>Rt("svg",{viewBox:"0 0 20 20"},[Rt("path",{fill:"currentColor",d:"M2 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h5.5V5H4Zm12 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-5.5v10H16Zm-4.5-1a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1Zm2.5-.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0Zm1.5.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1Z"})],-1)),zw=[Vw],Gw={class:"mt-2"},Yw=Ls(()=>Rt("svg",{viewBox:"0 0 20 20"},[Rt("path",{fill:"currentColor",d:"M2 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h5.5V5H4Zm12 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-5.5v10H16Zm-4.5-1a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1Zm2.5-.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0Zm1.5.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1Z"})],-1)),Xw=[Yw];function Kw(i,t,e,n,s,r){return Gi(),ln("div",Sw,[Aw,Rt("ul",Iw,[Rt("li",Rw,[Rt("a",{href:"",class:"text-white",onClick:t[0]||(t[0]=$r(o=>n.toolSwitch("threeDimensional"),["prevent"]))},Ow)]),Rt("li",Dw,[Rt("a",{href:"",class:"text-white",onClick:t[1]||(t[1]=$r(o=>n.toolSwitch("layerCondition"),["prevent"]))},Pw),n.state.toolSwitch.layerCondition?(Gi(),ln("div",Nw,[Rt("div",Fw,[Rt("p",null,[hp("1.\u9EDE\u64CA"),Rt("div",{class:"text-blue",onClick:t[2]||(t[2]=(...o)=>n.moveTo&&n.moveTo(...o))},"\u524D\u5F80\u793A\u7BC4\u6848\u4F8B")]),Rt("div",null,[Rt("input",{type:"checkbox",name:"example",id:"example",onChange:t[3]||(t[3]=(...o)=>n.exampleChange&&n.exampleChange(...o))},null,32),kw])])])):Ma("",!0)]),Rt("li",$w,[Rt("a",{href:"",class:"text-white",onClick:t[4]||(t[4]=$r(o=>n.toolSwitch("splitWindow"),["prevent"]))},jw),n.state.toolSwitch.splitWindow?(Gi(),ln("ul",Bw,[Rt("li",Hw,[Rt("a",{href:"",onClick:t[5]||(t[5]=$r(o=>n.changeLayouts("remove"),["prevent"])),class:"text-white"},zw)]),Rt("li",Gw,[Rt("a",{href:"",onClick:t[6]||(t[6]=$r(o=>n.changeLayouts("add"),["prevent"])),class:"text-white"},Xw)])])):Ma("",!0)])])])}const Uw=Oo(ww,[["render",Kw],["__scopeId","data-v-a0a34a3c"]]);const qw={components:{WebMap:M_,Wes:O_},setup(i,{emit:t}){const e=Vn({count:1,math:0,targetMap:1,aMap:!0,bMap:!1}),n=function(s){t("mapMode",s.target.checked),s.target.checked?e.aMap=!0:e.aMap=!1};return To(()=>{}),{state:e,abMap:n}}},Zw={style:{position:"fixed",right:"0","z-index":"999",background:"#fff",padding:"20px"}},Jw=Rt("label",{for:"example"},"\u5207\u63DB(\u50C5\u53EF\u5207\u63DB\u4E00\u6B21)",-1),Qw={class:"main"},t1={class:"mapContent"},e1={key:0},i1={key:1};function n1(i,t,e,n,s,r){const o=Uw,l=bw,c=M_,h=O_;return Gi(),ln(Ai,null,[Rt("div",Zw,[Rt("div",null,[YE(Rt("input",{type:"checkbox",name:"example",id:"example","onUpdate:modelValue":t[0]||(t[0]=d=>n.state.aMap=d),value:!1},null,512),[[Xv,n.state.aMap]]),Jw])]),oi(o,{class:"SearchBar",onMoveTo:t[1]||(t[1]=d=>{this.$refs.map.moveTo(d)}),onMapMode:t[2]||(t[2]=d=>{this.$refs.map.addLayout(d)}),onLayouts:t[3]||(t[3]=d=>{this.$refs.map.changeMapCount(d)})}),Rt("div",Qw,[oi(l,{class:"LayoutTool"})]),Rt("div",t1,[n.state.aMap?(Gi(),ln("div",e1,[oi(c,{ref:"map"},null,512)])):Ma("",!0),n.state.aMap?Ma("",!0):(Gi(),ln("div",i1,[oi(h,{ref:"map"},null,512)]))])],64)}const s1=Oo(qw,[["render",n1]]);var Be="top",li="bottom",ci="right",He="left",Sl="auto",wr=[Be,li,ci,He],As="start",gr="end",P_="clippingParents",fh="viewport",Us="popper",N_="reference",au=wr.reduce(function(i,t){return i.concat([t+"-"+As,t+"-"+gr])},[]),dh=[].concat(wr,[Sl]).reduce(function(i,t){return i.concat([t,t+"-"+As,t+"-"+gr])},[]),F_="beforeRead",k_="read",$_="afterRead",W_="beforeMain",j_="main",B_="afterMain",H_="beforeWrite",V_="write",z_="afterWrite",G_=[F_,k_,$_,W_,j_,B_,H_,V_,z_];function qi(i){return i?(i.nodeName||"").toLowerCase():null}function vi(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function Is(i){var t=vi(i).Element;return i instanceof t||i instanceof Element}function mi(i){var t=vi(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function gh(i){if(typeof ShadowRoot>"u")return!1;var t=vi(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function r1(i){var t=i.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!mi(r)||!qi(r)||(Object.assign(r.style,n),Object.keys(s).forEach(function(o){var l=s[o];l===!1?r.removeAttribute(o):r.setAttribute(o,l===!0?"":l)}))})}function o1(i){var t=i.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(n){var s=t.elements[n],r=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:e[n]),l=o.reduce(function(c,h){return c[h]="",c},{});!mi(s)||!qi(s)||(Object.assign(s.style,l),Object.keys(r).forEach(function(c){s.removeAttribute(c)}))})}}const ph={name:"applyStyles",enabled:!0,phase:"write",fn:r1,effect:o1,requires:["computeStyles"]};function Xi(i){return i.split("-")[0]}var ws=Math.max,Ua=Math.min,pr=Math.round;function lu(){var i=navigator.userAgentData;return i!=null&&i.brands?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Y_(){return!/^((?!chrome|android).)*safari/i.test(lu())}function _r(i,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var n=i.getBoundingClientRect(),s=1,r=1;t&&mi(i)&&(s=i.offsetWidth>0&&pr(n.width)/i.offsetWidth||1,r=i.offsetHeight>0&&pr(n.height)/i.offsetHeight||1);var o=Is(i)?vi(i):window,l=o.visualViewport,c=!Y_()&&e,h=(n.left+(c&&l?l.offsetLeft:0))/s,d=(n.top+(c&&l?l.offsetTop:0))/r,_=n.width/s,m=n.height/r;return{width:_,height:m,top:d,right:h+_,bottom:d+m,left:h,x:h,y:d}}function _h(i){var t=_r(i),e=i.offsetWidth,n=i.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:i.offsetLeft,y:i.offsetTop,width:e,height:n}}function X_(i,t){var e=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(e&&gh(e)){var n=t;do{if(n&&i.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function pn(i){return vi(i).getComputedStyle(i)}function a1(i){return["table","td","th"].indexOf(qi(i))>=0}function Gn(i){return((Is(i)?i.ownerDocument:i.document)||window.document).documentElement}function Al(i){return qi(i)==="html"?i:i.assignedSlot||i.parentNode||(gh(i)?i.host:null)||Gn(i)}function kd(i){return!mi(i)||pn(i).position==="fixed"?null:i.offsetParent}function l1(i){var t=/firefox/i.test(lu()),e=/Trident/i.test(lu());if(e&&mi(i)){var n=pn(i);if(n.position==="fixed")return null}var s=Al(i);for(gh(s)&&(s=s.host);mi(s)&&["html","body"].indexOf(qi(s))<0;){var r=pn(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function Do(i){for(var t=vi(i),e=kd(i);e&&a1(e)&&pn(e).position==="static";)e=kd(e);return e&&(qi(e)==="html"||qi(e)==="body"&&pn(e).position==="static")?t:e||l1(i)||t}function mh(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function Jr(i,t,e){return ws(i,Ua(t,e))}function c1(i,t,e){var n=Jr(i,t,e);return n>e?e:n}function K_(){return{top:0,right:0,bottom:0,left:0}}function U_(i){return Object.assign({},K_(),i)}function q_(i,t){return t.reduce(function(e,n){return e[n]=i,e},{})}var u1=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,U_(typeof t!="number"?t:q_(t,wr))};function h1(i){var t,e=i.state,n=i.name,s=i.options,r=e.elements.arrow,o=e.modifiersData.popperOffsets,l=Xi(e.placement),c=mh(l),h=[He,ci].indexOf(l)>=0,d=h?"height":"width";if(!(!r||!o)){var _=u1(s.padding,e),m=_h(r),x=c==="y"?Be:He,b=c==="y"?li:ci,C=e.rects.reference[d]+e.rects.reference[c]-o[c]-e.rects.popper[d],S=o[c]-e.rects.reference[c],w=Do(r),M=w?c==="y"?w.clientHeight||0:w.clientWidth||0:0,P=C/2-S/2,N=_[x],j=M-m[d]-_[b],g=M/2-m[d]/2+P,it=Jr(N,g,j),G=c;e.modifiersData[n]=(t={},t[G]=it,t.centerOffset=it-g,t)}}function f1(i){var t=i.state,e=i.options,n=e.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!X_(t.elements.popper,s)||(t.elements.arrow=s))}const Z_={name:"arrow",enabled:!0,phase:"main",fn:h1,effect:f1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mr(i){return i.split("-")[1]}var d1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function g1(i){var t=i.x,e=i.y,n=window,s=n.devicePixelRatio||1;return{x:pr(t*s)/s||0,y:pr(e*s)/s||0}}function $d(i){var t,e=i.popper,n=i.popperRect,s=i.placement,r=i.variation,o=i.offsets,l=i.position,c=i.gpuAcceleration,h=i.adaptive,d=i.roundOffsets,_=i.isFixed,m=o.x,x=m===void 0?0:m,b=o.y,C=b===void 0?0:b,S=typeof d=="function"?d({x,y:C}):{x,y:C};x=S.x,C=S.y;var w=o.hasOwnProperty("x"),M=o.hasOwnProperty("y"),P=He,N=Be,j=window;if(h){var g=Do(e),it="clientHeight",G="clientWidth";if(g===vi(e)&&(g=Gn(e),pn(g).position!=="static"&&l==="absolute"&&(it="scrollHeight",G="scrollWidth")),g=g,s===Be||(s===He||s===ci)&&r===gr){N=li;var et=_&&g===j&&j.visualViewport?j.visualViewport.height:g[it];C-=et-n.height,C*=c?1:-1}if(s===He||(s===Be||s===li)&&r===gr){P=ci;var rt=_&&g===j&&j.visualViewport?j.visualViewport.width:g[G];x-=rt-n.width,x*=c?1:-1}}var mt=Object.assign({position:l},h&&d1),gt=d===!0?g1({x,y:C}):{x,y:C};if(x=gt.x,C=gt.y,c){var _t;return Object.assign({},mt,(_t={},_t[N]=M?"0":"",_t[P]=w?"0":"",_t.transform=(j.devicePixelRatio||1)<=1?"translate("+x+"px, "+C+"px)":"translate3d("+x+"px, "+C+"px, 0)",_t))}return Object.assign({},mt,(t={},t[N]=M?C+"px":"",t[P]=w?x+"px":"",t.transform="",t))}function p1(i){var t=i.state,e=i.options,n=e.gpuAcceleration,s=n===void 0?!0:n,r=e.adaptive,o=r===void 0?!0:r,l=e.roundOffsets,c=l===void 0?!0:l,h={placement:Xi(t.placement),variation:mr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,$d(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,$d(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const yh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:p1,data:{}};var ha={passive:!0};function _1(i){var t=i.state,e=i.instance,n=i.options,s=n.scroll,r=s===void 0?!0:s,o=n.resize,l=o===void 0?!0:o,c=vi(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(d){d.addEventListener("scroll",e.update,ha)}),l&&c.addEventListener("resize",e.update,ha),function(){r&&h.forEach(function(d){d.removeEventListener("scroll",e.update,ha)}),l&&c.removeEventListener("resize",e.update,ha)}}const Eh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_1,data:{}};var m1={left:"right",right:"left",bottom:"top",top:"bottom"};function wa(i){return i.replace(/left|right|bottom|top/g,function(t){return m1[t]})}var y1={start:"end",end:"start"};function Wd(i){return i.replace(/start|end/g,function(t){return y1[t]})}function vh(i){var t=vi(i),e=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:e,scrollTop:n}}function xh(i){return _r(Gn(i)).left+vh(i).scrollLeft}function E1(i,t){var e=vi(i),n=Gn(i),s=e.visualViewport,r=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){r=s.width,o=s.height;var h=Y_();(h||!h&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:r,height:o,x:l+xh(i),y:c}}function v1(i){var t,e=Gn(i),n=vh(i),s=(t=i.ownerDocument)==null?void 0:t.body,r=ws(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=ws(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-n.scrollLeft+xh(i),c=-n.scrollTop;return pn(s||e).direction==="rtl"&&(l+=ws(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:l,y:c}}function Ch(i){var t=pn(i),e=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+s+n)}function J_(i){return["html","body","#document"].indexOf(qi(i))>=0?i.ownerDocument.body:mi(i)&&Ch(i)?i:J_(Al(i))}function Qr(i,t){var e;t===void 0&&(t=[]);var n=J_(i),s=n===((e=i.ownerDocument)==null?void 0:e.body),r=vi(n),o=s?[r].concat(r.visualViewport||[],Ch(n)?n:[]):n,l=t.concat(o);return s?l:l.concat(Qr(Al(o)))}function cu(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function x1(i,t){var e=_r(i,!1,t==="fixed");return e.top=e.top+i.clientTop,e.left=e.left+i.clientLeft,e.bottom=e.top+i.clientHeight,e.right=e.left+i.clientWidth,e.width=i.clientWidth,e.height=i.clientHeight,e.x=e.left,e.y=e.top,e}function jd(i,t,e){return t===fh?cu(E1(i,e)):Is(t)?x1(t,e):cu(v1(Gn(i)))}function C1(i){var t=Qr(Al(i)),e=["absolute","fixed"].indexOf(pn(i).position)>=0,n=e&&mi(i)?Do(i):i;return Is(n)?t.filter(function(s){return Is(s)&&X_(s,n)&&qi(s)!=="body"}):[]}function T1(i,t,e,n){var s=t==="clippingParents"?C1(i):[].concat(t),r=[].concat(s,[e]),o=r[0],l=r.reduce(function(c,h){var d=jd(i,h,n);return c.top=ws(d.top,c.top),c.right=Ua(d.right,c.right),c.bottom=Ua(d.bottom,c.bottom),c.left=ws(d.left,c.left),c},jd(i,o,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Q_(i){var t=i.reference,e=i.element,n=i.placement,s=n?Xi(n):null,r=n?mr(n):null,o=t.x+t.width/2-e.width/2,l=t.y+t.height/2-e.height/2,c;switch(s){case Be:c={x:o,y:t.y-e.height};break;case li:c={x:o,y:t.y+t.height};break;case ci:c={x:t.x+t.width,y:l};break;case He:c={x:t.x-e.width,y:l};break;default:c={x:t.x,y:t.y}}var h=s?mh(s):null;if(h!=null){var d=h==="y"?"height":"width";switch(r){case As:c[h]=c[h]-(t[d]/2-e[d]/2);break;case gr:c[h]=c[h]+(t[d]/2-e[d]/2);break}}return c}function yr(i,t){t===void 0&&(t={});var e=t,n=e.placement,s=n===void 0?i.placement:n,r=e.strategy,o=r===void 0?i.strategy:r,l=e.boundary,c=l===void 0?P_:l,h=e.rootBoundary,d=h===void 0?fh:h,_=e.elementContext,m=_===void 0?Us:_,x=e.altBoundary,b=x===void 0?!1:x,C=e.padding,S=C===void 0?0:C,w=U_(typeof S!="number"?S:q_(S,wr)),M=m===Us?N_:Us,P=i.rects.popper,N=i.elements[b?M:m],j=T1(Is(N)?N:N.contextElement||Gn(i.elements.popper),c,d,o),g=_r(i.elements.reference),it=Q_({reference:g,element:P,strategy:"absolute",placement:s}),G=cu(Object.assign({},P,it)),et=m===Us?G:g,rt={top:j.top-et.top+w.top,bottom:et.bottom-j.bottom+w.bottom,left:j.left-et.left+w.left,right:et.right-j.right+w.right},mt=i.modifiersData.offset;if(m===Us&&mt){var gt=mt[s];Object.keys(rt).forEach(function(_t){var Vt=[ci,li].indexOf(_t)>=0?1:-1,pt=[Be,li].indexOf(_t)>=0?"y":"x";rt[_t]+=gt[pt]*Vt})}return rt}function b1(i,t){t===void 0&&(t={});var e=t,n=e.placement,s=e.boundary,r=e.rootBoundary,o=e.padding,l=e.flipVariations,c=e.allowedAutoPlacements,h=c===void 0?dh:c,d=mr(n),_=d?l?au:au.filter(function(b){return mr(b)===d}):wr,m=_.filter(function(b){return h.indexOf(b)>=0});m.length===0&&(m=_);var x=m.reduce(function(b,C){return b[C]=yr(i,{placement:C,boundary:s,rootBoundary:r,padding:o})[Xi(C)],b},{});return Object.keys(x).sort(function(b,C){return x[b]-x[C]})}function w1(i){if(Xi(i)===Sl)return[];var t=wa(i);return[Wd(i),t,Wd(t)]}function S1(i){var t=i.state,e=i.options,n=i.name;if(!t.modifiersData[n]._skip){for(var s=e.mainAxis,r=s===void 0?!0:s,o=e.altAxis,l=o===void 0?!0:o,c=e.fallbackPlacements,h=e.padding,d=e.boundary,_=e.rootBoundary,m=e.altBoundary,x=e.flipVariations,b=x===void 0?!0:x,C=e.allowedAutoPlacements,S=t.options.placement,w=Xi(S),M=w===S,P=c||(M||!b?[wa(S)]:w1(S)),N=[S].concat(P).reduce(function(Dt,kt){return Dt.concat(Xi(kt)===Sl?b1(t,{placement:kt,boundary:d,rootBoundary:_,padding:h,flipVariations:b,allowedAutoPlacements:C}):kt)},[]),j=t.rects.reference,g=t.rects.popper,it=new Map,G=!0,et=N[0],rt=0;rt<N.length;rt++){var mt=N[rt],gt=Xi(mt),_t=mr(mt)===As,Vt=[Be,li].indexOf(gt)>=0,pt=Vt?"width":"height",lt=yr(t,{placement:mt,boundary:d,rootBoundary:_,altBoundary:m,padding:h}),q=Vt?_t?ci:He:_t?li:Be;j[pt]>g[pt]&&(q=wa(q));var ht=wa(q),It=[];if(r&&It.push(lt[gt]<=0),l&&It.push(lt[q]<=0,lt[ht]<=0),It.every(function(Dt){return Dt})){et=mt,G=!1;break}it.set(mt,It)}if(G)for(var Nt=b?3:1,Ft=function(kt){var oe=N.find(function(he){var Yt=it.get(he);if(Yt)return Yt.slice(0,kt).every(function(Jt){return Jt})});if(oe)return et=oe,"break"},K=Nt;K>0;K--){var ie=Ft(K);if(ie==="break")break}t.placement!==et&&(t.modifiersData[n]._skip=!0,t.placement=et,t.reset=!0)}}const tm={name:"flip",enabled:!0,phase:"main",fn:S1,requiresIfExists:["offset"],data:{_skip:!1}};function Bd(i,t,e){return e===void 0&&(e={x:0,y:0}),{top:i.top-t.height-e.y,right:i.right-t.width+e.x,bottom:i.bottom-t.height+e.y,left:i.left-t.width-e.x}}function Hd(i){return[Be,ci,li,He].some(function(t){return i[t]>=0})}function A1(i){var t=i.state,e=i.name,n=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=yr(t,{elementContext:"reference"}),l=yr(t,{altBoundary:!0}),c=Bd(o,n),h=Bd(l,s,r),d=Hd(c),_=Hd(h);t.modifiersData[e]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:_},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":_})}const em={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:A1};function I1(i,t,e){var n=Xi(i),s=[He,Be].indexOf(n)>=0?-1:1,r=typeof e=="function"?e(Object.assign({},t,{placement:i})):e,o=r[0],l=r[1];return o=o||0,l=(l||0)*s,[He,ci].indexOf(n)>=0?{x:l,y:o}:{x:o,y:l}}function R1(i){var t=i.state,e=i.options,n=i.name,s=e.offset,r=s===void 0?[0,0]:s,o=dh.reduce(function(d,_){return d[_]=I1(_,t.rects,r),d},{}),l=o[t.placement],c=l.x,h=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=h),t.modifiersData[n]=o}const im={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:R1};function L1(i){var t=i.state,e=i.name;t.modifiersData[e]=Q_({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Th={name:"popperOffsets",enabled:!0,phase:"read",fn:L1,data:{}};function O1(i){return i==="x"?"y":"x"}function D1(i){var t=i.state,e=i.options,n=i.name,s=e.mainAxis,r=s===void 0?!0:s,o=e.altAxis,l=o===void 0?!1:o,c=e.boundary,h=e.rootBoundary,d=e.altBoundary,_=e.padding,m=e.tether,x=m===void 0?!0:m,b=e.tetherOffset,C=b===void 0?0:b,S=yr(t,{boundary:c,rootBoundary:h,padding:_,altBoundary:d}),w=Xi(t.placement),M=mr(t.placement),P=!M,N=mh(w),j=O1(N),g=t.modifiersData.popperOffsets,it=t.rects.reference,G=t.rects.popper,et=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,rt=typeof et=="number"?{mainAxis:et,altAxis:et}:Object.assign({mainAxis:0,altAxis:0},et),mt=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,gt={x:0,y:0};if(!!g){if(r){var _t,Vt=N==="y"?Be:He,pt=N==="y"?li:ci,lt=N==="y"?"height":"width",q=g[N],ht=q+S[Vt],It=q-S[pt],Nt=x?-G[lt]/2:0,Ft=M===As?it[lt]:G[lt],K=M===As?-G[lt]:-it[lt],ie=t.elements.arrow,Dt=x&&ie?_h(ie):{width:0,height:0},kt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:K_(),oe=kt[Vt],he=kt[pt],Yt=Jr(0,it[lt],Dt[lt]),Jt=P?it[lt]/2-Nt-Yt-oe-rt.mainAxis:Ft-Yt-oe-rt.mainAxis,ze=P?-it[lt]/2+Nt+Yt+he+rt.mainAxis:K+Yt+he+rt.mainAxis,Ge=t.elements.arrow&&Do(t.elements.arrow),R=Ge?N==="y"?Ge.clientTop||0:Ge.clientLeft||0:0,O=(_t=mt==null?void 0:mt[N])!=null?_t:0,H=q+Jt-O-R,X=q+ze-O,$=Jr(x?Ua(ht,H):ht,q,x?ws(It,X):It);g[N]=$,gt[N]=$-q}if(l){var Z,ct=N==="x"?Be:He,st=N==="x"?li:ci,nt=g[j],U=j==="y"?"height":"width",ft=nt+S[ct],ot=nt-S[st],ut=[Be,He].indexOf(w)!==-1,yt=(Z=mt==null?void 0:mt[j])!=null?Z:0,Ct=ut?ft:nt-it[U]-G[U]-yt+rt.altAxis,jt=ut?nt+it[U]+G[U]-yt-rt.altAxis:ot,Lt=x&&ut?c1(Ct,nt,jt):Jr(x?Ct:ft,nt,x?jt:ot);g[j]=Lt,gt[j]=Lt-nt}t.modifiersData[n]=gt}}const nm={name:"preventOverflow",enabled:!0,phase:"main",fn:D1,requiresIfExists:["offset"]};function M1(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function P1(i){return i===vi(i)||!mi(i)?vh(i):M1(i)}function N1(i){var t=i.getBoundingClientRect(),e=pr(t.width)/i.offsetWidth||1,n=pr(t.height)/i.offsetHeight||1;return e!==1||n!==1}function F1(i,t,e){e===void 0&&(e=!1);var n=mi(t),s=mi(t)&&N1(t),r=Gn(t),o=_r(i,s,e),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!e)&&((qi(t)!=="body"||Ch(r))&&(l=P1(t)),mi(t)?(c=_r(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):r&&(c.x=xh(r))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function k1(i){var t=new Map,e=new Set,n=[];i.forEach(function(r){t.set(r.name,r)});function s(r){e.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(l){if(!e.has(l)){var c=t.get(l);c&&s(c)}}),n.push(r)}return i.forEach(function(r){e.has(r.name)||s(r)}),n}function $1(i){var t=k1(i);return G_.reduce(function(e,n){return e.concat(t.filter(function(s){return s.phase===n}))},[])}function W1(i){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(i())})})),t}}function j1(i){var t=i.reduce(function(e,n){var s=e[n.name];return e[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,e},{});return Object.keys(t).map(function(e){return t[e]})}var Vd={placement:"bottom",modifiers:[],strategy:"absolute"};function zd(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Il(i){i===void 0&&(i={});var t=i,e=t.defaultModifiers,n=e===void 0?[]:e,s=t.defaultOptions,r=s===void 0?Vd:s;return function(l,c,h){h===void 0&&(h=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vd,r),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},_=[],m=!1,x={state:d,setOptions:function(w){var M=typeof w=="function"?w(d.options):w;C(),d.options=Object.assign({},r,d.options,M),d.scrollParents={reference:Is(l)?Qr(l):l.contextElement?Qr(l.contextElement):[],popper:Qr(c)};var P=$1(j1([].concat(n,d.options.modifiers)));return d.orderedModifiers=P.filter(function(N){return N.enabled}),b(),x.update()},forceUpdate:function(){if(!m){var w=d.elements,M=w.reference,P=w.popper;if(!!zd(M,P)){d.rects={reference:F1(M,Do(P),d.options.strategy==="fixed"),popper:_h(P)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(rt){return d.modifiersData[rt.name]=Object.assign({},rt.data)});for(var N=0;N<d.orderedModifiers.length;N++){if(d.reset===!0){d.reset=!1,N=-1;continue}var j=d.orderedModifiers[N],g=j.fn,it=j.options,G=it===void 0?{}:it,et=j.name;typeof g=="function"&&(d=g({state:d,options:G,name:et,instance:x})||d)}}}},update:W1(function(){return new Promise(function(S){x.forceUpdate(),S(d)})}),destroy:function(){C(),m=!0}};if(!zd(l,c))return x;x.setOptions(h).then(function(S){!m&&h.onFirstUpdate&&h.onFirstUpdate(S)});function b(){d.orderedModifiers.forEach(function(S){var w=S.name,M=S.options,P=M===void 0?{}:M,N=S.effect;if(typeof N=="function"){var j=N({state:d,name:w,instance:x,options:P}),g=function(){};_.push(j||g)}})}function C(){_.forEach(function(S){return S()}),_=[]}return x}}var B1=Il(),H1=[Eh,Th,yh,ph],V1=Il({defaultModifiers:H1}),z1=[Eh,Th,yh,ph,im,tm,nm,Z_,em],bh=Il({defaultModifiers:z1});const sm=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:Il,detectOverflow:yr,createPopperBase:B1,createPopper:bh,createPopperLite:V1,top:Be,bottom:li,right:ci,left:He,auto:Sl,basePlacements:wr,start:As,end:gr,clippingParents:P_,viewport:fh,popper:Us,reference:N_,variationPlacements:au,placements:dh,beforeRead:F_,read:k_,afterRead:$_,beforeMain:W_,main:j_,afterMain:B_,beforeWrite:H_,write:V_,afterWrite:z_,modifierPhases:G_,applyStyles:ph,arrow:Z_,computeStyles:yh,eventListeners:Eh,flip:tm,hide:em,offset:im,popperOffsets:Th,preventOverflow:nm},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const G1=1e6,Y1=1e3,uu="transitionend",X1=i=>i==null?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase(),K1=i=>{do i+=Math.floor(Math.random()*G1);while(document.getElementById(i));return i},rm=i=>{let t=i.getAttribute("data-bs-target");if(!t||t==="#"){let e=i.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t},om=i=>{const t=rm(i);return t&&document.querySelector(t)?t:null},un=i=>{const t=rm(i);return t?document.querySelector(t):null},U1=i=>{if(!i)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(i);const n=Number.parseFloat(t),s=Number.parseFloat(e);return!n&&!s?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*Y1)},am=i=>{i.dispatchEvent(new Event(uu))},hn=i=>!i||typeof i!="object"?!1:(typeof i.jquery<"u"&&(i=i[0]),typeof i.nodeType<"u"),jn=i=>hn(i)?i.jquery?i[0]:i:typeof i=="string"&&i.length>0?document.querySelector(i):null,Sr=i=>{if(!hn(i)||i.getClientRects().length===0)return!1;const t=getComputedStyle(i).getPropertyValue("visibility")==="visible",e=i.closest("details:not([open])");if(!e)return t;if(e!==i){const n=i.closest("summary");if(n&&n.parentNode!==e||n===null)return!1}return t},Bn=i=>!i||i.nodeType!==Node.ELEMENT_NODE||i.classList.contains("disabled")?!0:typeof i.disabled<"u"?i.disabled:i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false",lm=i=>{if(!document.documentElement.attachShadow)return null;if(typeof i.getRootNode=="function"){const t=i.getRootNode();return t instanceof ShadowRoot?t:null}return i instanceof ShadowRoot?i:i.parentNode?lm(i.parentNode):null},qa=()=>{},Mo=i=>{i.offsetHeight},cm=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Cc=[],q1=i=>{document.readyState==="loading"?(Cc.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Cc)t()}),Cc.push(i)):i()},Ei=()=>document.documentElement.dir==="rtl",xi=i=>{q1(()=>{const t=cm();if(t){const e=i.NAME,n=t.fn[e];t.fn[e]=i.jQueryInterface,t.fn[e].Constructor=i,t.fn[e].noConflict=()=>(t.fn[e]=n,i.jQueryInterface)}})},an=i=>{typeof i=="function"&&i()},um=(i,t,e=!0)=>{if(!e){an(i);return}const n=5,s=U1(t)+n;let r=!1;const o=({target:l})=>{l===t&&(r=!0,t.removeEventListener(uu,o),an(i))};t.addEventListener(uu,o),setTimeout(()=>{r||am(t)},s)},wh=(i,t,e,n)=>{const s=i.length;let r=i.indexOf(t);return r===-1?!e&&n?i[s-1]:i[0]:(r+=e?1:-1,n&&(r=(r+s)%s),i[Math.max(0,Math.min(r,s-1))])},Z1=/[^.]*(?=\..*)\.|.*/,J1=/\..*/,Q1=/::\d+$/,Tc={};let Gd=1;const hm={mouseenter:"mouseover",mouseleave:"mouseout"},tS=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function fm(i,t){return t&&`${t}::${Gd++}`||i.uidEvent||Gd++}function dm(i){const t=fm(i);return i.uidEvent=t,Tc[t]=Tc[t]||{},Tc[t]}function eS(i,t){return function e(n){return Sh(n,{delegateTarget:i}),e.oneOff&&tt.off(i,n.type,t),t.apply(i,[n])}}function iS(i,t,e){return function n(s){const r=i.querySelectorAll(t);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const l of r)if(l===o)return Sh(s,{delegateTarget:o}),n.oneOff&&tt.off(i,s.type,t,e),e.apply(o,[s])}}function gm(i,t,e=null){return Object.values(i).find(n=>n.callable===t&&n.delegationSelector===e)}function pm(i,t,e){const n=typeof t=="string",s=n?e:t||e;let r=_m(i);return tS.has(r)||(r=i),[n,s,r]}function Yd(i,t,e,n,s){if(typeof t!="string"||!i)return;let[r,o,l]=pm(t,e,n);t in hm&&(o=(b=>function(C){if(!C.relatedTarget||C.relatedTarget!==C.delegateTarget&&!C.delegateTarget.contains(C.relatedTarget))return b.call(this,C)})(o));const c=dm(i),h=c[l]||(c[l]={}),d=gm(h,o,r?e:null);if(d){d.oneOff=d.oneOff&&s;return}const _=fm(o,t.replace(Z1,"")),m=r?iS(i,e,o):eS(i,o);m.delegationSelector=r?e:null,m.callable=o,m.oneOff=s,m.uidEvent=_,h[_]=m,i.addEventListener(l,m,r)}function hu(i,t,e,n,s){const r=gm(t[e],n,s);!r||(i.removeEventListener(e,r,Boolean(s)),delete t[e][r.uidEvent])}function nS(i,t,e,n){const s=t[e]||{};for(const r of Object.keys(s))if(r.includes(n)){const o=s[r];hu(i,t,e,o.callable,o.delegationSelector)}}function _m(i){return i=i.replace(J1,""),hm[i]||i}const tt={on(i,t,e,n){Yd(i,t,e,n,!1)},one(i,t,e,n){Yd(i,t,e,n,!0)},off(i,t,e,n){if(typeof t!="string"||!i)return;const[s,r,o]=pm(t,e,n),l=o!==t,c=dm(i),h=c[o]||{},d=t.startsWith(".");if(typeof r<"u"){if(!Object.keys(h).length)return;hu(i,c,o,r,s?e:null);return}if(d)for(const _ of Object.keys(c))nS(i,c,_,t.slice(1));for(const _ of Object.keys(h)){const m=_.replace(Q1,"");if(!l||t.includes(m)){const x=h[_];hu(i,c,o,x.callable,x.delegationSelector)}}},trigger(i,t,e){if(typeof t!="string"||!i)return null;const n=cm(),s=_m(t),r=t!==s;let o=null,l=!0,c=!0,h=!1;r&&n&&(o=n.Event(t,e),n(i).trigger(o),l=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());let d=new Event(t,{bubbles:l,cancelable:!0});return d=Sh(d,e),h&&d.preventDefault(),c&&i.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function Sh(i,t){for(const[e,n]of Object.entries(t||{}))try{i[e]=n}catch{Object.defineProperty(i,e,{configurable:!0,get(){return n}})}return i}const In=new Map,bc={set(i,t,e){In.has(i)||In.set(i,new Map);const n=In.get(i);if(!n.has(t)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(t,e)},get(i,t){return In.has(i)&&In.get(i).get(t)||null},remove(i,t){if(!In.has(i))return;const e=In.get(i);e.delete(t),e.size===0&&In.delete(i)}};function Xd(i){if(i==="true")return!0;if(i==="false")return!1;if(i===Number(i).toString())return Number(i);if(i===""||i==="null")return null;if(typeof i!="string")return i;try{return JSON.parse(decodeURIComponent(i))}catch{return i}}function wc(i){return i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const fn={setDataAttribute(i,t,e){i.setAttribute(`data-bs-${wc(t)}`,e)},removeDataAttribute(i,t){i.removeAttribute(`data-bs-${wc(t)}`)},getDataAttributes(i){if(!i)return{};const t={},e=Object.keys(i.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of e){let s=n.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=Xd(i.dataset[n])}return t},getDataAttribute(i,t){return Xd(i.getAttribute(`data-bs-${wc(t)}`))}};class Po{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const n=hn(e)?fn.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...hn(e)?fn.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const n of Object.keys(e)){const s=e[n],r=t[n],o=hn(r)?"element":X1(r);if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${s}".`)}}}const sS="5.2.3";class Pi extends Po{constructor(t,e){super(),t=jn(t),t&&(this._element=t,this._config=this._getConfig(e),bc.set(this._element,this.constructor.DATA_KEY,this))}dispose(){bc.remove(this._element,this.constructor.DATA_KEY),tt.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,n=!0){um(t,e,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return bc.get(jn(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return sS}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Rl=(i,t="hide")=>{const e=`click.dismiss${i.EVENT_KEY}`,n=i.NAME;tt.on(document,e,`[data-bs-dismiss="${n}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Bn(this))return;const r=un(this)||this.closest(`.${n}`);i.getOrCreateInstance(r)[t]()})},rS="alert",oS="bs.alert",mm=`.${oS}`,aS=`close${mm}`,lS=`closed${mm}`,cS="fade",uS="show";class Ll extends Pi{static get NAME(){return rS}close(){if(tt.trigger(this._element,aS).defaultPrevented)return;this._element.classList.remove(uS);const e=this._element.classList.contains(cS);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),tt.trigger(this._element,lS),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Ll.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Rl(Ll,"close");xi(Ll);const hS="button",fS="bs.button",dS=`.${fS}`,gS=".data-api",pS="active",Kd='[data-bs-toggle="button"]',_S=`click${dS}${gS}`;class Ol extends Pi{static get NAME(){return hS}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(pS))}static jQueryInterface(t){return this.each(function(){const e=Ol.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}tt.on(document,_S,Kd,i=>{i.preventDefault();const t=i.target.closest(Kd);Ol.getOrCreateInstance(t).toggle()});xi(Ol);const Wt={find(i,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,i))},findOne(i,t=document.documentElement){return Element.prototype.querySelector.call(t,i)},children(i,t){return[].concat(...i.children).filter(e=>e.matches(t))},parents(i,t){const e=[];let n=i.parentNode.closest(t);for(;n;)e.push(n),n=n.parentNode.closest(t);return e},prev(i,t){let e=i.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(i,t){let e=i.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(i){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,i).filter(e=>!Bn(e)&&Sr(e))}},mS="swipe",Ar=".bs.swipe",yS=`touchstart${Ar}`,ES=`touchmove${Ar}`,vS=`touchend${Ar}`,xS=`pointerdown${Ar}`,CS=`pointerup${Ar}`,TS="touch",bS="pen",wS="pointer-event",SS=40,AS={endCallback:null,leftCallback:null,rightCallback:null},IS={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Za extends Po{constructor(t,e){super(),this._element=t,!(!t||!Za.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return AS}static get DefaultType(){return IS}static get NAME(){return mS}dispose(){tt.off(this._element,Ar)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),an(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=SS)return;const e=t/this._deltaX;this._deltaX=0,e&&an(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(tt.on(this._element,xS,t=>this._start(t)),tt.on(this._element,CS,t=>this._end(t)),this._element.classList.add(wS)):(tt.on(this._element,yS,t=>this._start(t)),tt.on(this._element,ES,t=>this._move(t)),tt.on(this._element,vS,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===bS||t.pointerType===TS)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const RS="carousel",LS="bs.carousel",Yn=`.${LS}`,ym=".data-api",OS="ArrowLeft",DS="ArrowRight",MS=500,Br="next",Hs="prev",qs="left",Sa="right",PS=`slide${Yn}`,Sc=`slid${Yn}`,NS=`keydown${Yn}`,FS=`mouseenter${Yn}`,kS=`mouseleave${Yn}`,$S=`dragstart${Yn}`,WS=`load${Yn}${ym}`,jS=`click${Yn}${ym}`,Em="carousel",fa="active",BS="slide",HS="carousel-item-end",VS="carousel-item-start",zS="carousel-item-next",GS="carousel-item-prev",vm=".active",xm=".carousel-item",YS=vm+xm,XS=".carousel-item img",KS=".carousel-indicators",US="[data-bs-slide], [data-bs-slide-to]",qS='[data-bs-ride="carousel"]',ZS={[OS]:Sa,[DS]:qs},JS={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},QS={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class No extends Pi{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Wt.findOne(KS,this._element),this._addEventListeners(),this._config.ride===Em&&this.cycle()}static get Default(){return JS}static get DefaultType(){return QS}static get NAME(){return RS}next(){this._slide(Br)}nextWhenVisible(){!document.hidden&&Sr(this._element)&&this.next()}prev(){this._slide(Hs)}pause(){this._isSliding&&am(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){tt.one(this._element,Sc,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){tt.one(this._element,Sc,()=>this.to(t));return}const n=this._getItemIndex(this._getActive());if(n===t)return;const s=t>n?Br:Hs;this._slide(s,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&tt.on(this._element,NS,t=>this._keydown(t)),this._config.pause==="hover"&&(tt.on(this._element,FS,()=>this.pause()),tt.on(this._element,kS,()=>this._maybeEnableCycle())),this._config.touch&&Za.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of Wt.find(XS,this._element))tt.on(n,$S,s=>s.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(qs)),rightCallback:()=>this._slide(this._directionToOrder(Sa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),MS+this._config.interval))}};this._swipeHelper=new Za(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=ZS[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Wt.findOne(vm,this._indicatorsElement);e.classList.remove(fa),e.removeAttribute("aria-current");const n=Wt.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);n&&(n.classList.add(fa),n.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const n=this._getActive(),s=t===Br,r=e||wh(this._getItems(),n,s,this._config.wrap);if(r===n)return;const o=this._getItemIndex(r),l=x=>tt.trigger(this._element,x,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:o});if(l(PS).defaultPrevented||!n||!r)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const d=s?VS:HS,_=s?zS:GS;r.classList.add(_),Mo(r),n.classList.add(d),r.classList.add(d);const m=()=>{r.classList.remove(d,_),r.classList.add(fa),n.classList.remove(fa,_,d),this._isSliding=!1,l(Sc)};this._queueCallback(m,n,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(BS)}_getActive(){return Wt.findOne(YS,this._element)}_getItems(){return Wt.find(xm,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Ei()?t===qs?Hs:Br:t===qs?Br:Hs}_orderToDirection(t){return Ei()?t===Hs?qs:Sa:t===Hs?Sa:qs}static jQueryInterface(t){return this.each(function(){const e=No.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}tt.on(document,jS,US,function(i){const t=un(this);if(!t||!t.classList.contains(Em))return;i.preventDefault();const e=No.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");if(n){e.to(n),e._maybeEnableCycle();return}if(fn.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});tt.on(window,WS,()=>{const i=Wt.find(qS);for(const t of i)No.getOrCreateInstance(t)});xi(No);const tA="collapse",eA="bs.collapse",Fo=`.${eA}`,iA=".data-api",nA=`show${Fo}`,sA=`shown${Fo}`,rA=`hide${Fo}`,oA=`hidden${Fo}`,aA=`click${Fo}${iA}`,Ac="show",tr="collapse",da="collapsing",lA="collapsed",cA=`:scope .${tr} .${tr}`,uA="collapse-horizontal",hA="width",fA="height",dA=".collapse.show, .collapse.collapsing",fu='[data-bs-toggle="collapse"]',gA={parent:null,toggle:!0},pA={parent:"(null|element)",toggle:"boolean"};class xo extends Pi{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const n=Wt.find(fu);for(const s of n){const r=om(s),o=Wt.find(r).filter(l=>l===this._element);r!==null&&o.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return gA}static get DefaultType(){return pA}static get NAME(){return tA}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(dA).filter(l=>l!==this._element).map(l=>xo.getOrCreateInstance(l,{toggle:!1}))),t.length&&t[0]._isTransitioning||tt.trigger(this._element,nA).defaultPrevented)return;for(const l of t)l.hide();const n=this._getDimension();this._element.classList.remove(tr),this._element.classList.add(da),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(da),this._element.classList.add(tr,Ac),this._element.style[n]="",tt.trigger(this._element,sA)},o=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[n]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||tt.trigger(this._element,rA).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Mo(this._element),this._element.classList.add(da),this._element.classList.remove(tr,Ac);for(const s of this._triggerArray){const r=un(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(da),this._element.classList.add(tr),tt.trigger(this._element,oA)};this._element.style[e]="",this._queueCallback(n,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Ac)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=jn(t.parent),t}_getDimension(){return this._element.classList.contains(uA)?hA:fA}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(fu);for(const e of t){const n=un(e);n&&this._addAriaAndCollapsedClass([e],this._isShown(n))}}_getFirstLevelChildren(t){const e=Wt.find(cA,this._config.parent);return Wt.find(t,this._config.parent).filter(n=>!e.includes(n))}_addAriaAndCollapsedClass(t,e){if(!!t.length)for(const n of t)n.classList.toggle(lA,!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const n=xo.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}tt.on(document,aA,fu,function(i){(i.target.tagName==="A"||i.delegateTarget&&i.delegateTarget.tagName==="A")&&i.preventDefault();const t=om(this),e=Wt.find(t);for(const n of e)xo.getOrCreateInstance(n,{toggle:!1}).toggle()});xi(xo);const Ud="dropdown",_A="bs.dropdown",Os=`.${_A}`,Ah=".data-api",mA="Escape",qd="Tab",yA="ArrowUp",Zd="ArrowDown",EA=2,vA=`hide${Os}`,xA=`hidden${Os}`,CA=`show${Os}`,TA=`shown${Os}`,Cm=`click${Os}${Ah}`,Tm=`keydown${Os}${Ah}`,bA=`keyup${Os}${Ah}`,Zs="show",wA="dropup",SA="dropend",AA="dropstart",IA="dropup-center",RA="dropdown-center",Es='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',LA=`${Es}.${Zs}`,Aa=".dropdown-menu",OA=".navbar",DA=".navbar-nav",MA=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PA=Ei()?"top-end":"top-start",NA=Ei()?"top-start":"top-end",FA=Ei()?"bottom-end":"bottom-start",kA=Ei()?"bottom-start":"bottom-end",$A=Ei()?"left-start":"right-start",WA=Ei()?"right-start":"left-start",jA="top",BA="bottom",HA={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},VA={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ki extends Pi{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Wt.next(this._element,Aa)[0]||Wt.prev(this._element,Aa)[0]||Wt.findOne(Aa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return HA}static get DefaultType(){return VA}static get NAME(){return Ud}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Bn(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!tt.trigger(this._element,CA,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(DA))for(const n of[].concat(...document.body.children))tt.on(n,"mouseover",qa);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Zs),this._element.classList.add(Zs),tt.trigger(this._element,TA,t)}}hide(){if(Bn(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!tt.trigger(this._element,vA,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))tt.off(n,"mouseover",qa);this._popper&&this._popper.destroy(),this._menu.classList.remove(Zs),this._element.classList.remove(Zs),this._element.setAttribute("aria-expanded","false"),fn.removeDataAttribute(this._menu,"popper"),tt.trigger(this._element,xA,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!hn(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Ud.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof sm>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:hn(this._config.reference)?t=jn(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=bh(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Zs)}_getPlacement(){const t=this._parent;if(t.classList.contains(SA))return $A;if(t.classList.contains(AA))return WA;if(t.classList.contains(IA))return jA;if(t.classList.contains(RA))return BA;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(wA)?e?NA:PA:e?kA:FA}_detectNavbar(){return this._element.closest(OA)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(fn.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const n=Wt.find(MA,this._menu).filter(s=>Sr(s));!n.length||wh(n,e,t===Zd,!n.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Ki.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===EA||t.type==="keyup"&&t.key!==qd)return;const e=Wt.find(LA);for(const n of e){const s=Ki.getInstance(n);if(!s||s._config.autoClose===!1)continue;const r=t.composedPath(),o=r.includes(s._menu);if(r.includes(s._element)||s._config.autoClose==="inside"&&!o||s._config.autoClose==="outside"&&o||s._menu.contains(t.target)&&(t.type==="keyup"&&t.key===qd||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const l={relatedTarget:s._element};t.type==="click"&&(l.clickEvent=t),s._completeHide(l)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),n=t.key===mA,s=[yA,Zd].includes(t.key);if(!s&&!n||e&&!n)return;t.preventDefault();const r=this.matches(Es)?this:Wt.prev(this,Es)[0]||Wt.next(this,Es)[0]||Wt.findOne(Es,t.delegateTarget.parentNode),o=Ki.getOrCreateInstance(r);if(s){t.stopPropagation(),o.show(),o._selectMenuItem(t);return}o._isShown()&&(t.stopPropagation(),o.hide(),r.focus())}}tt.on(document,Tm,Es,Ki.dataApiKeydownHandler);tt.on(document,Tm,Aa,Ki.dataApiKeydownHandler);tt.on(document,Cm,Ki.clearMenus);tt.on(document,bA,Ki.clearMenus);tt.on(document,Cm,Es,function(i){i.preventDefault(),Ki.getOrCreateInstance(this).toggle()});xi(Ki);const Jd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Qd=".sticky-top",ga="padding-right",tg="margin-right";class du{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ga,e=>e+t),this._setElementAttributes(Jd,ga,e=>e+t),this._setElementAttributes(Qd,tg,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ga),this._resetElementAttributes(Jd,ga),this._resetElementAttributes(Qd,tg)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const s=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,e);const l=window.getComputedStyle(o).getPropertyValue(e);o.style.setProperty(e,`${n(Number.parseFloat(l))}px`)};this._applyManipulationCallback(t,r)}_saveInitialAttribute(t,e){const n=t.style.getPropertyValue(e);n&&fn.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){const n=s=>{const r=fn.getDataAttribute(s,e);if(r===null){s.style.removeProperty(e);return}fn.removeDataAttribute(s,e),s.style.setProperty(e,r)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,e){if(hn(t)){e(t);return}for(const n of Wt.find(t,this._element))e(n)}}const bm="backdrop",zA="fade",eg="show",ig=`mousedown.bs.${bm}`,GA={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},YA={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class wm extends Po{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return GA}static get DefaultType(){return YA}static get NAME(){return bm}show(t){if(!this._config.isVisible){an(t);return}this._append();const e=this._getElement();this._config.isAnimated&&Mo(e),e.classList.add(eg),this._emulateAnimation(()=>{an(t)})}hide(t){if(!this._config.isVisible){an(t);return}this._getElement().classList.remove(eg),this._emulateAnimation(()=>{this.dispose(),an(t)})}dispose(){!this._isAppended||(tt.off(this._element,ig),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(zA),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=jn(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),tt.on(t,ig,()=>{an(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){um(t,this._getElement(),this._config.isAnimated)}}const XA="focustrap",KA="bs.focustrap",Ja=`.${KA}`,UA=`focusin${Ja}`,qA=`keydown.tab${Ja}`,ZA="Tab",JA="forward",ng="backward",QA={autofocus:!0,trapElement:null},tI={autofocus:"boolean",trapElement:"element"};class Sm extends Po{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return QA}static get DefaultType(){return tI}static get NAME(){return XA}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),tt.off(document,Ja),tt.on(document,UA,t=>this._handleFocusin(t)),tt.on(document,qA,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,tt.off(document,Ja))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const n=Wt.focusableChildren(e);n.length===0?e.focus():this._lastTabNavDirection===ng?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){t.key===ZA&&(this._lastTabNavDirection=t.shiftKey?ng:JA)}}const eI="modal",iI="bs.modal",Ni=`.${iI}`,nI=".data-api",sI="Escape",rI=`hide${Ni}`,oI=`hidePrevented${Ni}`,Am=`hidden${Ni}`,Im=`show${Ni}`,aI=`shown${Ni}`,lI=`resize${Ni}`,cI=`click.dismiss${Ni}`,uI=`mousedown.dismiss${Ni}`,hI=`keydown.dismiss${Ni}`,fI=`click${Ni}${nI}`,sg="modal-open",dI="fade",rg="show",Ic="modal-static",gI=".modal.show",pI=".modal-dialog",_I=".modal-body",mI='[data-bs-toggle="modal"]',yI={backdrop:!0,focus:!0,keyboard:!0},EI={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Er extends Pi{constructor(t,e){super(t,e),this._dialog=Wt.findOne(pI,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new du,this._addEventListeners()}static get Default(){return yI}static get DefaultType(){return EI}static get NAME(){return eI}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||tt.trigger(this._element,Im,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(sg),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||tt.trigger(this._element,rI).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(rg),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])tt.off(t,Ni);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new wm({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Sm({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Wt.findOne(_I,this._dialog);e&&(e.scrollTop=0),Mo(this._element),this._element.classList.add(rg);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,tt.trigger(this._element,aI,{relatedTarget:t})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){tt.on(this._element,hI,t=>{if(t.key===sI){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),tt.on(window,lI,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),tt.on(this._element,uI,t=>{tt.one(this._element,cI,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(sg),this._resetAdjustments(),this._scrollBar.reset(),tt.trigger(this._element,Am)})}_isAnimated(){return this._element.classList.contains(dI)}_triggerBackdropTransition(){if(tt.trigger(this._element,oI).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(Ic)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Ic),this._queueCallback(()=>{this._element.classList.remove(Ic),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;if(n&&!t){const s=Ei()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!n&&t){const s=Ei()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const n=Er.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](e)}})}}tt.on(document,fI,mI,function(i){const t=un(this);["A","AREA"].includes(this.tagName)&&i.preventDefault(),tt.one(t,Im,s=>{s.defaultPrevented||tt.one(t,Am,()=>{Sr(this)&&this.focus()})});const e=Wt.findOne(gI);e&&Er.getInstance(e).hide(),Er.getOrCreateInstance(t).toggle(this)});Rl(Er);xi(Er);const vI="offcanvas",xI="bs.offcanvas",yn=`.${xI}`,Rm=".data-api",CI=`load${yn}${Rm}`,TI="Escape",og="show",ag="showing",lg="hiding",bI="offcanvas-backdrop",Lm=".offcanvas.show",wI=`show${yn}`,SI=`shown${yn}`,AI=`hide${yn}`,cg=`hidePrevented${yn}`,Om=`hidden${yn}`,II=`resize${yn}`,RI=`click${yn}${Rm}`,LI=`keydown.dismiss${yn}`,OI='[data-bs-toggle="offcanvas"]',DI={backdrop:!0,keyboard:!0,scroll:!1},MI={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Hn extends Pi{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return DI}static get DefaultType(){return MI}static get NAME(){return vI}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||tt.trigger(this._element,wI,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new du().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ag);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(og),this._element.classList.remove(ag),tt.trigger(this._element,SI,{relatedTarget:t})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||tt.trigger(this._element,AI).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(lg),this._backdrop.hide();const e=()=>{this._element.classList.remove(og,lg),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new du().reset(),tt.trigger(this._element,Om)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){tt.trigger(this._element,cg);return}this.hide()},e=Boolean(this._config.backdrop);return new wm({className:bI,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new Sm({trapElement:this._element})}_addEventListeners(){tt.on(this._element,LI,t=>{if(t.key===TI){if(!this._config.keyboard){tt.trigger(this._element,cg);return}this.hide()}})}static jQueryInterface(t){return this.each(function(){const e=Hn.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}tt.on(document,RI,OI,function(i){const t=un(this);if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Bn(this))return;tt.one(t,Om,()=>{Sr(this)&&this.focus()});const e=Wt.findOne(Lm);e&&e!==t&&Hn.getInstance(e).hide(),Hn.getOrCreateInstance(t).toggle(this)});tt.on(window,CI,()=>{for(const i of Wt.find(Lm))Hn.getOrCreateInstance(i).show()});tt.on(window,II,()=>{for(const i of Wt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(i).position!=="fixed"&&Hn.getOrCreateInstance(i).hide()});Rl(Hn);xi(Hn);const PI=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),NI=/^aria-[\w-]*$/i,FI=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,kI=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,$I=(i,t)=>{const e=i.nodeName.toLowerCase();return t.includes(e)?PI.has(e)?Boolean(FI.test(i.nodeValue)||kI.test(i.nodeValue)):!0:t.filter(n=>n instanceof RegExp).some(n=>n.test(e))},Dm={"*":["class","dir","id","lang","role",NI],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function WI(i,t,e){if(!i.length)return i;if(e&&typeof e=="function")return e(i);const s=new window.DOMParser().parseFromString(i,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const o of r){const l=o.nodeName.toLowerCase();if(!Object.keys(t).includes(l)){o.remove();continue}const c=[].concat(...o.attributes),h=[].concat(t["*"]||[],t[l]||[]);for(const d of c)$I(d,h)||o.removeAttribute(d.nodeName)}return s.body.innerHTML}const jI="TemplateFactory",BI={allowList:Dm,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},HI={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},VI={entry:"(string|element|function|null)",selector:"(string|element)"};class zI extends Po{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return BI}static get DefaultType(){return HI}static get NAME(){return jI}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(t,r,s);const e=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&e.classList.add(...n.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,n]of Object.entries(t))super._typeCheckConfig({selector:e,entry:n},VI)}_setContent(t,e,n){const s=Wt.findOne(n,t);if(!!s){if(e=this._resolvePossibleFunction(e),!e){s.remove();return}if(hn(e)){this._putElementInTemplate(jn(e),s);return}if(this._config.html){s.innerHTML=this._maybeSanitize(e);return}s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?WI(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return typeof t=="function"?t(this):t}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const GI="tooltip",YI=new Set(["sanitize","allowList","sanitizeFn"]),Rc="fade",XI="modal",pa="show",KI=".tooltip-inner",ug=`.${XI}`,hg="hide.bs.modal",Hr="hover",Lc="focus",UI="click",qI="manual",ZI="hide",JI="hidden",QI="show",tR="shown",eR="inserted",iR="click",nR="focusin",sR="focusout",rR="mouseenter",oR="mouseleave",aR={AUTO:"auto",TOP:"top",RIGHT:Ei()?"left":"right",BOTTOM:"bottom",LEFT:Ei()?"right":"left"},lR={allowList:Dm,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},cR={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ir extends Pi{constructor(t,e){if(typeof sm>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return lR}static get DefaultType(){return cR}static get NAME(){return GI}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(!!this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),tt.off(this._element.closest(ug),hg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=tt.trigger(this._element,this.constructor.eventName(QI)),n=(lm(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!n)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),tt.trigger(this._element,this.constructor.eventName(eR))),this._popper=this._createPopper(s),s.classList.add(pa),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))tt.on(l,"mouseover",qa);const o=()=>{tt.trigger(this._element,this.constructor.eventName(tR)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||tt.trigger(this._element,this.constructor.eventName(ZI)).defaultPrevented)return;if(this._getTipElement().classList.remove(pa),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))tt.off(s,"mouseover",qa);this._activeTrigger[UI]=!1,this._activeTrigger[Lc]=!1,this._activeTrigger[Hr]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),tt.trigger(this._element,this.constructor.eventName(JI)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(Rc,pa),e.classList.add(`bs-${this.constructor.NAME}-auto`);const n=K1(this.constructor.NAME).toString();return e.setAttribute("id",n),this._isAnimated()&&e.classList.add(Rc),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new zI({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[KI]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Rc)}_isShown(){return this.tip&&this.tip.classList.contains(pa)}_createPopper(t){const e=typeof this._config.placement=="function"?this._config.placement.call(this,t,this._element):this._config.placement,n=aR[e.toUpperCase()];return bh(this._element,t,this._getPopperConfig(n))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return typeof t=="function"?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")tt.on(this._element,this.constructor.eventName(iR),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(e!==qI){const n=e===Hr?this.constructor.eventName(rR):this.constructor.eventName(nR),s=e===Hr?this.constructor.eventName(oR):this.constructor.eventName(sR);tt.on(this._element,n,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?Lc:Hr]=!0,o._enter()}),tt.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?Lc:Hr]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},tt.on(this._element.closest(ug),hg,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=fn.getDataAttributes(this._element);for(const n of Object.keys(e))YI.has(n)&&delete e[n];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:jn(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Ir.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}xi(Ir);const uR="popover",hR=".popover-header",fR=".popover-body",dR={...Ir.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gR={...Ir.DefaultType,content:"(null|string|element|function)"};class Ih extends Ir{static get Default(){return dR}static get DefaultType(){return gR}static get NAME(){return uR}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[hR]:this._getTitle(),[fR]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=Ih.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}xi(Ih);const pR="scrollspy",_R="bs.scrollspy",Rh=`.${_R}`,mR=".data-api",yR=`activate${Rh}`,fg=`click${Rh}`,ER=`load${Rh}${mR}`,vR="dropdown-item",Vs="active",xR='[data-bs-spy="scroll"]',Oc="[href]",CR=".nav, .list-group",dg=".nav-link",TR=".nav-item",bR=".list-group-item",wR=`${dg}, ${TR} > ${dg}, ${bR}`,SR=".dropdown",AR=".dropdown-toggle",IR={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},RR={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Dl extends Pi{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return IR}static get DefaultType(){return RR}static get NAME(){return pR}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=jn(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(tt.off(this._config.target,fg),tt.on(this._config.target,fg,Oc,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const n=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:s,behavior:"smooth"});return}n.scrollTop=s}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=o=>this._targetLinks.get(`#${o.target.id}`),n=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(e(o))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&l){if(n(o),!s)return;continue}!r&&!l&&n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Wt.find(Oc,this._config.target);for(const e of t){if(!e.hash||Bn(e))continue;const n=Wt.findOne(e.hash,this._element);Sr(n)&&(this._targetLinks.set(e.hash,e),this._observableSections.set(e.hash,n))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Vs),this._activateParents(t),tt.trigger(this._element,yR,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(vR)){Wt.findOne(AR,t.closest(SR)).classList.add(Vs);return}for(const e of Wt.parents(t,CR))for(const n of Wt.prev(e,wR))n.classList.add(Vs)}_clearActiveClass(t){t.classList.remove(Vs);const e=Wt.find(`${Oc}.${Vs}`,t);for(const n of e)n.classList.remove(Vs)}static jQueryInterface(t){return this.each(function(){const e=Dl.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}tt.on(window,ER,()=>{for(const i of Wt.find(xR))Dl.getOrCreateInstance(i)});xi(Dl);const LR="tab",OR="bs.tab",Ds=`.${OR}`,DR=`hide${Ds}`,MR=`hidden${Ds}`,PR=`show${Ds}`,NR=`shown${Ds}`,FR=`click${Ds}`,kR=`keydown${Ds}`,$R=`load${Ds}`,WR="ArrowLeft",gg="ArrowRight",jR="ArrowUp",pg="ArrowDown",vs="active",_g="fade",Dc="show",BR="dropdown",HR=".dropdown-toggle",VR=".dropdown-menu",Mc=":not(.dropdown-toggle)",zR='.list-group, .nav, [role="tablist"]',GR=".nav-item, .list-group-item",YR=`.nav-link${Mc}, .list-group-item${Mc}, [role="tab"]${Mc}`,Mm='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Pc=`${YR}, ${Mm}`,XR=`.${vs}[data-bs-toggle="tab"], .${vs}[data-bs-toggle="pill"], .${vs}[data-bs-toggle="list"]`;class vr extends Pi{constructor(t){super(t),this._parent=this._element.closest(zR),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),tt.on(this._element,kR,e=>this._keydown(e)))}static get NAME(){return LR}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),n=e?tt.trigger(e,DR,{relatedTarget:t}):null;tt.trigger(t,PR,{relatedTarget:e}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(vs),this._activate(un(t));const n=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Dc);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),tt.trigger(t,NR,{relatedTarget:e})};this._queueCallback(n,t,t.classList.contains(_g))}_deactivate(t,e){if(!t)return;t.classList.remove(vs),t.blur(),this._deactivate(un(t));const n=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Dc);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),tt.trigger(t,MR,{relatedTarget:e})};this._queueCallback(n,t,t.classList.contains(_g))}_keydown(t){if(![WR,gg,jR,pg].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=[gg,pg].includes(t.key),n=wh(this._getChildren().filter(s=>!Bn(s)),t.target,e,!0);n&&(n.focus({preventScroll:!0}),vr.getOrCreateInstance(n).show())}_getChildren(){return Wt.find(Pc,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const n of e)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",e),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=un(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,e){const n=this._getOuterElement(t);if(!n.classList.contains(BR))return;const s=(r,o)=>{const l=Wt.findOne(r,n);l&&l.classList.toggle(o,e)};s(HR,vs),s(VR,Dc),n.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,n){t.hasAttribute(e)||t.setAttribute(e,n)}_elemIsActive(t){return t.classList.contains(vs)}_getInnerElement(t){return t.matches(Pc)?t:Wt.findOne(Pc,t)}_getOuterElement(t){return t.closest(GR)||t}static jQueryInterface(t){return this.each(function(){const e=vr.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}tt.on(document,FR,Mm,function(i){["A","AREA"].includes(this.tagName)&&i.preventDefault(),!Bn(this)&&vr.getOrCreateInstance(this).show()});tt.on(window,$R,()=>{for(const i of Wt.find(XR))vr.getOrCreateInstance(i)});xi(vr);const KR="toast",UR="bs.toast",Xn=`.${UR}`,qR=`mouseover${Xn}`,ZR=`mouseout${Xn}`,JR=`focusin${Xn}`,QR=`focusout${Xn}`,tL=`hide${Xn}`,eL=`hidden${Xn}`,iL=`show${Xn}`,nL=`shown${Xn}`,sL="fade",mg="hide",_a="show",ma="showing",rL={animation:"boolean",autohide:"boolean",delay:"number"},oL={animation:!0,autohide:!0,delay:5e3};class Ml extends Pi{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return oL}static get DefaultType(){return rL}static get NAME(){return KR}show(){if(tt.trigger(this._element,iL).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(sL);const e=()=>{this._element.classList.remove(ma),tt.trigger(this._element,nL),this._maybeScheduleHide()};this._element.classList.remove(mg),Mo(this._element),this._element.classList.add(_a,ma),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||tt.trigger(this._element,tL).defaultPrevented)return;const e=()=>{this._element.classList.add(mg),this._element.classList.remove(ma,_a),tt.trigger(this._element,eL)};this._element.classList.add(ma),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(_a),super.dispose()}isShown(){return this._element.classList.contains(_a)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){tt.on(this._element,qR,t=>this._onInteraction(t,!0)),tt.on(this._element,ZR,t=>this._onInteraction(t,!1)),tt.on(this._element,JR,t=>this._onInteraction(t,!0)),tt.on(this._element,QR,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Ml.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Rl(Ml);xi(Ml);Qv(s1).mount("#app");
