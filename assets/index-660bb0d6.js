(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function Wh(i,e){const t=Object.create(null),n=i.split(",");for(let s=0;s<n.length;s++)t[n[s]]=!0;return e?s=>!!t[s.toLowerCase()]:s=>!!t[s]}function fc(i){if(De(i)){const e={};for(let t=0;t<i.length;t++){const n=i[t],s=Ft(n)?$v(n):fc(n);if(s)for(const r in s)e[r]=s[r]}return e}else{if(Ft(i))return i;if(_t(i))return i}}const kv=/;(?![^(]*\))/g,Gv=/:([^]+)/,jv=/\/\*.*?\*\//gs;function $v(i){const e={};return i.replace(jv,"").split(kv).forEach(t=>{if(t){const n=t.split(Gv);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Yi(i){let e="";if(Ft(i))e=i;else if(De(i))for(let t=0;t<i.length;t++){const n=Yi(i[t]);n&&(e+=n+" ")}else if(_t(i))for(const t in i)i[t]&&(e+=t+" ");return e.trim()}function Vv(i){if(!i)return null;let{class:e,style:t}=i;return e&&!Ft(e)&&(i.class=Yi(e)),t&&(i.style=fc(t)),i}const Wv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bv=Wh(Wv);function xm(i){return!!i||i===""}function zv(i,e){if(i.length!==e.length)return!1;let t=!0;for(let n=0;t&&n<i.length;n++)t=gc(i[n],e[n]);return t}function gc(i,e){if(i===e)return!0;let t=cg(i),n=cg(e);if(t||n)return t&&n?i.getTime()===e.getTime():!1;if(t=Qo(i),n=Qo(e),t||n)return i===e;if(t=De(i),n=De(e),t||n)return t&&n?zv(i,e):!1;if(t=_t(i),n=_t(e),t||n){if(!t||!n)return!1;const s=Object.keys(i).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in i){const a=i.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!gc(i[o],e[o]))return!1}}return String(i)===String(e)}function Hv(i,e){return i.findIndex(t=>gc(t,e))}const Jo=i=>Ft(i)?i:i==null?"":De(i)||_t(i)&&(i.toString===bm||!He(i.toString))?JSON.stringify(i,Tm,2):String(i),Tm=(i,e)=>e&&e.__v_isRef?Tm(i,e.value):Vr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,s])=>(t[`${n} =>`]=s,t),{})}:mc(e)?{[`Set(${e.size})`]:[...e.values()]}:_t(e)&&!De(e)&&!Sm(e)?String(e):e,mt={},$r=[],Ui=()=>{},Yv=()=>!1,Uv=/^on[^a-z]/,pc=i=>Uv.test(i),Bh=i=>i.startsWith("onUpdate:"),ni=Object.assign,zh=(i,e)=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)},Xv=Object.prototype.hasOwnProperty,Qe=(i,e)=>Xv.call(i,e),De=Array.isArray,Vr=i=>wa(i)==="[object Map]",mc=i=>wa(i)==="[object Set]",cg=i=>wa(i)==="[object Date]",He=i=>typeof i=="function",Ft=i=>typeof i=="string",Qo=i=>typeof i=="symbol",_t=i=>i!==null&&typeof i=="object",wm=i=>_t(i)&&He(i.then)&&He(i.catch),bm=Object.prototype.toString,wa=i=>bm.call(i),Kv=i=>wa(i).slice(8,-1),Sm=i=>wa(i)==="[object Object]",Hh=i=>Ft(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,bl=Wh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_c=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},qv=/-(\w)/g,Kr=_c(i=>i.replace(qv,(e,t)=>t?t.toUpperCase():"")),Zv=/\B([A-Z])/g,ho=_c(i=>i.replace(Zv,"-$1").toLowerCase()),Rm=_c(i=>i.charAt(0).toUpperCase()+i.slice(1)),Eu=_c(i=>i?`on${Rm(i)}`:""),ea=(i,e)=>!Object.is(i,e),Sl=(i,e)=>{for(let t=0;t<i.length;t++)i[t](e)},Fl=(i,e,t)=>{Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value:t})},Yh=i=>{const e=parseFloat(i);return isNaN(e)?i:e};let ug;const Jv=()=>ug||(ug=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let sn;class Qv{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=sn,!e&&sn&&(this.index=(sn.scopes||(sn.scopes=[])).push(this)-1)}run(e){if(this.active){const t=sn;try{return sn=this,e()}finally{sn=t}}}on(){sn=this}off(){sn=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function eC(i,e=sn){e&&e.active&&e.effects.push(i)}const Uh=i=>{const e=new Set(i);return e.w=0,e.n=0,e},Am=i=>(i.w&ps)>0,Im=i=>(i.n&ps)>0,tC=({deps:i})=>{if(i.length)for(let e=0;e<i.length;e++)i[e].w|=ps},iC=i=>{const{deps:e}=i;if(e.length){let t=0;for(let n=0;n<e.length;n++){const s=e[n];Am(s)&&!Im(s)?s.delete(i):e[t++]=s,s.w&=~ps,s.n&=~ps}e.length=t}},ih=new WeakMap;let $o=0,ps=1;const nh=30;let Vi;const Qs=Symbol(""),sh=Symbol("");class Xh{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,eC(this,n)}run(){if(!this.active)return this.fn();let e=Vi,t=us;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Vi,Vi=this,us=!0,ps=1<<++$o,$o<=nh?tC(this):hg(this),this.fn()}finally{$o<=nh&&iC(this),ps=1<<--$o,Vi=this.parent,us=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Vi===this?this.deferStop=!0:this.active&&(hg(this),this.onStop&&this.onStop(),this.active=!1)}}function hg(i){const{deps:e}=i;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(i);e.length=0}}let us=!0;const Lm=[];function fo(){Lm.push(us),us=!1}function go(){const i=Lm.pop();us=i===void 0?!0:i}function xi(i,e,t){if(us&&Vi){let n=ih.get(i);n||ih.set(i,n=new Map);let s=n.get(t);s||n.set(t,s=Uh()),Om(s)}}function Om(i,e){let t=!1;$o<=nh?Im(i)||(i.n|=ps,t=!Am(i)):t=!i.has(Vi),t&&(i.add(Vi),Vi.deps.push(i))}function Gn(i,e,t,n,s,r){const o=ih.get(i);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&De(i)){const l=Yh(n);o.forEach((u,h)=>{(h==="length"||h>=l)&&a.push(u)})}else switch(t!==void 0&&a.push(o.get(t)),e){case"add":De(i)?Hh(t)&&a.push(o.get("length")):(a.push(o.get(Qs)),Vr(i)&&a.push(o.get(sh)));break;case"delete":De(i)||(a.push(o.get(Qs)),Vr(i)&&a.push(o.get(sh)));break;case"set":Vr(i)&&a.push(o.get(Qs));break}if(a.length===1)a[0]&&rh(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);rh(Uh(l))}}function rh(i,e){const t=De(i)?i:[...i];for(const n of t)n.computed&&dg(n);for(const n of t)n.computed||dg(n)}function dg(i,e){(i!==Vi||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const nC=Wh("__proto__,__v_isRef,__isVue"),Pm=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Qo)),sC=Kh(),rC=Kh(!1,!0),oC=Kh(!0),fg=aC();function aC(){const i={};return["includes","indexOf","lastIndexOf"].forEach(e=>{i[e]=function(...t){const n=at(this);for(let r=0,o=this.length;r<o;r++)xi(n,"get",r+"");const s=n[e](...t);return s===-1||s===!1?n[e](...t.map(at)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{i[e]=function(...t){fo();const n=at(this)[e].apply(this,t);return go(),n}}),i}function Kh(i=!1,e=!1){return function(n,s,r){if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&r===(i?e?TC:km:e?Nm:Fm).get(n))return n;const o=De(n);if(!i&&o&&Qe(fg,s))return Reflect.get(fg,s,r);const a=Reflect.get(n,s,r);return(Qo(s)?Pm.has(s):nC(s))||(i||xi(n,"get",s),e)?a:Zt(a)?o&&Hh(s)?a:a.value:_t(a)?i?Gm(a):fn(a):a}}const lC=Mm(),cC=Mm(!0);function Mm(i=!1){return function(t,n,s,r){let o=t[n];if(qr(o)&&Zt(o)&&!Zt(s))return!1;if(!i&&(!Nl(s)&&!qr(s)&&(o=at(o),s=at(s)),!De(t)&&Zt(o)&&!Zt(s)))return o.value=s,!0;const a=De(t)&&Hh(n)?Number(n)<t.length:Qe(t,n),l=Reflect.set(t,n,s,r);return t===at(r)&&(a?ea(s,o)&&Gn(t,"set",n,s):Gn(t,"add",n,s)),l}}function uC(i,e){const t=Qe(i,e);i[e];const n=Reflect.deleteProperty(i,e);return n&&t&&Gn(i,"delete",e,void 0),n}function hC(i,e){const t=Reflect.has(i,e);return(!Qo(e)||!Pm.has(e))&&xi(i,"has",e),t}function dC(i){return xi(i,"iterate",De(i)?"length":Qs),Reflect.ownKeys(i)}const Dm={get:sC,set:lC,deleteProperty:uC,has:hC,ownKeys:dC},fC={get:oC,set(i,e){return!0},deleteProperty(i,e){return!0}},gC=ni({},Dm,{get:rC,set:cC}),qh=i=>i,yc=i=>Reflect.getPrototypeOf(i);function Qa(i,e,t=!1,n=!1){i=i.__v_raw;const s=at(i),r=at(e);t||(e!==r&&xi(s,"get",e),xi(s,"get",r));const{has:o}=yc(s),a=n?qh:t?Qh:ta;if(o.call(s,e))return a(i.get(e));if(o.call(s,r))return a(i.get(r));i!==s&&i.get(e)}function el(i,e=!1){const t=this.__v_raw,n=at(t),s=at(i);return e||(i!==s&&xi(n,"has",i),xi(n,"has",s)),i===s?t.has(i):t.has(i)||t.has(s)}function tl(i,e=!1){return i=i.__v_raw,!e&&xi(at(i),"iterate",Qs),Reflect.get(i,"size",i)}function gg(i){i=at(i);const e=at(this);return yc(e).has.call(e,i)||(e.add(i),Gn(e,"add",i,i)),this}function pg(i,e){e=at(e);const t=at(this),{has:n,get:s}=yc(t);let r=n.call(t,i);r||(i=at(i),r=n.call(t,i));const o=s.call(t,i);return t.set(i,e),r?ea(e,o)&&Gn(t,"set",i,e):Gn(t,"add",i,e),this}function mg(i){const e=at(this),{has:t,get:n}=yc(e);let s=t.call(e,i);s||(i=at(i),s=t.call(e,i)),n&&n.call(e,i);const r=e.delete(i);return s&&Gn(e,"delete",i,void 0),r}function _g(){const i=at(this),e=i.size!==0,t=i.clear();return e&&Gn(i,"clear",void 0,void 0),t}function il(i,e){return function(n,s){const r=this,o=r.__v_raw,a=at(o),l=e?qh:i?Qh:ta;return!i&&xi(a,"iterate",Qs),o.forEach((u,h)=>n.call(s,l(u),l(h),r))}}function nl(i,e,t){return function(...n){const s=this.__v_raw,r=at(s),o=Vr(r),a=i==="entries"||i===Symbol.iterator&&o,l=i==="keys"&&o,u=s[i](...n),h=t?qh:e?Qh:ta;return!e&&xi(r,"iterate",l?sh:Qs),{next(){const{value:f,done:m}=u.next();return m?{value:f,done:m}:{value:a?[h(f[0]),h(f[1])]:h(f),done:m}},[Symbol.iterator](){return this}}}}function Xn(i){return function(...e){return i==="delete"?!1:this}}function pC(){const i={get(r){return Qa(this,r)},get size(){return tl(this)},has:el,add:gg,set:pg,delete:mg,clear:_g,forEach:il(!1,!1)},e={get(r){return Qa(this,r,!1,!0)},get size(){return tl(this)},has:el,add:gg,set:pg,delete:mg,clear:_g,forEach:il(!1,!0)},t={get(r){return Qa(this,r,!0)},get size(){return tl(this,!0)},has(r){return el.call(this,r,!0)},add:Xn("add"),set:Xn("set"),delete:Xn("delete"),clear:Xn("clear"),forEach:il(!0,!1)},n={get(r){return Qa(this,r,!0,!0)},get size(){return tl(this,!0)},has(r){return el.call(this,r,!0)},add:Xn("add"),set:Xn("set"),delete:Xn("delete"),clear:Xn("clear"),forEach:il(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=nl(r,!1,!1),t[r]=nl(r,!0,!1),e[r]=nl(r,!1,!0),n[r]=nl(r,!0,!0)}),[i,t,e,n]}const[mC,_C,yC,vC]=pC();function Zh(i,e){const t=e?i?vC:yC:i?_C:mC;return(n,s,r)=>s==="__v_isReactive"?!i:s==="__v_isReadonly"?i:s==="__v_raw"?n:Reflect.get(Qe(t,s)&&s in n?t:n,s,r)}const CC={get:Zh(!1,!1)},EC={get:Zh(!1,!0)},xC={get:Zh(!0,!1)},Fm=new WeakMap,Nm=new WeakMap,km=new WeakMap,TC=new WeakMap;function wC(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bC(i){return i.__v_skip||!Object.isExtensible(i)?0:wC(Kv(i))}function fn(i){return qr(i)?i:Jh(i,!1,Dm,CC,Fm)}function SC(i){return Jh(i,!1,gC,EC,Nm)}function Gm(i){return Jh(i,!0,fC,xC,km)}function Jh(i,e,t,n,s){if(!_t(i)||i.__v_raw&&!(e&&i.__v_isReactive))return i;const r=s.get(i);if(r)return r;const o=bC(i);if(o===0)return i;const a=new Proxy(i,o===2?n:t);return s.set(i,a),a}function Wr(i){return qr(i)?Wr(i.__v_raw):!!(i&&i.__v_isReactive)}function qr(i){return!!(i&&i.__v_isReadonly)}function Nl(i){return!!(i&&i.__v_isShallow)}function jm(i){return Wr(i)||qr(i)}function at(i){const e=i&&i.__v_raw;return e?at(e):i}function $m(i){return Fl(i,"__v_skip",!0),i}const ta=i=>_t(i)?fn(i):i,Qh=i=>_t(i)?Gm(i):i;function Vm(i){us&&Vi&&(i=at(i),Om(i.dep||(i.dep=Uh())))}function Wm(i,e){i=at(i),i.dep&&rh(i.dep)}function Zt(i){return!!(i&&i.__v_isRef===!0)}function Bo(i){return RC(i,!1)}function RC(i,e){return Zt(i)?i:new AC(i,e)}class AC{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:at(e),this._value=t?e:ta(e)}get value(){return Vm(this),this._value}set value(e){const t=this.__v_isShallow||Nl(e)||qr(e);e=t?e:at(e),ea(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:ta(e),Wm(this))}}function IC(i){return Zt(i)?i.value:i}const LC={get:(i,e,t)=>IC(Reflect.get(i,e,t)),set:(i,e,t,n)=>{const s=i[e];return Zt(s)&&!Zt(t)?(s.value=t,!0):Reflect.set(i,e,t,n)}};function Bm(i){return Wr(i)?i:new Proxy(i,LC)}var zm;class OC{constructor(e,t,n,s){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[zm]=!1,this._dirty=!0,this.effect=new Xh(e,()=>{this._dirty||(this._dirty=!0,Wm(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const e=at(this);return Vm(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}zm="__v_isReadonly";function PC(i,e,t=!1){let n,s;const r=He(i);return r?(n=i,s=Ui):(n=i.get,s=i.set),new OC(n,s,r||!s,t)}function hs(i,e,t,n){let s;try{s=n?i(...n):i()}catch(r){ba(r,e,t)}return s}function Xi(i,e,t,n){if(He(i)){const r=hs(i,e,t,n);return r&&wm(r)&&r.catch(o=>{ba(o,e,t)}),r}const s=[];for(let r=0;r<i.length;r++)s.push(Xi(i[r],e,t,n));return s}function ba(i,e,t,n=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=t;for(;r;){const u=r.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](i,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){hs(l,null,10,[i,o,a]);return}}MC(i,t,s,n)}function MC(i,e,t,n=!0){console.error(i)}let ia=!1,oh=!1;const qt=[];let on=0;const Br=[];let wn=null,Bs=0;const Hm=Promise.resolve();let ed=null;function ah(i){const e=ed||Hm;return i?e.then(this?i.bind(this):i):e}function DC(i){let e=on+1,t=qt.length;for(;e<t;){const n=e+t>>>1;na(qt[n])<i?e=n+1:t=n}return e}function vc(i){(!qt.length||!qt.includes(i,ia&&i.allowRecurse?on+1:on))&&(i.id==null?qt.push(i):qt.splice(DC(i.id),0,i),Ym())}function Ym(){!ia&&!oh&&(oh=!0,ed=Hm.then(Xm))}function FC(i){const e=qt.indexOf(i);e>on&&qt.splice(e,1)}function NC(i){De(i)?Br.push(...i):(!wn||!wn.includes(i,i.allowRecurse?Bs+1:Bs))&&Br.push(i),Ym()}function yg(i,e=ia?on+1:0){for(;e<qt.length;e++){const t=qt[e];t&&t.pre&&(qt.splice(e,1),e--,t())}}function Um(i){if(Br.length){const e=[...new Set(Br)];if(Br.length=0,wn){wn.push(...e);return}for(wn=e,wn.sort((t,n)=>na(t)-na(n)),Bs=0;Bs<wn.length;Bs++)wn[Bs]();wn=null,Bs=0}}const na=i=>i.id==null?1/0:i.id,kC=(i,e)=>{const t=na(i)-na(e);if(t===0){if(i.pre&&!e.pre)return-1;if(e.pre&&!i.pre)return 1}return t};function Xm(i){oh=!1,ia=!0,qt.sort(kC);const e=Ui;try{for(on=0;on<qt.length;on++){const t=qt[on];t&&t.active!==!1&&hs(t,null,14)}}finally{on=0,qt.length=0,Um(),ia=!1,ed=null,(qt.length||Br.length)&&Xm()}}function GC(i,e,...t){if(i.isUnmounted)return;const n=i.vnode.props||mt;let s=t;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in n){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:m}=n[h]||mt;m&&(s=t.map(y=>Ft(y)?y.trim():y)),f&&(s=t.map(Yh))}let a,l=n[a=Eu(e)]||n[a=Eu(Kr(e))];!l&&r&&(l=n[a=Eu(ho(e))]),l&&Xi(l,i,6,s);const u=n[a+"Once"];if(u){if(!i.emitted)i.emitted={};else if(i.emitted[a])return;i.emitted[a]=!0,Xi(u,i,6,s)}}function Km(i,e,t=!1){const n=e.emitsCache,s=n.get(i);if(s!==void 0)return s;const r=i.emits;let o={},a=!1;if(!He(i)){const l=u=>{const h=Km(u,e,!0);h&&(a=!0,ni(o,h))};!t&&e.mixins.length&&e.mixins.forEach(l),i.extends&&l(i.extends),i.mixins&&i.mixins.forEach(l)}return!r&&!a?(_t(i)&&n.set(i,null),null):(De(r)?r.forEach(l=>o[l]=null):ni(o,r),_t(i)&&n.set(i,o),o)}function Cc(i,e){return!i||!pc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qe(i,e[0].toLowerCase()+e.slice(1))||Qe(i,ho(e))||Qe(i,e))}let Wi=null,Ec=null;function kl(i){const e=Wi;return Wi=i,Ec=i&&i.type.__scopeId||null,e}function td(i){Ec=i}function id(){Ec=null}function jC(i,e=Wi,t){if(!e||i._n)return i;const n=(...s)=>{n._d&&Sg(-1);const r=kl(e);let o;try{o=i(...s)}finally{kl(r),n._d&&Sg(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function xu(i){const{type:e,vnode:t,proxy:n,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:u,render:h,renderCache:f,data:m,setupState:y,ctx:v,inheritAttrs:E}=i;let b,S;const A=kl(i);try{if(t.shapeFlag&4){const I=s||n;b=rn(h.call(I,I,f,r,y,m,v)),S=l}else{const I=e;b=rn(I.length>1?I(r,{attrs:l,slots:a,emit:u}):I(r,null)),S=e.props?l:$C(l)}}catch(I){Ho.length=0,ba(I,i,1),b=Lt(nr)}let R=b;if(S&&E!==!1){const I=Object.keys(S),{shapeFlag:D}=R;I.length&&D&7&&(o&&I.some(Bh)&&(S=VC(S,o)),R=Zr(R,S))}return t.dirs&&(R=Zr(R),R.dirs=R.dirs?R.dirs.concat(t.dirs):t.dirs),t.transition&&(R.transition=t.transition),b=R,kl(A),b}const $C=i=>{let e;for(const t in i)(t==="class"||t==="style"||pc(t))&&((e||(e={}))[t]=i[t]);return e},VC=(i,e)=>{const t={};for(const n in i)(!Bh(n)||!(n.slice(9)in e))&&(t[n]=i[n]);return t};function WC(i,e,t){const{props:n,children:s,component:r}=i,{props:o,children:a,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?vg(n,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const m=h[f];if(o[m]!==n[m]&&!Cc(u,m))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?vg(n,o,u):!0:!!o;return!1}function vg(i,e,t){const n=Object.keys(e);if(n.length!==Object.keys(i).length)return!0;for(let s=0;s<n.length;s++){const r=n[s];if(e[r]!==i[r]&&!Cc(t,r))return!0}return!1}function BC({vnode:i,parent:e},t){for(;e&&e.subTree===i;)(i=e.vnode).el=t,e=e.parent}const zC=i=>i.__isSuspense;function HC(i,e){e&&e.pendingBranch?De(i)?e.effects.push(...i):e.effects.push(i):NC(i)}function YC(i,e){if(zt){let t=zt.provides;const n=zt.parent&&zt.parent.provides;n===t&&(t=zt.provides=Object.create(n)),t[i]=e}}function Rl(i,e,t=!1){const n=zt||Wi;if(n){const s=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&i in s)return s[i];if(arguments.length>1)return t&&He(e)?e.call(n.proxy):e}}const sl={};function Tu(i,e,t){return qm(i,e,t)}function qm(i,e,{immediate:t,deep:n,flush:s,onTrack:r,onTrigger:o}=mt){const a=zt;let l,u=!1,h=!1;if(Zt(i)?(l=()=>i.value,u=Nl(i)):Wr(i)?(l=()=>i,n=!0):De(i)?(h=!0,u=i.some(R=>Wr(R)||Nl(R)),l=()=>i.map(R=>{if(Zt(R))return R.value;if(Wr(R))return Ys(R);if(He(R))return hs(R,a,2)})):He(i)?e?l=()=>hs(i,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),Xi(i,a,3,[m])}:l=Ui,e&&n){const R=l;l=()=>Ys(R())}let f,m=R=>{f=S.onStop=()=>{hs(R,a,4)}},y;if(Qr)if(m=Ui,e?t&&Xi(e,a,3,[l(),h?[]:void 0,m]):l(),s==="sync"){const R=$E();y=R.__watcherHandles||(R.__watcherHandles=[])}else return Ui;let v=h?new Array(i.length).fill(sl):sl;const E=()=>{if(S.active)if(e){const R=S.run();(n||u||(h?R.some((I,D)=>ea(I,v[D])):ea(R,v)))&&(f&&f(),Xi(e,a,3,[R,v===sl?void 0:h&&v[0]===sl?[]:v,m]),v=R)}else S.run()};E.allowRecurse=!!e;let b;s==="sync"?b=E:s==="post"?b=()=>hi(E,a&&a.suspense):(E.pre=!0,a&&(E.id=a.uid),b=()=>vc(E));const S=new Xh(l,b);e?t?E():v=S.run():s==="post"?hi(S.run.bind(S),a&&a.suspense):S.run();const A=()=>{S.stop(),a&&a.scope&&zh(a.scope.effects,S)};return y&&y.push(A),A}function UC(i,e,t){const n=this.proxy,s=Ft(i)?i.includes(".")?Zm(n,i):()=>n[i]:i.bind(n,n);let r;He(e)?r=e:(r=e.handler,t=e);const o=zt;Jr(this);const a=qm(s,r.bind(n),t);return o?Jr(o):er(),a}function Zm(i,e){const t=e.split(".");return()=>{let n=i;for(let s=0;s<t.length&&n;s++)n=n[t[s]];return n}}function Ys(i,e){if(!_t(i)||i.__v_skip||(e=e||new Set,e.has(i)))return i;if(e.add(i),Zt(i))Ys(i.value,e);else if(De(i))for(let t=0;t<i.length;t++)Ys(i[t],e);else if(mc(i)||Vr(i))i.forEach(t=>{Ys(t,e)});else if(Sm(i))for(const t in i)Ys(i[t],e);return i}function XC(i){return He(i)?{setup:i,name:i.name}:i}const Al=i=>!!i.type.__asyncLoader;function KC(i){He(i)&&(i={loader:i});const{loader:e,loadingComponent:t,errorComponent:n,delay:s=200,timeout:r,suspensible:o=!0,onError:a}=i;let l=null,u,h=0;const f=()=>(h++,l=null,m()),m=()=>{let y;return l||(y=l=e().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),a)return new Promise((E,b)=>{a(v,()=>E(f()),()=>b(v),h+1)});throw v}).then(v=>y!==l&&l?l:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),u=v,v)))};return XC({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return u},setup(){const y=zt;if(u)return()=>wu(u,y);const v=A=>{l=null,ba(A,y,13,!n)};if(o&&y.suspense||Qr)return m().then(A=>()=>wu(A,y)).catch(A=>(v(A),()=>n?Lt(n,{error:A}):null));const E=Bo(!1),b=Bo(),S=Bo(!!s);return s&&setTimeout(()=>{S.value=!1},s),r!=null&&setTimeout(()=>{if(!E.value&&!b.value){const A=new Error(`Async component timed out after ${r}ms.`);v(A),b.value=A}},r),m().then(()=>{E.value=!0,y.parent&&nd(y.parent.vnode)&&vc(y.parent.update)}).catch(A=>{v(A),b.value=A}),()=>{if(E.value&&u)return wu(u,y);if(b.value&&n)return Lt(n,{error:b.value});if(t&&!S.value)return Lt(t)}}})}function wu(i,e){const{ref:t,props:n,children:s,ce:r}=e.vnode,o=Lt(i,n,s);return o.ref=t,o.ce=r,delete e.vnode.ce,o}const nd=i=>i.type.__isKeepAlive;function qC(i,e){Jm(i,"a",e)}function ZC(i,e){Jm(i,"da",e)}function Jm(i,e,t=zt){const n=i.__wdc||(i.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return i()});if(xc(e,n,t),t){let s=t.parent;for(;s&&s.parent;)nd(s.parent.vnode)&&JC(n,e,t,s),s=s.parent}}function JC(i,e,t,n){const s=xc(e,i,n,!0);e_(()=>{zh(n[e],s)},t)}function xc(i,e,t=zt,n=!1){if(t){const s=t[i]||(t[i]=[]),r=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;fo(),Jr(t);const a=Xi(e,t,i,o);return er(),go(),a});return n?s.unshift(r):s.push(r),r}}const $n=i=>(e,t=zt)=>(!Qr||i==="sp")&&xc(i,(...n)=>e(...n),t),QC=$n("bm"),Qm=$n("m"),eE=$n("bu"),tE=$n("u"),iE=$n("bum"),e_=$n("um"),nE=$n("sp"),sE=$n("rtg"),rE=$n("rtc");function oE(i,e=zt){xc("ec",i,e)}function aE(i,e){const t=Wi;if(t===null)return i;const n=bc(t)||t.proxy,s=i.dirs||(i.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,u=mt]=e[r];o&&(He(o)&&(o={mounted:o,updated:o}),o.deep&&Ys(a),s.push({dir:o,instance:n,value:a,oldValue:void 0,arg:l,modifiers:u}))}return i}function Ns(i,e,t,n){const s=i.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&(fo(),Xi(l,t,8,[i.el,a,i,e]),go())}}const lE=Symbol();function sd(i,e,t,n){let s;const r=t&&t[n];if(De(i)||Ft(i)){s=new Array(i.length);for(let o=0,a=i.length;o<a;o++)s[o]=e(i[o],o,void 0,r&&r[o])}else if(typeof i=="number"){s=new Array(i);for(let o=0;o<i;o++)s[o]=e(o+1,o,void 0,r&&r[o])}else if(_t(i))if(i[Symbol.iterator])s=Array.from(i,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(i);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];s[a]=e(i[u],u,a,r&&r[a])}}else s=[];return t&&(t[n]=s),s}const lh=i=>i?f_(i)?bc(i)||i.proxy:lh(i.parent):null,zo=ni(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>lh(i.parent),$root:i=>lh(i.root),$emit:i=>i.emit,$options:i=>rd(i),$forceUpdate:i=>i.f||(i.f=()=>vc(i.update)),$nextTick:i=>i.n||(i.n=ah.bind(i.proxy)),$watch:i=>UC.bind(i)}),bu=(i,e)=>i!==mt&&!i.__isScriptSetup&&Qe(i,e),cE={get({_:i},e){const{ctx:t,setupState:n,data:s,props:r,accessCache:o,type:a,appContext:l}=i;let u;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return n[e];case 2:return s[e];case 4:return t[e];case 3:return r[e]}else{if(bu(n,e))return o[e]=1,n[e];if(s!==mt&&Qe(s,e))return o[e]=2,s[e];if((u=i.propsOptions[0])&&Qe(u,e))return o[e]=3,r[e];if(t!==mt&&Qe(t,e))return o[e]=4,t[e];ch&&(o[e]=0)}}const h=zo[e];let f,m;if(h)return e==="$attrs"&&xi(i,"get",e),h(i);if((f=a.__cssModules)&&(f=f[e]))return f;if(t!==mt&&Qe(t,e))return o[e]=4,t[e];if(m=l.config.globalProperties,Qe(m,e))return m[e]},set({_:i},e,t){const{data:n,setupState:s,ctx:r}=i;return bu(s,e)?(s[e]=t,!0):n!==mt&&Qe(n,e)?(n[e]=t,!0):Qe(i.props,e)||e[0]==="$"&&e.slice(1)in i?!1:(r[e]=t,!0)},has({_:{data:i,setupState:e,accessCache:t,ctx:n,appContext:s,propsOptions:r}},o){let a;return!!t[o]||i!==mt&&Qe(i,o)||bu(e,o)||(a=r[0])&&Qe(a,o)||Qe(n,o)||Qe(zo,o)||Qe(s.config.globalProperties,o)},defineProperty(i,e,t){return t.get!=null?i._.accessCache[e]=0:Qe(t,"value")&&this.set(i,e,t.value,null),Reflect.defineProperty(i,e,t)}};let ch=!0;function uE(i){const e=rd(i),t=i.proxy,n=i.ctx;ch=!1,e.beforeCreate&&Cg(e.beforeCreate,i,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:f,mounted:m,beforeUpdate:y,updated:v,activated:E,deactivated:b,beforeDestroy:S,beforeUnmount:A,destroyed:R,unmounted:I,render:D,renderTracked:p,renderTriggered:$,errorCaptured:W,serverPrefetch:Z,expose:ae,inheritAttrs:he,components:ue,directives:ve,filters:Ce}=e;if(u&&hE(u,n,null,i.appContext.config.unwrapInjectedRef),o)for(const X in o){const ce=o[X];He(ce)&&(n[X]=ce.bind(t))}if(s){const X=s.call(t,t);_t(X)&&(i.data=fn(X))}if(ch=!0,r)for(const X in r){const ce=r[X],Pe=He(ce)?ce.bind(t,t):He(ce.get)?ce.get.bind(t,t):Ui,Ve=!He(ce)&&He(ce.set)?ce.set.bind(t):Ui,We=fh({get:Pe,set:Ve});Object.defineProperty(n,X,{enumerable:!0,configurable:!0,get:()=>We.value,set:J=>We.value=J})}if(a)for(const X in a)t_(a[X],n,t,X);if(l){const X=He(l)?l.call(t):l;Reflect.ownKeys(X).forEach(ce=>{YC(ce,X[ce])})}h&&Cg(h,i,"c");function se(X,ce){De(ce)?ce.forEach(Pe=>X(Pe.bind(t))):ce&&X(ce.bind(t))}if(se(QC,f),se(Qm,m),se(eE,y),se(tE,v),se(qC,E),se(ZC,b),se(oE,W),se(rE,p),se(sE,$),se(iE,A),se(e_,I),se(nE,Z),De(ae))if(ae.length){const X=i.exposed||(i.exposed={});ae.forEach(ce=>{Object.defineProperty(X,ce,{get:()=>t[ce],set:Pe=>t[ce]=Pe})})}else i.exposed||(i.exposed={});D&&i.render===Ui&&(i.render=D),he!=null&&(i.inheritAttrs=he),ue&&(i.components=ue),ve&&(i.directives=ve)}function hE(i,e,t=Ui,n=!1){De(i)&&(i=uh(i));for(const s in i){const r=i[s];let o;_t(r)?"default"in r?o=Rl(r.from||s,r.default,!0):o=Rl(r.from||s):o=Rl(r),Zt(o)&&n?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[s]=o}}function Cg(i,e,t){Xi(De(i)?i.map(n=>n.bind(e.proxy)):i.bind(e.proxy),e,t)}function t_(i,e,t,n){const s=n.includes(".")?Zm(t,n):()=>t[n];if(Ft(i)){const r=e[i];He(r)&&Tu(s,r)}else if(He(i))Tu(s,i.bind(t));else if(_t(i))if(De(i))i.forEach(r=>t_(r,e,t,n));else{const r=He(i.handler)?i.handler.bind(t):e[i.handler];He(r)&&Tu(s,r,i)}}function rd(i){const e=i.type,{mixins:t,extends:n}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=i.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!t&&!n?l=e:(l={},s.length&&s.forEach(u=>Gl(l,u,o,!0)),Gl(l,e,o)),_t(e)&&r.set(e,l),l}function Gl(i,e,t,n=!1){const{mixins:s,extends:r}=e;r&&Gl(i,r,t,!0),s&&s.forEach(o=>Gl(i,o,t,!0));for(const o in e)if(!(n&&o==="expose")){const a=dE[o]||t&&t[o];i[o]=a?a(i[o],e[o]):e[o]}return i}const dE={data:Eg,props:Vs,emits:Vs,methods:Vs,computed:Vs,beforeCreate:ei,created:ei,beforeMount:ei,mounted:ei,beforeUpdate:ei,updated:ei,beforeDestroy:ei,beforeUnmount:ei,destroyed:ei,unmounted:ei,activated:ei,deactivated:ei,errorCaptured:ei,serverPrefetch:ei,components:Vs,directives:Vs,watch:gE,provide:Eg,inject:fE};function Eg(i,e){return e?i?function(){return ni(He(i)?i.call(this,this):i,He(e)?e.call(this,this):e)}:e:i}function fE(i,e){return Vs(uh(i),uh(e))}function uh(i){if(De(i)){const e={};for(let t=0;t<i.length;t++)e[i[t]]=i[t];return e}return i}function ei(i,e){return i?[...new Set([].concat(i,e))]:e}function Vs(i,e){return i?ni(ni(Object.create(null),i),e):e}function gE(i,e){if(!i)return e;if(!e)return i;const t=ni(Object.create(null),i);for(const n in e)t[n]=ei(i[n],e[n]);return t}function pE(i,e,t,n=!1){const s={},r={};Fl(r,wc,1),i.propsDefaults=Object.create(null),i_(i,e,s,r);for(const o in i.propsOptions[0])o in s||(s[o]=void 0);t?i.props=n?s:SC(s):i.type.props?i.props=s:i.props=r,i.attrs=r}function mE(i,e,t,n){const{props:s,attrs:r,vnode:{patchFlag:o}}=i,a=at(s),[l]=i.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=i.vnode.dynamicProps;for(let f=0;f<h.length;f++){let m=h[f];if(Cc(i.emitsOptions,m))continue;const y=e[m];if(l)if(Qe(r,m))y!==r[m]&&(r[m]=y,u=!0);else{const v=Kr(m);s[v]=hh(l,a,v,y,i,!1)}else y!==r[m]&&(r[m]=y,u=!0)}}}else{i_(i,e,s,r)&&(u=!0);let h;for(const f in a)(!e||!Qe(e,f)&&((h=ho(f))===f||!Qe(e,h)))&&(l?t&&(t[f]!==void 0||t[h]!==void 0)&&(s[f]=hh(l,a,f,void 0,i,!0)):delete s[f]);if(r!==a)for(const f in r)(!e||!Qe(e,f))&&(delete r[f],u=!0)}u&&Gn(i,"set","$attrs")}function i_(i,e,t,n){const[s,r]=i.propsOptions;let o=!1,a;if(e)for(let l in e){if(bl(l))continue;const u=e[l];let h;s&&Qe(s,h=Kr(l))?!r||!r.includes(h)?t[h]=u:(a||(a={}))[h]=u:Cc(i.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(r){const l=at(t),u=a||mt;for(let h=0;h<r.length;h++){const f=r[h];t[f]=hh(s,l,f,u[f],i,!Qe(u,f))}}return o}function hh(i,e,t,n,s,r){const o=i[t];if(o!=null){const a=Qe(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&He(l)){const{propsDefaults:u}=s;t in u?n=u[t]:(Jr(s),n=u[t]=l.call(null,e),er())}else n=l}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===ho(t))&&(n=!0))}return n}function n_(i,e,t=!1){const n=e.propsCache,s=n.get(i);if(s)return s;const r=i.props,o={},a=[];let l=!1;if(!He(i)){const h=f=>{l=!0;const[m,y]=n_(f,e,!0);ni(o,m),y&&a.push(...y)};!t&&e.mixins.length&&e.mixins.forEach(h),i.extends&&h(i.extends),i.mixins&&i.mixins.forEach(h)}if(!r&&!l)return _t(i)&&n.set(i,$r),$r;if(De(r))for(let h=0;h<r.length;h++){const f=Kr(r[h]);xg(f)&&(o[f]=mt)}else if(r)for(const h in r){const f=Kr(h);if(xg(f)){const m=r[h],y=o[f]=De(m)||He(m)?{type:m}:Object.assign({},m);if(y){const v=bg(Boolean,y.type),E=bg(String,y.type);y[0]=v>-1,y[1]=E<0||v<E,(v>-1||Qe(y,"default"))&&a.push(f)}}}const u=[o,a];return _t(i)&&n.set(i,u),u}function xg(i){return i[0]!=="$"}function Tg(i){const e=i&&i.toString().match(/^\s*function (\w+)/);return e?e[1]:i===null?"null":""}function wg(i,e){return Tg(i)===Tg(e)}function bg(i,e){return De(e)?e.findIndex(t=>wg(t,i)):He(e)&&wg(e,i)?0:-1}const s_=i=>i[0]==="_"||i==="$stable",od=i=>De(i)?i.map(rn):[rn(i)],_E=(i,e,t)=>{if(e._n)return e;const n=jC((...s)=>od(e(...s)),t);return n._c=!1,n},r_=(i,e,t)=>{const n=i._ctx;for(const s in i){if(s_(s))continue;const r=i[s];if(He(r))e[s]=_E(s,r,n);else if(r!=null){const o=od(r);e[s]=()=>o}}},o_=(i,e)=>{const t=od(e);i.slots.default=()=>t},yE=(i,e)=>{if(i.vnode.shapeFlag&32){const t=e._;t?(i.slots=at(e),Fl(e,"_",t)):r_(e,i.slots={})}else i.slots={},e&&o_(i,e);Fl(i.slots,wc,1)},vE=(i,e,t)=>{const{vnode:n,slots:s}=i;let r=!0,o=mt;if(n.shapeFlag&32){const a=e._;a?t&&a===1?r=!1:(ni(s,e),!t&&a===1&&delete s._):(r=!e.$stable,r_(e,s)),o=e}else e&&(o_(i,e),o={default:1});if(r)for(const a in s)!s_(a)&&!(a in o)&&delete s[a]};function a_(){return{app:null,config:{isNativeTag:Yv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let CE=0;function EE(i,e){return function(n,s=null){He(n)||(n=Object.assign({},n)),s!=null&&!_t(s)&&(s=null);const r=a_(),o=new Set;let a=!1;const l=r.app={_uid:CE++,_component:n,_props:s,_container:null,_context:r,_instance:null,version:VE,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&He(u.install)?(o.add(u),u.install(l,...h)):He(u)&&(o.add(u),u(l,...h))),l},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),l},component(u,h){return h?(r.components[u]=h,l):r.components[u]},directive(u,h){return h?(r.directives[u]=h,l):r.directives[u]},mount(u,h,f){if(!a){const m=Lt(n,s);return m.appContext=r,h&&e?e(m,u):i(m,u,f),a=!0,l._container=u,u.__vue_app__=l,bc(m.component)||m.component.proxy}},unmount(){a&&(i(null,l._container),delete l._container.__vue_app__)},provide(u,h){return r.provides[u]=h,l}};return l}}function dh(i,e,t,n,s=!1){if(De(i)){i.forEach((m,y)=>dh(m,e&&(De(e)?e[y]:e),t,n,s));return}if(Al(n)&&!s)return;const r=n.shapeFlag&4?bc(n.component)||n.component.proxy:n.el,o=s?null:r,{i:a,r:l}=i,u=e&&e.r,h=a.refs===mt?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(Ft(u)?(h[u]=null,Qe(f,u)&&(f[u]=null)):Zt(u)&&(u.value=null)),He(l))hs(l,a,12,[o,h]);else{const m=Ft(l),y=Zt(l);if(m||y){const v=()=>{if(i.f){const E=m?Qe(f,l)?f[l]:h[l]:l.value;s?De(E)&&zh(E,r):De(E)?E.includes(r)||E.push(r):m?(h[l]=[r],Qe(f,l)&&(f[l]=h[l])):(l.value=[r],i.k&&(h[i.k]=l.value))}else m?(h[l]=o,Qe(f,l)&&(f[l]=o)):y&&(l.value=o,i.k&&(h[i.k]=o))};o?(v.id=-1,hi(v,t)):v()}}}const hi=HC;function xE(i){return TE(i)}function TE(i,e){const t=Jv();t.__VUE__=!0;const{insert:n,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:f,nextSibling:m,setScopeId:y=Ui,insertStaticContent:v}=i,E=(P,F,z,q=null,j=null,ee=null,ge=!1,oe=null,re=!!F.dynamicChildren)=>{if(P===F)return;P&&!Mo(P,F)&&(q=vt(P),J(P,j,ee,!0),P=null),F.patchFlag===-2&&(re=!1,F.dynamicChildren=null);const{type:Q,ref:_e,shapeFlag:de}=F;switch(Q){case Tc:b(P,F,z,q);break;case nr:S(P,F,z,q);break;case Il:P==null&&A(F,z,q,ge);break;case Ii:ue(P,F,z,q,j,ee,ge,oe,re);break;default:de&1?D(P,F,z,q,j,ee,ge,oe,re):de&6?ve(P,F,z,q,j,ee,ge,oe,re):(de&64||de&128)&&Q.process(P,F,z,q,j,ee,ge,oe,re,nt)}_e!=null&&j&&dh(_e,P&&P.ref,ee,F||P,!F)},b=(P,F,z,q)=>{if(P==null)n(F.el=a(F.children),z,q);else{const j=F.el=P.el;F.children!==P.children&&u(j,F.children)}},S=(P,F,z,q)=>{P==null?n(F.el=l(F.children||""),z,q):F.el=P.el},A=(P,F,z,q)=>{[P.el,P.anchor]=v(P.children,F,z,q,P.el,P.anchor)},R=({el:P,anchor:F},z,q)=>{let j;for(;P&&P!==F;)j=m(P),n(P,z,q),P=j;n(F,z,q)},I=({el:P,anchor:F})=>{let z;for(;P&&P!==F;)z=m(P),s(P),P=z;s(F)},D=(P,F,z,q,j,ee,ge,oe,re)=>{ge=ge||F.type==="svg",P==null?p(F,z,q,j,ee,ge,oe,re):Z(P,F,j,ee,ge,oe,re)},p=(P,F,z,q,j,ee,ge,oe)=>{let re,Q;const{type:_e,props:de,shapeFlag:pe,transition:Ee,dirs:Se}=P;if(re=P.el=o(P.type,ee,de&&de.is,de),pe&8?h(re,P.children):pe&16&&W(P.children,re,null,q,j,ee&&_e!=="foreignObject",ge,oe),Se&&Ns(P,null,q,"created"),de){for(const Fe in de)Fe!=="value"&&!bl(Fe)&&r(re,Fe,null,de[Fe],ee,P.children,q,j,ft);"value"in de&&r(re,"value",null,de.value),(Q=de.onVnodeBeforeMount)&&nn(Q,q,P)}$(re,P,P.scopeId,ge,q),Se&&Ns(P,null,q,"beforeMount");const Xe=(!j||j&&!j.pendingBranch)&&Ee&&!Ee.persisted;Xe&&Ee.beforeEnter(re),n(re,F,z),((Q=de&&de.onVnodeMounted)||Xe||Se)&&hi(()=>{Q&&nn(Q,q,P),Xe&&Ee.enter(re),Se&&Ns(P,null,q,"mounted")},j)},$=(P,F,z,q,j)=>{if(z&&y(P,z),q)for(let ee=0;ee<q.length;ee++)y(P,q[ee]);if(j){let ee=j.subTree;if(F===ee){const ge=j.vnode;$(P,ge,ge.scopeId,ge.slotScopeIds,j.parent)}}},W=(P,F,z,q,j,ee,ge,oe,re=0)=>{for(let Q=re;Q<P.length;Q++){const _e=P[Q]=oe?is(P[Q]):rn(P[Q]);E(null,_e,F,z,q,j,ee,ge,oe)}},Z=(P,F,z,q,j,ee,ge)=>{const oe=F.el=P.el;let{patchFlag:re,dynamicChildren:Q,dirs:_e}=F;re|=P.patchFlag&16;const de=P.props||mt,pe=F.props||mt;let Ee;z&&ks(z,!1),(Ee=pe.onVnodeBeforeUpdate)&&nn(Ee,z,F,P),_e&&Ns(F,P,z,"beforeUpdate"),z&&ks(z,!0);const Se=j&&F.type!=="foreignObject";if(Q?ae(P.dynamicChildren,Q,oe,z,q,Se,ee):ge||ce(P,F,oe,null,z,q,Se,ee,!1),re>0){if(re&16)he(oe,F,de,pe,z,q,j);else if(re&2&&de.class!==pe.class&&r(oe,"class",null,pe.class,j),re&4&&r(oe,"style",de.style,pe.style,j),re&8){const Xe=F.dynamicProps;for(let Fe=0;Fe<Xe.length;Fe++){const st=Xe[Fe],Nt=de[st],Ct=pe[st];(Ct!==Nt||st==="value")&&r(oe,st,Nt,Ct,j,P.children,z,q,ft)}}re&1&&P.children!==F.children&&h(oe,F.children)}else!ge&&Q==null&&he(oe,F,de,pe,z,q,j);((Ee=pe.onVnodeUpdated)||_e)&&hi(()=>{Ee&&nn(Ee,z,F,P),_e&&Ns(F,P,z,"updated")},q)},ae=(P,F,z,q,j,ee,ge)=>{for(let oe=0;oe<F.length;oe++){const re=P[oe],Q=F[oe],_e=re.el&&(re.type===Ii||!Mo(re,Q)||re.shapeFlag&70)?f(re.el):z;E(re,Q,_e,null,q,j,ee,ge,!0)}},he=(P,F,z,q,j,ee,ge)=>{if(z!==q){if(z!==mt)for(const oe in z)!bl(oe)&&!(oe in q)&&r(P,oe,z[oe],null,ge,F.children,j,ee,ft);for(const oe in q){if(bl(oe))continue;const re=q[oe],Q=z[oe];re!==Q&&oe!=="value"&&r(P,oe,Q,re,ge,F.children,j,ee,ft)}"value"in q&&r(P,"value",z.value,q.value)}},ue=(P,F,z,q,j,ee,ge,oe,re)=>{const Q=F.el=P?P.el:a(""),_e=F.anchor=P?P.anchor:a("");let{patchFlag:de,dynamicChildren:pe,slotScopeIds:Ee}=F;Ee&&(oe=oe?oe.concat(Ee):Ee),P==null?(n(Q,z,q),n(_e,z,q),W(F.children,z,_e,j,ee,ge,oe,re)):de>0&&de&64&&pe&&P.dynamicChildren?(ae(P.dynamicChildren,pe,z,j,ee,ge,oe),(F.key!=null||j&&F===j.subTree)&&l_(P,F,!0)):ce(P,F,z,_e,j,ee,ge,oe,re)},ve=(P,F,z,q,j,ee,ge,oe,re)=>{F.slotScopeIds=oe,P==null?F.shapeFlag&512?j.ctx.activate(F,z,q,ge,re):Ce(F,z,q,j,ee,ge,re):le(P,F,re)},Ce=(P,F,z,q,j,ee,ge)=>{const oe=P.component=ME(P,q,j);if(nd(P)&&(oe.ctx.renderer=nt),DE(oe),oe.asyncDep){if(j&&j.registerDep(oe,se),!P.el){const re=oe.subTree=Lt(nr);S(null,re,F,z)}return}se(oe,P,F,z,j,ee,ge)},le=(P,F,z)=>{const q=F.component=P.component;if(WC(P,F,z))if(q.asyncDep&&!q.asyncResolved){X(q,F,z);return}else q.next=F,FC(q.update),q.update();else F.el=P.el,q.vnode=F},se=(P,F,z,q,j,ee,ge)=>{const oe=()=>{if(P.isMounted){let{next:_e,bu:de,u:pe,parent:Ee,vnode:Se}=P,Xe=_e,Fe;ks(P,!1),_e?(_e.el=Se.el,X(P,_e,ge)):_e=Se,de&&Sl(de),(Fe=_e.props&&_e.props.onVnodeBeforeUpdate)&&nn(Fe,Ee,_e,Se),ks(P,!0);const st=xu(P),Nt=P.subTree;P.subTree=st,E(Nt,st,f(Nt.el),vt(Nt),P,j,ee),_e.el=st.el,Xe===null&&BC(P,st.el),pe&&hi(pe,j),(Fe=_e.props&&_e.props.onVnodeUpdated)&&hi(()=>nn(Fe,Ee,_e,Se),j)}else{let _e;const{el:de,props:pe}=F,{bm:Ee,m:Se,parent:Xe}=P,Fe=Al(F);if(ks(P,!1),Ee&&Sl(Ee),!Fe&&(_e=pe&&pe.onVnodeBeforeMount)&&nn(_e,Xe,F),ks(P,!0),de&&oi){const st=()=>{P.subTree=xu(P),oi(de,P.subTree,P,j,null)};Fe?F.type.__asyncLoader().then(()=>!P.isUnmounted&&st()):st()}else{const st=P.subTree=xu(P);E(null,st,z,q,P,j,ee),F.el=st.el}if(Se&&hi(Se,j),!Fe&&(_e=pe&&pe.onVnodeMounted)){const st=F;hi(()=>nn(_e,Xe,st),j)}(F.shapeFlag&256||Xe&&Al(Xe.vnode)&&Xe.vnode.shapeFlag&256)&&P.a&&hi(P.a,j),P.isMounted=!0,F=z=q=null}},re=P.effect=new Xh(oe,()=>vc(Q),P.scope),Q=P.update=()=>re.run();Q.id=P.uid,ks(P,!0),Q()},X=(P,F,z)=>{F.component=P;const q=P.vnode.props;P.vnode=F,P.next=null,mE(P,F.props,q,z),vE(P,F.children,z),fo(),yg(),go()},ce=(P,F,z,q,j,ee,ge,oe,re=!1)=>{const Q=P&&P.children,_e=P?P.shapeFlag:0,de=F.children,{patchFlag:pe,shapeFlag:Ee}=F;if(pe>0){if(pe&128){Ve(Q,de,z,q,j,ee,ge,oe,re);return}else if(pe&256){Pe(Q,de,z,q,j,ee,ge,oe,re);return}}Ee&8?(_e&16&&ft(Q,j,ee),de!==Q&&h(z,de)):_e&16?Ee&16?Ve(Q,de,z,q,j,ee,ge,oe,re):ft(Q,j,ee,!0):(_e&8&&h(z,""),Ee&16&&W(de,z,q,j,ee,ge,oe,re))},Pe=(P,F,z,q,j,ee,ge,oe,re)=>{P=P||$r,F=F||$r;const Q=P.length,_e=F.length,de=Math.min(Q,_e);let pe;for(pe=0;pe<de;pe++){const Ee=F[pe]=re?is(F[pe]):rn(F[pe]);E(P[pe],Ee,z,null,j,ee,ge,oe,re)}Q>_e?ft(P,j,ee,!0,!1,de):W(F,z,q,j,ee,ge,oe,re,de)},Ve=(P,F,z,q,j,ee,ge,oe,re)=>{let Q=0;const _e=F.length;let de=P.length-1,pe=_e-1;for(;Q<=de&&Q<=pe;){const Ee=P[Q],Se=F[Q]=re?is(F[Q]):rn(F[Q]);if(Mo(Ee,Se))E(Ee,Se,z,null,j,ee,ge,oe,re);else break;Q++}for(;Q<=de&&Q<=pe;){const Ee=P[de],Se=F[pe]=re?is(F[pe]):rn(F[pe]);if(Mo(Ee,Se))E(Ee,Se,z,null,j,ee,ge,oe,re);else break;de--,pe--}if(Q>de){if(Q<=pe){const Ee=pe+1,Se=Ee<_e?F[Ee].el:q;for(;Q<=pe;)E(null,F[Q]=re?is(F[Q]):rn(F[Q]),z,Se,j,ee,ge,oe,re),Q++}}else if(Q>pe)for(;Q<=de;)J(P[Q],j,ee,!0),Q++;else{const Ee=Q,Se=Q,Xe=new Map;for(Q=Se;Q<=pe;Q++){const kt=F[Q]=re?is(F[Q]):rn(F[Q]);kt.key!=null&&Xe.set(kt.key,Q)}let Fe,st=0;const Nt=pe-Se+1;let Ct=!1,gi=0;const pi=new Array(Nt);for(Q=0;Q<Nt;Q++)pi[Q]=0;for(Q=Ee;Q<=de;Q++){const kt=P[Q];if(st>=Nt){J(kt,j,ee,!0);continue}let gt;if(kt.key!=null)gt=Xe.get(kt.key);else for(Fe=Se;Fe<=pe;Fe++)if(pi[Fe-Se]===0&&Mo(kt,F[Fe])){gt=Fe;break}gt===void 0?J(kt,j,ee,!0):(pi[gt-Se]=Q+1,gt>=gi?gi=gt:Ct=!0,E(kt,F[gt],z,null,j,ee,ge,oe,re),st++)}const Rs=Ct?wE(pi):$r;for(Fe=Rs.length-1,Q=Nt-1;Q>=0;Q--){const kt=Se+Q,gt=F[kt],At=kt+1<_e?F[kt+1].el:q;pi[Q]===0?E(null,gt,z,At,j,ee,ge,oe,re):Ct&&(Fe<0||Q!==Rs[Fe]?We(gt,z,At,2):Fe--)}}},We=(P,F,z,q,j=null)=>{const{el:ee,type:ge,transition:oe,children:re,shapeFlag:Q}=P;if(Q&6){We(P.component.subTree,F,z,q);return}if(Q&128){P.suspense.move(F,z,q);return}if(Q&64){ge.move(P,F,z,nt);return}if(ge===Ii){n(ee,F,z);for(let de=0;de<re.length;de++)We(re[de],F,z,q);n(P.anchor,F,z);return}if(ge===Il){R(P,F,z);return}if(q!==2&&Q&1&&oe)if(q===0)oe.beforeEnter(ee),n(ee,F,z),hi(()=>oe.enter(ee),j);else{const{leave:de,delayLeave:pe,afterLeave:Ee}=oe,Se=()=>n(ee,F,z),Xe=()=>{de(ee,()=>{Se(),Ee&&Ee()})};pe?pe(ee,Se,Xe):Xe()}else n(ee,F,z)},J=(P,F,z,q=!1,j=!1)=>{const{type:ee,props:ge,ref:oe,children:re,dynamicChildren:Q,shapeFlag:_e,patchFlag:de,dirs:pe}=P;if(oe!=null&&dh(oe,null,z,P,!0),_e&256){F.ctx.deactivate(P);return}const Ee=_e&1&&pe,Se=!Al(P);let Xe;if(Se&&(Xe=ge&&ge.onVnodeBeforeUnmount)&&nn(Xe,F,P),_e&6)Be(P.component,z,q);else{if(_e&128){P.suspense.unmount(z,q);return}Ee&&Ns(P,null,F,"beforeUnmount"),_e&64?P.type.remove(P,F,z,j,nt,q):Q&&(ee!==Ii||de>0&&de&64)?ft(Q,F,z,!1,!0):(ee===Ii&&de&384||!j&&_e&16)&&ft(re,F,z),q&&ct(P)}(Se&&(Xe=ge&&ge.onVnodeUnmounted)||Ee)&&hi(()=>{Xe&&nn(Xe,F,P),Ee&&Ns(P,null,F,"unmounted")},z)},ct=P=>{const{type:F,el:z,anchor:q,transition:j}=P;if(F===Ii){ke(z,q);return}if(F===Il){I(P);return}const ee=()=>{s(z),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(P.shapeFlag&1&&j&&!j.persisted){const{leave:ge,delayLeave:oe}=j,re=()=>ge(z,ee);oe?oe(P.el,ee,re):re()}else ee()},ke=(P,F)=>{let z;for(;P!==F;)z=m(P),s(P),P=z;s(F)},Be=(P,F,z)=>{const{bum:q,scope:j,update:ee,subTree:ge,um:oe}=P;q&&Sl(q),j.stop(),ee&&(ee.active=!1,J(ge,P,F,z)),oe&&hi(oe,F),hi(()=>{P.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},ft=(P,F,z,q=!1,j=!1,ee=0)=>{for(let ge=ee;ge<P.length;ge++)J(P[ge],F,z,q,j)},vt=P=>P.shapeFlag&6?vt(P.component.subTree):P.shapeFlag&128?P.suspense.next():m(P.anchor||P.el),Ze=(P,F,z)=>{P==null?F._vnode&&J(F._vnode,null,null,!0):E(F._vnode||null,P,F,null,null,null,z),yg(),Um(),F._vnode=P},nt={p:E,um:J,m:We,r:ct,mt:Ce,mc:W,pc:ce,pbc:ae,n:vt,o:i};let ri,oi;return e&&([ri,oi]=e(nt)),{render:Ze,hydrate:ri,createApp:EE(Ze,ri)}}function ks({effect:i,update:e},t){i.allowRecurse=e.allowRecurse=t}function l_(i,e,t=!1){const n=i.children,s=e.children;if(De(n)&&De(s))for(let r=0;r<n.length;r++){const o=n[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=is(s[r]),a.el=o.el),t||l_(o,a)),a.type===Tc&&(a.el=o.el)}}function wE(i){const e=i.slice(),t=[0];let n,s,r,o,a;const l=i.length;for(n=0;n<l;n++){const u=i[n];if(u!==0){if(s=t[t.length-1],i[s]<u){e[n]=s,t.push(n);continue}for(r=0,o=t.length-1;r<o;)a=r+o>>1,i[t[a]]<u?r=a+1:o=a;u<i[t[r]]&&(r>0&&(e[n]=t[r-1]),t[r]=n)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}const bE=i=>i.__isTeleport,Ii=Symbol(void 0),Tc=Symbol(void 0),nr=Symbol(void 0),Il=Symbol(void 0),Ho=[];let Bi=null;function it(i=!1){Ho.push(Bi=i?null:[])}function SE(){Ho.pop(),Bi=Ho[Ho.length-1]||null}let sa=1;function Sg(i){sa+=i}function c_(i){return i.dynamicChildren=sa>0?Bi||$r:null,SE(),sa>0&&Bi&&Bi.push(i),i}function ot(i,e,t,n,s,r){return c_(Y(i,e,t,n,s,r,!0))}function RE(i,e,t,n,s){return c_(Lt(i,e,t,n,s,!0))}function AE(i){return i?i.__v_isVNode===!0:!1}function Mo(i,e){return i.type===e.type&&i.key===e.key}const wc="__vInternal",u_=({key:i})=>i??null,Ll=({ref:i,ref_key:e,ref_for:t})=>i!=null?Ft(i)||Zt(i)||He(i)?{i:Wi,r:i,k:e,f:!!t}:i:null;function Y(i,e=null,t=null,n=0,s=null,r=i===Ii?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:i,props:e,key:e&&u_(e),ref:e&&Ll(e),scopeId:Ec,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Wi};return a?(ad(l,t),r&128&&i.normalize(l)):t&&(l.shapeFlag|=Ft(t)?8:16),sa>0&&!o&&Bi&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Bi.push(l),l}const Lt=IE;function IE(i,e=null,t=null,n=0,s=null,r=!1){if((!i||i===lE)&&(i=nr),AE(i)){const a=Zr(i,e,!0);return t&&ad(a,t),sa>0&&!r&&Bi&&(a.shapeFlag&6?Bi[Bi.indexOf(i)]=a:Bi.push(a)),a.patchFlag|=-2,a}if(GE(i)&&(i=i.__vccOpts),e){e=h_(e);let{class:a,style:l}=e;a&&!Ft(a)&&(e.class=Yi(a)),_t(l)&&(jm(l)&&!De(l)&&(l=ni({},l)),e.style=fc(l))}const o=Ft(i)?1:zC(i)?128:bE(i)?64:_t(i)?4:He(i)?2:0;return Y(i,e,t,n,s,o,r,!0)}function h_(i){return i?jm(i)||wc in i?ni({},i):i:null}function Zr(i,e,t=!1){const{props:n,ref:s,patchFlag:r,children:o}=i,a=e?d_(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:a,key:a&&u_(a),ref:e&&e.ref?t&&s?De(s)?s.concat(Ll(e)):[s,Ll(e)]:Ll(e):s,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:e&&i.type!==Ii?r===-1?16:r|16:r,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Zr(i.ssContent),ssFallback:i.ssFallback&&Zr(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx}}function Sn(i=" ",e=0){return Lt(Tc,null,i,e)}function LE(i,e){const t=Lt(Il,null,i);return t.staticCount=e,t}function di(i="",e=!1){return e?(it(),RE(nr,null,i)):Lt(nr,null,i)}function rn(i){return i==null||typeof i=="boolean"?Lt(nr):De(i)?Lt(Ii,null,i.slice()):typeof i=="object"?is(i):Lt(Tc,null,String(i))}function is(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Zr(i)}function ad(i,e){let t=0;const{shapeFlag:n}=i;if(e==null)e=null;else if(De(e))t=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),ad(i,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!(wc in e)?e._ctx=Wi:s===3&&Wi&&(Wi.slots._===1?e._=1:(e._=2,i.patchFlag|=1024))}else He(e)?(e={default:e,_ctx:Wi},t=32):(e=String(e),n&64?(t=16,e=[Sn(e)]):t=8);i.children=e,i.shapeFlag|=t}function d_(...i){const e={};for(let t=0;t<i.length;t++){const n=i[t];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=Yi([e.class,n.class]));else if(s==="style")e.style=fc([e.style,n.style]);else if(pc(s)){const r=e[s],o=n[s];o&&r!==o&&!(De(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=n[s])}return e}function nn(i,e,t,n=null){Xi(i,e,7,[t,n])}const OE=a_();let PE=0;function ME(i,e,t){const n=i.type,s=(e?e.appContext:i.appContext)||OE,r={uid:PE++,vnode:i,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Qv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:n_(n,s),emitsOptions:Km(n,s),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:n.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=GC.bind(null,r),i.ce&&i.ce(r),r}let zt=null;const Jr=i=>{zt=i,i.scope.on()},er=()=>{zt&&zt.scope.off(),zt=null};function f_(i){return i.vnode.shapeFlag&4}let Qr=!1;function DE(i,e=!1){Qr=e;const{props:t,children:n}=i.vnode,s=f_(i);pE(i,t,s,e),yE(i,n);const r=s?FE(i,e):void 0;return Qr=!1,r}function FE(i,e){const t=i.type;i.accessCache=Object.create(null),i.proxy=$m(new Proxy(i.ctx,cE));const{setup:n}=t;if(n){const s=i.setupContext=n.length>1?kE(i):null;Jr(i),fo();const r=hs(n,i,0,[i.props,s]);if(go(),er(),wm(r)){if(r.then(er,er),e)return r.then(o=>{Rg(i,o,e)}).catch(o=>{ba(o,i,0)});i.asyncDep=r}else Rg(i,r,e)}else g_(i,e)}function Rg(i,e,t){He(e)?i.type.__ssrInlineRender?i.ssrRender=e:i.render=e:_t(e)&&(i.setupState=Bm(e)),g_(i,t)}let Ag;function g_(i,e,t){const n=i.type;if(!i.render){if(!e&&Ag&&!n.render){const s=n.template||rd(i).template;if(s){const{isCustomElement:r,compilerOptions:o}=i.appContext.config,{delimiters:a,compilerOptions:l}=n,u=ni(ni({isCustomElement:r,delimiters:a},o),l);n.render=Ag(s,u)}}i.render=n.render||Ui}Jr(i),fo(),uE(i),go(),er()}function NE(i){return new Proxy(i.attrs,{get(e,t){return xi(i,"get","$attrs"),e[t]}})}function kE(i){const e=n=>{i.exposed=n||{}};let t;return{get attrs(){return t||(t=NE(i))},slots:i.slots,emit:i.emit,expose:e}}function bc(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(Bm($m(i.exposed)),{get(e,t){if(t in e)return e[t];if(t in zo)return zo[t](i)},has(e,t){return t in e||t in zo}}))}function GE(i){return He(i)&&"__vccOpts"in i}const fh=(i,e)=>PC(i,e,Qr),jE=Symbol(""),$E=()=>Rl(jE),VE="3.2.45",WE="http://www.w3.org/2000/svg",zs=typeof document<"u"?document:null,Ig=zs&&zs.createElement("template"),BE={insert:(i,e,t)=>{e.insertBefore(i,t||null)},remove:i=>{const e=i.parentNode;e&&e.removeChild(i)},createElement:(i,e,t,n)=>{const s=e?zs.createElementNS(WE,i):zs.createElement(i,t?{is:t}:void 0);return i==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:i=>zs.createTextNode(i),createComment:i=>zs.createComment(i),setText:(i,e)=>{i.nodeValue=e},setElementText:(i,e)=>{i.textContent=e},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>zs.querySelector(i),setScopeId(i,e){i.setAttribute(e,"")},insertStaticContent(i,e,t,n,s,r){const o=t?t.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===r||!(s=s.nextSibling)););else{Ig.innerHTML=n?`<svg>${i}</svg>`:i;const a=Ig.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function zE(i,e,t){const n=i._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?i.removeAttribute("class"):t?i.setAttribute("class",e):i.className=e}function HE(i,e,t){const n=i.style,s=Ft(t);if(t&&!s){for(const r in t)gh(n,r,t[r]);if(e&&!Ft(e))for(const r in e)t[r]==null&&gh(n,r,"")}else{const r=n.display;s?e!==t&&(n.cssText=t):e&&i.removeAttribute("style"),"_vod"in i&&(n.display=r)}}const Lg=/\s*!important$/;function gh(i,e,t){if(De(t))t.forEach(n=>gh(i,e,n));else if(t==null&&(t=""),e.startsWith("--"))i.setProperty(e,t);else{const n=YE(i,e);Lg.test(t)?i.setProperty(ho(n),t.replace(Lg,""),"important"):i[n]=t}}const Og=["Webkit","Moz","ms"],Su={};function YE(i,e){const t=Su[e];if(t)return t;let n=Kr(e);if(n!=="filter"&&n in i)return Su[e]=n;n=Rm(n);for(let s=0;s<Og.length;s++){const r=Og[s]+n;if(r in i)return Su[e]=r}return e}const Pg="http://www.w3.org/1999/xlink";function UE(i,e,t,n,s){if(n&&e.startsWith("xlink:"))t==null?i.removeAttributeNS(Pg,e.slice(6,e.length)):i.setAttributeNS(Pg,e,t);else{const r=Bv(e);t==null||r&&!xm(t)?i.removeAttribute(e):i.setAttribute(e,r?"":t)}}function XE(i,e,t,n,s,r,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,s,r),i[e]=t??"";return}if(e==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=t;const l=t??"";(i.value!==l||i.tagName==="OPTION")&&(i.value=l),t==null&&i.removeAttribute(e);return}let a=!1;if(t===""||t==null){const l=typeof i[e];l==="boolean"?t=xm(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{i[e]=t}catch{}a&&i.removeAttribute(e)}function p_(i,e,t,n){i.addEventListener(e,t,n)}function KE(i,e,t,n){i.removeEventListener(e,t,n)}function qE(i,e,t,n,s=null){const r=i._vei||(i._vei={}),o=r[e];if(n&&o)o.value=n;else{const[a,l]=ZE(e);if(n){const u=r[e]=ex(n,s);p_(i,a,u,l)}else o&&(KE(i,a,o,l),r[e]=void 0)}}const Mg=/(?:Once|Passive|Capture)$/;function ZE(i){let e;if(Mg.test(i)){e={};let n;for(;n=i.match(Mg);)i=i.slice(0,i.length-n[0].length),e[n[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):ho(i.slice(2)),e]}let Ru=0;const JE=Promise.resolve(),QE=()=>Ru||(JE.then(()=>Ru=0),Ru=Date.now());function ex(i,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;Xi(tx(n,t.value),e,5,[n])};return t.value=i,t.attached=QE(),t}function tx(i,e){if(De(e)){const t=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{t.call(i),i._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const Dg=/^on[a-z]/,ix=(i,e,t,n,s=!1,r,o,a,l)=>{e==="class"?zE(i,n,s):e==="style"?HE(i,t,n):pc(e)?Bh(e)||qE(i,e,t,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nx(i,e,n,s))?XE(i,e,n,r,o,a,l):(e==="true-value"?i._trueValue=n:e==="false-value"&&(i._falseValue=n),UE(i,e,n,s))};function nx(i,e,t,n){return n?!!(e==="innerHTML"||e==="textContent"||e in i&&Dg.test(e)&&He(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&i.tagName==="INPUT"||e==="type"&&i.tagName==="TEXTAREA"||Dg.test(e)&&Ft(t)?!1:e in i}const Fg=i=>{const e=i.props["onUpdate:modelValue"]||!1;return De(e)?t=>Sl(e,t):e},sx={deep:!0,created(i,{value:e,modifiers:{number:t}},n){const s=mc(e);p_(i,"change",()=>{const r=Array.prototype.filter.call(i.options,o=>o.selected).map(o=>t?Yh(jl(o)):jl(o));i._assign(i.multiple?s?new Set(r):r:r[0])}),i._assign=Fg(n)},mounted(i,{value:e}){Ng(i,e)},beforeUpdate(i,e,t){i._assign=Fg(t)},updated(i,{value:e}){Ng(i,e)}};function Ng(i,e){const t=i.multiple;if(!(t&&!De(e)&&!mc(e))){for(let n=0,s=i.options.length;n<s;n++){const r=i.options[n],o=jl(r);if(t)De(e)?r.selected=Hv(e,o)>-1:r.selected=e.has(o);else if(gc(jl(r),e)){i.selectedIndex!==n&&(i.selectedIndex=n);return}}!t&&i.selectedIndex!==-1&&(i.selectedIndex=-1)}}function jl(i){return"_value"in i?i._value:i.value}const rx=["ctrl","shift","alt","meta"],ox={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,e)=>rx.some(t=>i[`${t}Key`]&&!e.includes(t))},It=(i,e)=>(t,...n)=>{for(let s=0;s<e.length;s++){const r=ox[e[s]];if(r&&r(t,e))return}return i(t,...n)},ax=ni({patchProp:ix},BE);let kg;function lx(){return kg||(kg=xE(ax))}const cx=(...i)=>{const e=lx().createApp(...i),{mount:t}=e;return e.mount=n=>{const s=ux(n);if(!s)return;const r=e._component;!He(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=t(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function ux(i){return Ft(i)?document.querySelector(i):i}var hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ph={},dx={get exports(){return ph},set exports(i){ph=i}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(i){(function(e,t){i.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}})(typeof window<"u"?window:hx,function(e,t){var n=[],s=Object.getPrototypeOf,r=n.slice,o=n.flat?function(c){return n.flat.call(c)}:function(c){return n.concat.apply([],c)},a=n.push,l=n.indexOf,u={},h=u.toString,f=u.hasOwnProperty,m=f.toString,y=m.call(Object),v={},E=function(d){return typeof d=="function"&&typeof d.nodeType!="number"&&typeof d.item!="function"},b=function(d){return d!=null&&d===d.window},S=e.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function R(c,d,g){g=g||S;var _,C,x=g.createElement("script");if(x.text=c,d)for(_ in A)C=d[_]||d.getAttribute&&d.getAttribute(_),C&&x.setAttribute(_,C);g.head.appendChild(x).parentNode.removeChild(x)}function I(c){return c==null?c+"":typeof c=="object"||typeof c=="function"?u[h.call(c)]||"object":typeof c}var D="3.6.3",p=function(c,d){return new p.fn.init(c,d)};p.fn=p.prototype={jquery:D,constructor:p,length:0,toArray:function(){return r.call(this)},get:function(c){return c==null?r.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var d=p.merge(this.constructor(),c);return d.prevObject=this,d},each:function(c){return p.each(this,c)},map:function(c){return this.pushStack(p.map(this,function(d,g){return c.call(d,g,d)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(c,d){return(d+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(c,d){return d%2}))},eq:function(c){var d=this.length,g=+c+(c<0?d:0);return this.pushStack(g>=0&&g<d?[this[g]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},p.extend=p.fn.extend=function(){var c,d,g,_,C,x,T=arguments[0]||{},M=1,L=arguments.length,G=!1;for(typeof T=="boolean"&&(G=T,T=arguments[M]||{},M++),typeof T!="object"&&!E(T)&&(T={}),M===L&&(T=this,M--);M<L;M++)if((c=arguments[M])!=null)for(d in c)_=c[d],!(d==="__proto__"||T===_)&&(G&&_&&(p.isPlainObject(_)||(C=Array.isArray(_)))?(g=T[d],C&&!Array.isArray(g)?x=[]:!C&&!p.isPlainObject(g)?x={}:x=g,C=!1,T[d]=p.extend(G,x,_)):_!==void 0&&(T[d]=_));return T},p.extend({expando:"jQuery"+(D+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var d,g;return!c||h.call(c)!=="[object Object]"?!1:(d=s(c),d?(g=f.call(d,"constructor")&&d.constructor,typeof g=="function"&&m.call(g)===y):!0)},isEmptyObject:function(c){var d;for(d in c)return!1;return!0},globalEval:function(c,d,g){R(c,{nonce:d&&d.nonce},g)},each:function(c,d){var g,_=0;if($(c))for(g=c.length;_<g&&d.call(c[_],_,c[_])!==!1;_++);else for(_ in c)if(d.call(c[_],_,c[_])===!1)break;return c},makeArray:function(c,d){var g=d||[];return c!=null&&($(Object(c))?p.merge(g,typeof c=="string"?[c]:c):a.call(g,c)),g},inArray:function(c,d,g){return d==null?-1:l.call(d,c,g)},merge:function(c,d){for(var g=+d.length,_=0,C=c.length;_<g;_++)c[C++]=d[_];return c.length=C,c},grep:function(c,d,g){for(var _,C=[],x=0,T=c.length,M=!g;x<T;x++)_=!d(c[x],x),_!==M&&C.push(c[x]);return C},map:function(c,d,g){var _,C,x=0,T=[];if($(c))for(_=c.length;x<_;x++)C=d(c[x],x,g),C!=null&&T.push(C);else for(x in c)C=d(c[x],x,g),C!=null&&T.push(C);return o(T)},guid:1,support:v}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=n[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,d){u["[object "+d+"]"]=d.toLowerCase()});function $(c){var d=!!c&&"length"in c&&c.length,g=I(c);return E(c)||b(c)?!1:g==="array"||d===0||typeof d=="number"&&d>0&&d-1 in c}var W=function(c){var d,g,_,C,x,T,M,L,G,B,te,V,H,we,Ge,Te,Gt,Pt,mi,ut="sizzle"+1*new Date,Ne=c.document,ci=0,Je=0,wt=Ka(),Io=Ka(),Ya=Ka(),_i=Ka(),Os=function(w,O){return w===O&&(te=!0),0},Ps={}.hasOwnProperty,ui=[],Yn=ui.pop,Ri=ui.push,Un=ui.push,eg=ui.slice,Ms=function(w,O){for(var N=0,U=w.length;N<U;N++)if(w[N]===O)return N;return-1},fu="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",Ds="(?:\\\\[\\da-fA-F]{1,6}"+rt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",tg="\\["+rt+"*("+Ds+")(?:"+rt+"*([*^$|!~]?=)"+rt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ds+"))|)"+rt+"*\\]",gu=":("+Ds+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+tg+")*)|.*)\\)|)",Tv=new RegExp(rt+"+","g"),Ua=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),wv=new RegExp("^"+rt+"*,"+rt+"*"),ig=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),bv=new RegExp(rt+"|>"),Sv=new RegExp(gu),Rv=new RegExp("^"+Ds+"$"),Xa={ID:new RegExp("^#("+Ds+")"),CLASS:new RegExp("^\\.("+Ds+")"),TAG:new RegExp("^("+Ds+"|[*])"),ATTR:new RegExp("^"+tg),PSEUDO:new RegExp("^"+gu),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+fu+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},Av=/HTML$/i,Iv=/^(?:input|select|textarea|button)$/i,Lv=/^h\d$/i,Lo=/^[^{]+\{\s*\[native \w/,Ov=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pu=/[+~]/,_n=new RegExp("\\\\[\\da-fA-F]{1,6}"+rt+"?|\\\\([^\\r\\n\\f])","g"),yn=function(w,O){var N="0x"+w.slice(1)-65536;return O||(N<0?String.fromCharCode(N+65536):String.fromCharCode(N>>10|55296,N&1023|56320))},ng=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,sg=function(w,O){return O?w==="\0"?"�":w.slice(0,-1)+"\\"+w.charCodeAt(w.length-1).toString(16)+" ":"\\"+w},rg=function(){V()},Pv=Za(function(w){return w.disabled===!0&&w.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Un.apply(ui=eg.call(Ne.childNodes),Ne.childNodes),ui[Ne.childNodes.length].nodeType}catch{Un={apply:ui.length?function(O,N){Ri.apply(O,eg.call(N))}:function(O,N){for(var U=O.length,k=0;O[U++]=N[k++];);O.length=U-1}}}function ht(w,O,N,U){var k,K,ie,fe,ye,Re,be,Ie=O&&O.ownerDocument,Ke=O?O.nodeType:9;if(N=N||[],typeof w!="string"||!w||Ke!==1&&Ke!==9&&Ke!==11)return N;if(!U&&(V(O),O=O||H,Ge)){if(Ke!==11&&(ye=Ov.exec(w)))if(k=ye[1]){if(Ke===9)if(ie=O.getElementById(k)){if(ie.id===k)return N.push(ie),N}else return N;else if(Ie&&(ie=Ie.getElementById(k))&&mi(O,ie)&&ie.id===k)return N.push(ie),N}else{if(ye[2])return Un.apply(N,O.getElementsByTagName(w)),N;if((k=ye[3])&&g.getElementsByClassName&&O.getElementsByClassName)return Un.apply(N,O.getElementsByClassName(k)),N}if(g.qsa&&!_i[w+" "]&&(!Te||!Te.test(w))&&(Ke!==1||O.nodeName.toLowerCase()!=="object")){if(be=w,Ie=O,Ke===1&&(bv.test(w)||ig.test(w))){for(Ie=pu.test(w)&&_u(O.parentNode)||O,(Ie!==O||!g.scope)&&((fe=O.getAttribute("id"))?fe=fe.replace(ng,sg):O.setAttribute("id",fe=ut)),Re=T(w),K=Re.length;K--;)Re[K]=(fe?"#"+fe:":scope")+" "+qa(Re[K]);be=Re.join(",")}try{if(g.cssSupportsSelector&&!CSS.supports("selector(:is("+be+"))"))throw new Error;return Un.apply(N,Ie.querySelectorAll(be)),N}catch{_i(w,!0)}finally{fe===ut&&O.removeAttribute("id")}}}return L(w.replace(Ua,"$1"),O,N,U)}function Ka(){var w=[];function O(N,U){return w.push(N+" ")>_.cacheLength&&delete O[w.shift()],O[N+" "]=U}return O}function Gi(w){return w[ut]=!0,w}function Ai(w){var O=H.createElement("fieldset");try{return!!w(O)}catch{return!1}finally{O.parentNode&&O.parentNode.removeChild(O),O=null}}function mu(w,O){for(var N=w.split("|"),U=N.length;U--;)_.attrHandle[N[U]]=O}function og(w,O){var N=O&&w,U=N&&w.nodeType===1&&O.nodeType===1&&w.sourceIndex-O.sourceIndex;if(U)return U;if(N){for(;N=N.nextSibling;)if(N===O)return-1}return w?1:-1}function Mv(w){return function(O){var N=O.nodeName.toLowerCase();return N==="input"&&O.type===w}}function Dv(w){return function(O){var N=O.nodeName.toLowerCase();return(N==="input"||N==="button")&&O.type===w}}function ag(w){return function(O){return"form"in O?O.parentNode&&O.disabled===!1?"label"in O?"label"in O.parentNode?O.parentNode.disabled===w:O.disabled===w:O.isDisabled===w||O.isDisabled!==!w&&Pv(O)===w:O.disabled===w:"label"in O?O.disabled===w:!1}}function Fs(w){return Gi(function(O){return O=+O,Gi(function(N,U){for(var k,K=w([],N.length,O),ie=K.length;ie--;)N[k=K[ie]]&&(N[k]=!(U[k]=N[k]))})})}function _u(w){return w&&typeof w.getElementsByTagName<"u"&&w}g=ht.support={},x=ht.isXML=function(w){var O=w&&w.namespaceURI,N=w&&(w.ownerDocument||w).documentElement;return!Av.test(O||N&&N.nodeName||"HTML")},V=ht.setDocument=function(w){var O,N,U=w?w.ownerDocument||w:Ne;return U==H||U.nodeType!==9||!U.documentElement||(H=U,we=H.documentElement,Ge=!x(H),Ne!=H&&(N=H.defaultView)&&N.top!==N&&(N.addEventListener?N.addEventListener("unload",rg,!1):N.attachEvent&&N.attachEvent("onunload",rg)),g.scope=Ai(function(k){return we.appendChild(k).appendChild(H.createElement("div")),typeof k.querySelectorAll<"u"&&!k.querySelectorAll(":scope fieldset div").length}),g.cssSupportsSelector=Ai(function(){return CSS.supports("selector(*)")&&H.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),g.attributes=Ai(function(k){return k.className="i",!k.getAttribute("className")}),g.getElementsByTagName=Ai(function(k){return k.appendChild(H.createComment("")),!k.getElementsByTagName("*").length}),g.getElementsByClassName=Lo.test(H.getElementsByClassName),g.getById=Ai(function(k){return we.appendChild(k).id=ut,!H.getElementsByName||!H.getElementsByName(ut).length}),g.getById?(_.filter.ID=function(k){var K=k.replace(_n,yn);return function(ie){return ie.getAttribute("id")===K}},_.find.ID=function(k,K){if(typeof K.getElementById<"u"&&Ge){var ie=K.getElementById(k);return ie?[ie]:[]}}):(_.filter.ID=function(k){var K=k.replace(_n,yn);return function(ie){var fe=typeof ie.getAttributeNode<"u"&&ie.getAttributeNode("id");return fe&&fe.value===K}},_.find.ID=function(k,K){if(typeof K.getElementById<"u"&&Ge){var ie,fe,ye,Re=K.getElementById(k);if(Re){if(ie=Re.getAttributeNode("id"),ie&&ie.value===k)return[Re];for(ye=K.getElementsByName(k),fe=0;Re=ye[fe++];)if(ie=Re.getAttributeNode("id"),ie&&ie.value===k)return[Re]}return[]}}),_.find.TAG=g.getElementsByTagName?function(k,K){if(typeof K.getElementsByTagName<"u")return K.getElementsByTagName(k);if(g.qsa)return K.querySelectorAll(k)}:function(k,K){var ie,fe=[],ye=0,Re=K.getElementsByTagName(k);if(k==="*"){for(;ie=Re[ye++];)ie.nodeType===1&&fe.push(ie);return fe}return Re},_.find.CLASS=g.getElementsByClassName&&function(k,K){if(typeof K.getElementsByClassName<"u"&&Ge)return K.getElementsByClassName(k)},Gt=[],Te=[],(g.qsa=Lo.test(H.querySelectorAll))&&(Ai(function(k){var K;we.appendChild(k).innerHTML="<a id='"+ut+"'></a><select id='"+ut+"-\r\\' msallowcapture=''><option selected=''></option></select>",k.querySelectorAll("[msallowcapture^='']").length&&Te.push("[*^$]="+rt+`*(?:''|"")`),k.querySelectorAll("[selected]").length||Te.push("\\["+rt+"*(?:value|"+fu+")"),k.querySelectorAll("[id~="+ut+"-]").length||Te.push("~="),K=H.createElement("input"),K.setAttribute("name",""),k.appendChild(K),k.querySelectorAll("[name='']").length||Te.push("\\["+rt+"*name"+rt+"*="+rt+`*(?:''|"")`),k.querySelectorAll(":checked").length||Te.push(":checked"),k.querySelectorAll("a#"+ut+"+*").length||Te.push(".#.+[+~]"),k.querySelectorAll("\\\f"),Te.push("[\\r\\n\\f]")}),Ai(function(k){k.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var K=H.createElement("input");K.setAttribute("type","hidden"),k.appendChild(K).setAttribute("name","D"),k.querySelectorAll("[name=d]").length&&Te.push("name"+rt+"*[*^$|!~]?="),k.querySelectorAll(":enabled").length!==2&&Te.push(":enabled",":disabled"),we.appendChild(k).disabled=!0,k.querySelectorAll(":disabled").length!==2&&Te.push(":enabled",":disabled"),k.querySelectorAll("*,:x"),Te.push(",.*:")})),(g.matchesSelector=Lo.test(Pt=we.matches||we.webkitMatchesSelector||we.mozMatchesSelector||we.oMatchesSelector||we.msMatchesSelector))&&Ai(function(k){g.disconnectedMatch=Pt.call(k,"*"),Pt.call(k,"[s!='']:x"),Gt.push("!=",gu)}),g.cssSupportsSelector||Te.push(":has"),Te=Te.length&&new RegExp(Te.join("|")),Gt=Gt.length&&new RegExp(Gt.join("|")),O=Lo.test(we.compareDocumentPosition),mi=O||Lo.test(we.contains)?function(k,K){var ie=k.nodeType===9&&k.documentElement||k,fe=K&&K.parentNode;return k===fe||!!(fe&&fe.nodeType===1&&(ie.contains?ie.contains(fe):k.compareDocumentPosition&&k.compareDocumentPosition(fe)&16))}:function(k,K){if(K){for(;K=K.parentNode;)if(K===k)return!0}return!1},Os=O?function(k,K){if(k===K)return te=!0,0;var ie=!k.compareDocumentPosition-!K.compareDocumentPosition;return ie||(ie=(k.ownerDocument||k)==(K.ownerDocument||K)?k.compareDocumentPosition(K):1,ie&1||!g.sortDetached&&K.compareDocumentPosition(k)===ie?k==H||k.ownerDocument==Ne&&mi(Ne,k)?-1:K==H||K.ownerDocument==Ne&&mi(Ne,K)?1:B?Ms(B,k)-Ms(B,K):0:ie&4?-1:1)}:function(k,K){if(k===K)return te=!0,0;var ie,fe=0,ye=k.parentNode,Re=K.parentNode,be=[k],Ie=[K];if(!ye||!Re)return k==H?-1:K==H?1:ye?-1:Re?1:B?Ms(B,k)-Ms(B,K):0;if(ye===Re)return og(k,K);for(ie=k;ie=ie.parentNode;)be.unshift(ie);for(ie=K;ie=ie.parentNode;)Ie.unshift(ie);for(;be[fe]===Ie[fe];)fe++;return fe?og(be[fe],Ie[fe]):be[fe]==Ne?-1:Ie[fe]==Ne?1:0}),H},ht.matches=function(w,O){return ht(w,null,null,O)},ht.matchesSelector=function(w,O){if(V(w),g.matchesSelector&&Ge&&!_i[O+" "]&&(!Gt||!Gt.test(O))&&(!Te||!Te.test(O)))try{var N=Pt.call(w,O);if(N||g.disconnectedMatch||w.document&&w.document.nodeType!==11)return N}catch{_i(O,!0)}return ht(O,H,null,[w]).length>0},ht.contains=function(w,O){return(w.ownerDocument||w)!=H&&V(w),mi(w,O)},ht.attr=function(w,O){(w.ownerDocument||w)!=H&&V(w);var N=_.attrHandle[O.toLowerCase()],U=N&&Ps.call(_.attrHandle,O.toLowerCase())?N(w,O,!Ge):void 0;return U!==void 0?U:g.attributes||!Ge?w.getAttribute(O):(U=w.getAttributeNode(O))&&U.specified?U.value:null},ht.escape=function(w){return(w+"").replace(ng,sg)},ht.error=function(w){throw new Error("Syntax error, unrecognized expression: "+w)},ht.uniqueSort=function(w){var O,N=[],U=0,k=0;if(te=!g.detectDuplicates,B=!g.sortStable&&w.slice(0),w.sort(Os),te){for(;O=w[k++];)O===w[k]&&(U=N.push(k));for(;U--;)w.splice(N[U],1)}return B=null,w},C=ht.getText=function(w){var O,N="",U=0,k=w.nodeType;if(k){if(k===1||k===9||k===11){if(typeof w.textContent=="string")return w.textContent;for(w=w.firstChild;w;w=w.nextSibling)N+=C(w)}else if(k===3||k===4)return w.nodeValue}else for(;O=w[U++];)N+=C(O);return N},_=ht.selectors={cacheLength:50,createPseudo:Gi,match:Xa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(w){return w[1]=w[1].replace(_n,yn),w[3]=(w[3]||w[4]||w[5]||"").replace(_n,yn),w[2]==="~="&&(w[3]=" "+w[3]+" "),w.slice(0,4)},CHILD:function(w){return w[1]=w[1].toLowerCase(),w[1].slice(0,3)==="nth"?(w[3]||ht.error(w[0]),w[4]=+(w[4]?w[5]+(w[6]||1):2*(w[3]==="even"||w[3]==="odd")),w[5]=+(w[7]+w[8]||w[3]==="odd")):w[3]&&ht.error(w[0]),w},PSEUDO:function(w){var O,N=!w[6]&&w[2];return Xa.CHILD.test(w[0])?null:(w[3]?w[2]=w[4]||w[5]||"":N&&Sv.test(N)&&(O=T(N,!0))&&(O=N.indexOf(")",N.length-O)-N.length)&&(w[0]=w[0].slice(0,O),w[2]=N.slice(0,O)),w.slice(0,3))}},filter:{TAG:function(w){var O=w.replace(_n,yn).toLowerCase();return w==="*"?function(){return!0}:function(N){return N.nodeName&&N.nodeName.toLowerCase()===O}},CLASS:function(w){var O=wt[w+" "];return O||(O=new RegExp("(^|"+rt+")"+w+"("+rt+"|$)"))&&wt(w,function(N){return O.test(typeof N.className=="string"&&N.className||typeof N.getAttribute<"u"&&N.getAttribute("class")||"")})},ATTR:function(w,O,N){return function(U){var k=ht.attr(U,w);return k==null?O==="!=":O?(k+="",O==="="?k===N:O==="!="?k!==N:O==="^="?N&&k.indexOf(N)===0:O==="*="?N&&k.indexOf(N)>-1:O==="$="?N&&k.slice(-N.length)===N:O==="~="?(" "+k.replace(Tv," ")+" ").indexOf(N)>-1:O==="|="?k===N||k.slice(0,N.length+1)===N+"-":!1):!0}},CHILD:function(w,O,N,U,k){var K=w.slice(0,3)!=="nth",ie=w.slice(-4)!=="last",fe=O==="of-type";return U===1&&k===0?function(ye){return!!ye.parentNode}:function(ye,Re,be){var Ie,Ke,dt,Ae,jt,Ut,yi=K!==ie?"nextSibling":"previousSibling",Et=ye.parentNode,Oo=fe&&ye.nodeName.toLowerCase(),Po=!be&&!fe,vi=!1;if(Et){if(K){for(;yi;){for(Ae=ye;Ae=Ae[yi];)if(fe?Ae.nodeName.toLowerCase()===Oo:Ae.nodeType===1)return!1;Ut=yi=w==="only"&&!Ut&&"nextSibling"}return!0}if(Ut=[ie?Et.firstChild:Et.lastChild],ie&&Po){for(Ae=Et,dt=Ae[ut]||(Ae[ut]={}),Ke=dt[Ae.uniqueID]||(dt[Ae.uniqueID]={}),Ie=Ke[w]||[],jt=Ie[0]===ci&&Ie[1],vi=jt&&Ie[2],Ae=jt&&Et.childNodes[jt];Ae=++jt&&Ae&&Ae[yi]||(vi=jt=0)||Ut.pop();)if(Ae.nodeType===1&&++vi&&Ae===ye){Ke[w]=[ci,jt,vi];break}}else if(Po&&(Ae=ye,dt=Ae[ut]||(Ae[ut]={}),Ke=dt[Ae.uniqueID]||(dt[Ae.uniqueID]={}),Ie=Ke[w]||[],jt=Ie[0]===ci&&Ie[1],vi=jt),vi===!1)for(;(Ae=++jt&&Ae&&Ae[yi]||(vi=jt=0)||Ut.pop())&&!((fe?Ae.nodeName.toLowerCase()===Oo:Ae.nodeType===1)&&++vi&&(Po&&(dt=Ae[ut]||(Ae[ut]={}),Ke=dt[Ae.uniqueID]||(dt[Ae.uniqueID]={}),Ke[w]=[ci,vi]),Ae===ye)););return vi-=k,vi===U||vi%U===0&&vi/U>=0}}},PSEUDO:function(w,O){var N,U=_.pseudos[w]||_.setFilters[w.toLowerCase()]||ht.error("unsupported pseudo: "+w);return U[ut]?U(O):U.length>1?(N=[w,w,"",O],_.setFilters.hasOwnProperty(w.toLowerCase())?Gi(function(k,K){for(var ie,fe=U(k,O),ye=fe.length;ye--;)ie=Ms(k,fe[ye]),k[ie]=!(K[ie]=fe[ye])}):function(k){return U(k,0,N)}):U}},pseudos:{not:Gi(function(w){var O=[],N=[],U=M(w.replace(Ua,"$1"));return U[ut]?Gi(function(k,K,ie,fe){for(var ye,Re=U(k,null,fe,[]),be=k.length;be--;)(ye=Re[be])&&(k[be]=!(K[be]=ye))}):function(k,K,ie){return O[0]=k,U(O,null,ie,N),O[0]=null,!N.pop()}}),has:Gi(function(w){return function(O){return ht(w,O).length>0}}),contains:Gi(function(w){return w=w.replace(_n,yn),function(O){return(O.textContent||C(O)).indexOf(w)>-1}}),lang:Gi(function(w){return Rv.test(w||"")||ht.error("unsupported lang: "+w),w=w.replace(_n,yn).toLowerCase(),function(O){var N;do if(N=Ge?O.lang:O.getAttribute("xml:lang")||O.getAttribute("lang"))return N=N.toLowerCase(),N===w||N.indexOf(w+"-")===0;while((O=O.parentNode)&&O.nodeType===1);return!1}}),target:function(w){var O=c.location&&c.location.hash;return O&&O.slice(1)===w.id},root:function(w){return w===we},focus:function(w){return w===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(w.type||w.href||~w.tabIndex)},enabled:ag(!1),disabled:ag(!0),checked:function(w){var O=w.nodeName.toLowerCase();return O==="input"&&!!w.checked||O==="option"&&!!w.selected},selected:function(w){return w.parentNode&&w.parentNode.selectedIndex,w.selected===!0},empty:function(w){for(w=w.firstChild;w;w=w.nextSibling)if(w.nodeType<6)return!1;return!0},parent:function(w){return!_.pseudos.empty(w)},header:function(w){return Lv.test(w.nodeName)},input:function(w){return Iv.test(w.nodeName)},button:function(w){var O=w.nodeName.toLowerCase();return O==="input"&&w.type==="button"||O==="button"},text:function(w){var O;return w.nodeName.toLowerCase()==="input"&&w.type==="text"&&((O=w.getAttribute("type"))==null||O.toLowerCase()==="text")},first:Fs(function(){return[0]}),last:Fs(function(w,O){return[O-1]}),eq:Fs(function(w,O,N){return[N<0?N+O:N]}),even:Fs(function(w,O){for(var N=0;N<O;N+=2)w.push(N);return w}),odd:Fs(function(w,O){for(var N=1;N<O;N+=2)w.push(N);return w}),lt:Fs(function(w,O,N){for(var U=N<0?N+O:N>O?O:N;--U>=0;)w.push(U);return w}),gt:Fs(function(w,O,N){for(var U=N<0?N+O:N;++U<O;)w.push(U);return w})}},_.pseudos.nth=_.pseudos.eq;for(d in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[d]=Mv(d);for(d in{submit:!0,reset:!0})_.pseudos[d]=Dv(d);function lg(){}lg.prototype=_.filters=_.pseudos,_.setFilters=new lg,T=ht.tokenize=function(w,O){var N,U,k,K,ie,fe,ye,Re=Io[w+" "];if(Re)return O?0:Re.slice(0);for(ie=w,fe=[],ye=_.preFilter;ie;){(!N||(U=wv.exec(ie)))&&(U&&(ie=ie.slice(U[0].length)||ie),fe.push(k=[])),N=!1,(U=ig.exec(ie))&&(N=U.shift(),k.push({value:N,type:U[0].replace(Ua," ")}),ie=ie.slice(N.length));for(K in _.filter)(U=Xa[K].exec(ie))&&(!ye[K]||(U=ye[K](U)))&&(N=U.shift(),k.push({value:N,type:K,matches:U}),ie=ie.slice(N.length));if(!N)break}return O?ie.length:ie?ht.error(w):Io(w,fe).slice(0)};function qa(w){for(var O=0,N=w.length,U="";O<N;O++)U+=w[O].value;return U}function Za(w,O,N){var U=O.dir,k=O.next,K=k||U,ie=N&&K==="parentNode",fe=Je++;return O.first?function(ye,Re,be){for(;ye=ye[U];)if(ye.nodeType===1||ie)return w(ye,Re,be);return!1}:function(ye,Re,be){var Ie,Ke,dt,Ae=[ci,fe];if(be){for(;ye=ye[U];)if((ye.nodeType===1||ie)&&w(ye,Re,be))return!0}else for(;ye=ye[U];)if(ye.nodeType===1||ie)if(dt=ye[ut]||(ye[ut]={}),Ke=dt[ye.uniqueID]||(dt[ye.uniqueID]={}),k&&k===ye.nodeName.toLowerCase())ye=ye[U]||ye;else{if((Ie=Ke[K])&&Ie[0]===ci&&Ie[1]===fe)return Ae[2]=Ie[2];if(Ke[K]=Ae,Ae[2]=w(ye,Re,be))return!0}return!1}}function yu(w){return w.length>1?function(O,N,U){for(var k=w.length;k--;)if(!w[k](O,N,U))return!1;return!0}:w[0]}function Fv(w,O,N){for(var U=0,k=O.length;U<k;U++)ht(w,O[U],N);return N}function Ja(w,O,N,U,k){for(var K,ie=[],fe=0,ye=w.length,Re=O!=null;fe<ye;fe++)(K=w[fe])&&(!N||N(K,U,k))&&(ie.push(K),Re&&O.push(fe));return ie}function vu(w,O,N,U,k,K){return U&&!U[ut]&&(U=vu(U)),k&&!k[ut]&&(k=vu(k,K)),Gi(function(ie,fe,ye,Re){var be,Ie,Ke,dt=[],Ae=[],jt=fe.length,Ut=ie||Fv(O||"*",ye.nodeType?[ye]:ye,[]),yi=w&&(ie||!O)?Ja(Ut,dt,w,ye,Re):Ut,Et=N?k||(ie?w:jt||U)?[]:fe:yi;if(N&&N(yi,Et,ye,Re),U)for(be=Ja(Et,Ae),U(be,[],ye,Re),Ie=be.length;Ie--;)(Ke=be[Ie])&&(Et[Ae[Ie]]=!(yi[Ae[Ie]]=Ke));if(ie){if(k||w){if(k){for(be=[],Ie=Et.length;Ie--;)(Ke=Et[Ie])&&be.push(yi[Ie]=Ke);k(null,Et=[],be,Re)}for(Ie=Et.length;Ie--;)(Ke=Et[Ie])&&(be=k?Ms(ie,Ke):dt[Ie])>-1&&(ie[be]=!(fe[be]=Ke))}}else Et=Ja(Et===fe?Et.splice(jt,Et.length):Et),k?k(null,fe,Et,Re):Un.apply(fe,Et)})}function Cu(w){for(var O,N,U,k=w.length,K=_.relative[w[0].type],ie=K||_.relative[" "],fe=K?1:0,ye=Za(function(Ie){return Ie===O},ie,!0),Re=Za(function(Ie){return Ms(O,Ie)>-1},ie,!0),be=[function(Ie,Ke,dt){var Ae=!K&&(dt||Ke!==G)||((O=Ke).nodeType?ye(Ie,Ke,dt):Re(Ie,Ke,dt));return O=null,Ae}];fe<k;fe++)if(N=_.relative[w[fe].type])be=[Za(yu(be),N)];else{if(N=_.filter[w[fe].type].apply(null,w[fe].matches),N[ut]){for(U=++fe;U<k&&!_.relative[w[U].type];U++);return vu(fe>1&&yu(be),fe>1&&qa(w.slice(0,fe-1).concat({value:w[fe-2].type===" "?"*":""})).replace(Ua,"$1"),N,fe<U&&Cu(w.slice(fe,U)),U<k&&Cu(w=w.slice(U)),U<k&&qa(w))}be.push(N)}return yu(be)}function Nv(w,O){var N=O.length>0,U=w.length>0,k=function(K,ie,fe,ye,Re){var be,Ie,Ke,dt=0,Ae="0",jt=K&&[],Ut=[],yi=G,Et=K||U&&_.find.TAG("*",Re),Oo=ci+=yi==null?1:Math.random()||.1,Po=Et.length;for(Re&&(G=ie==H||ie||Re);Ae!==Po&&(be=Et[Ae])!=null;Ae++){if(U&&be){for(Ie=0,!ie&&be.ownerDocument!=H&&(V(be),fe=!Ge);Ke=w[Ie++];)if(Ke(be,ie||H,fe)){ye.push(be);break}Re&&(ci=Oo)}N&&((be=!Ke&&be)&&dt--,K&&jt.push(be))}if(dt+=Ae,N&&Ae!==dt){for(Ie=0;Ke=O[Ie++];)Ke(jt,Ut,ie,fe);if(K){if(dt>0)for(;Ae--;)jt[Ae]||Ut[Ae]||(Ut[Ae]=Yn.call(ye));Ut=Ja(Ut)}Un.apply(ye,Ut),Re&&!K&&Ut.length>0&&dt+O.length>1&&ht.uniqueSort(ye)}return Re&&(ci=Oo,G=yi),jt};return N?Gi(k):k}return M=ht.compile=function(w,O){var N,U=[],k=[],K=Ya[w+" "];if(!K){for(O||(O=T(w)),N=O.length;N--;)K=Cu(O[N]),K[ut]?U.push(K):k.push(K);K=Ya(w,Nv(k,U)),K.selector=w}return K},L=ht.select=function(w,O,N,U){var k,K,ie,fe,ye,Re=typeof w=="function"&&w,be=!U&&T(w=Re.selector||w);if(N=N||[],be.length===1){if(K=be[0]=be[0].slice(0),K.length>2&&(ie=K[0]).type==="ID"&&O.nodeType===9&&Ge&&_.relative[K[1].type]){if(O=(_.find.ID(ie.matches[0].replace(_n,yn),O)||[])[0],O)Re&&(O=O.parentNode);else return N;w=w.slice(K.shift().value.length)}for(k=Xa.needsContext.test(w)?0:K.length;k--&&(ie=K[k],!_.relative[fe=ie.type]);)if((ye=_.find[fe])&&(U=ye(ie.matches[0].replace(_n,yn),pu.test(K[0].type)&&_u(O.parentNode)||O))){if(K.splice(k,1),w=U.length&&qa(K),!w)return Un.apply(N,U),N;break}}return(Re||M(w,be))(U,O,!Ge,N,!O||pu.test(w)&&_u(O.parentNode)||O),N},g.sortStable=ut.split("").sort(Os).join("")===ut,g.detectDuplicates=!!te,V(),g.sortDetached=Ai(function(w){return w.compareDocumentPosition(H.createElement("fieldset"))&1}),Ai(function(w){return w.innerHTML="<a href='#'></a>",w.firstChild.getAttribute("href")==="#"})||mu("type|href|height|width",function(w,O,N){if(!N)return w.getAttribute(O,O.toLowerCase()==="type"?1:2)}),(!g.attributes||!Ai(function(w){return w.innerHTML="<input/>",w.firstChild.setAttribute("value",""),w.firstChild.getAttribute("value")===""}))&&mu("value",function(w,O,N){if(!N&&w.nodeName.toLowerCase()==="input")return w.defaultValue}),Ai(function(w){return w.getAttribute("disabled")==null})||mu(fu,function(w,O,N){var U;if(!N)return w[O]===!0?O.toLowerCase():(U=w.getAttributeNode(O))&&U.specified?U.value:null}),ht}(e);p.find=W,p.expr=W.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=W.uniqueSort,p.text=W.getText,p.isXMLDoc=W.isXML,p.contains=W.contains,p.escapeSelector=W.escape;var Z=function(c,d,g){for(var _=[],C=g!==void 0;(c=c[d])&&c.nodeType!==9;)if(c.nodeType===1){if(C&&p(c).is(g))break;_.push(c)}return _},ae=function(c,d){for(var g=[];c;c=c.nextSibling)c.nodeType===1&&c!==d&&g.push(c);return g},he=p.expr.match.needsContext;function ue(c,d){return c.nodeName&&c.nodeName.toLowerCase()===d.toLowerCase()}var ve=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ce(c,d,g){return E(d)?p.grep(c,function(_,C){return!!d.call(_,C,_)!==g}):d.nodeType?p.grep(c,function(_){return _===d!==g}):typeof d!="string"?p.grep(c,function(_){return l.call(d,_)>-1!==g}):p.filter(d,c,g)}p.filter=function(c,d,g){var _=d[0];return g&&(c=":not("+c+")"),d.length===1&&_.nodeType===1?p.find.matchesSelector(_,c)?[_]:[]:p.find.matches(c,p.grep(d,function(C){return C.nodeType===1}))},p.fn.extend({find:function(c){var d,g,_=this.length,C=this;if(typeof c!="string")return this.pushStack(p(c).filter(function(){for(d=0;d<_;d++)if(p.contains(C[d],this))return!0}));for(g=this.pushStack([]),d=0;d<_;d++)p.find(c,C[d],g);return _>1?p.uniqueSort(g):g},filter:function(c){return this.pushStack(Ce(this,c||[],!1))},not:function(c){return this.pushStack(Ce(this,c||[],!0))},is:function(c){return!!Ce(this,typeof c=="string"&&he.test(c)?p(c):c||[],!1).length}});var le,se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,X=p.fn.init=function(c,d,g){var _,C;if(!c)return this;if(g=g||le,typeof c=="string")if(c[0]==="<"&&c[c.length-1]===">"&&c.length>=3?_=[null,c,null]:_=se.exec(c),_&&(_[1]||!d))if(_[1]){if(d=d instanceof p?d[0]:d,p.merge(this,p.parseHTML(_[1],d&&d.nodeType?d.ownerDocument||d:S,!0)),ve.test(_[1])&&p.isPlainObject(d))for(_ in d)E(this[_])?this[_](d[_]):this.attr(_,d[_]);return this}else return C=S.getElementById(_[2]),C&&(this[0]=C,this.length=1),this;else return!d||d.jquery?(d||g).find(c):this.constructor(d).find(c);else{if(c.nodeType)return this[0]=c,this.length=1,this;if(E(c))return g.ready!==void 0?g.ready(c):c(p)}return p.makeArray(c,this)};X.prototype=p.fn,le=p(S);var ce=/^(?:parents|prev(?:Until|All))/,Pe={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(c){var d=p(c,this),g=d.length;return this.filter(function(){for(var _=0;_<g;_++)if(p.contains(this,d[_]))return!0})},closest:function(c,d){var g,_=0,C=this.length,x=[],T=typeof c!="string"&&p(c);if(!he.test(c)){for(;_<C;_++)for(g=this[_];g&&g!==d;g=g.parentNode)if(g.nodeType<11&&(T?T.index(g)>-1:g.nodeType===1&&p.find.matchesSelector(g,c))){x.push(g);break}}return this.pushStack(x.length>1?p.uniqueSort(x):x)},index:function(c){return c?typeof c=="string"?l.call(p(c),this[0]):l.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,d){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(c,d))))},addBack:function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c))}});function Ve(c,d){for(;(c=c[d])&&c.nodeType!==1;);return c}p.each({parent:function(c){var d=c.parentNode;return d&&d.nodeType!==11?d:null},parents:function(c){return Z(c,"parentNode")},parentsUntil:function(c,d,g){return Z(c,"parentNode",g)},next:function(c){return Ve(c,"nextSibling")},prev:function(c){return Ve(c,"previousSibling")},nextAll:function(c){return Z(c,"nextSibling")},prevAll:function(c){return Z(c,"previousSibling")},nextUntil:function(c,d,g){return Z(c,"nextSibling",g)},prevUntil:function(c,d,g){return Z(c,"previousSibling",g)},siblings:function(c){return ae((c.parentNode||{}).firstChild,c)},children:function(c){return ae(c.firstChild)},contents:function(c){return c.contentDocument!=null&&s(c.contentDocument)?c.contentDocument:(ue(c,"template")&&(c=c.content||c),p.merge([],c.childNodes))}},function(c,d){p.fn[c]=function(g,_){var C=p.map(this,d,g);return c.slice(-5)!=="Until"&&(_=g),_&&typeof _=="string"&&(C=p.filter(_,C)),this.length>1&&(Pe[c]||p.uniqueSort(C),ce.test(c)&&C.reverse()),this.pushStack(C)}});var We=/[^\x20\t\r\n\f]+/g;function J(c){var d={};return p.each(c.match(We)||[],function(g,_){d[_]=!0}),d}p.Callbacks=function(c){c=typeof c=="string"?J(c):p.extend({},c);var d,g,_,C,x=[],T=[],M=-1,L=function(){for(C=C||c.once,_=d=!0;T.length;M=-1)for(g=T.shift();++M<x.length;)x[M].apply(g[0],g[1])===!1&&c.stopOnFalse&&(M=x.length,g=!1);c.memory||(g=!1),d=!1,C&&(g?x=[]:x="")},G={add:function(){return x&&(g&&!d&&(M=x.length-1,T.push(g)),function B(te){p.each(te,function(V,H){E(H)?(!c.unique||!G.has(H))&&x.push(H):H&&H.length&&I(H)!=="string"&&B(H)})}(arguments),g&&!d&&L()),this},remove:function(){return p.each(arguments,function(B,te){for(var V;(V=p.inArray(te,x,V))>-1;)x.splice(V,1),V<=M&&M--}),this},has:function(B){return B?p.inArray(B,x)>-1:x.length>0},empty:function(){return x&&(x=[]),this},disable:function(){return C=T=[],x=g="",this},disabled:function(){return!x},lock:function(){return C=T=[],!g&&!d&&(x=g=""),this},locked:function(){return!!C},fireWith:function(B,te){return C||(te=te||[],te=[B,te.slice?te.slice():te],T.push(te),d||L()),this},fire:function(){return G.fireWith(this,arguments),this},fired:function(){return!!_}};return G};function ct(c){return c}function ke(c){throw c}function Be(c,d,g,_){var C;try{c&&E(C=c.promise)?C.call(c).done(d).fail(g):c&&E(C=c.then)?C.call(c,d,g):d.apply(void 0,[c].slice(_))}catch(x){g.apply(void 0,[x])}}p.extend({Deferred:function(c){var d=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],g="pending",_={state:function(){return g},always:function(){return C.done(arguments).fail(arguments),this},catch:function(x){return _.then(null,x)},pipe:function(){var x=arguments;return p.Deferred(function(T){p.each(d,function(M,L){var G=E(x[L[4]])&&x[L[4]];C[L[1]](function(){var B=G&&G.apply(this,arguments);B&&E(B.promise)?B.promise().progress(T.notify).done(T.resolve).fail(T.reject):T[L[0]+"With"](this,G?[B]:arguments)})}),x=null}).promise()},then:function(x,T,M){var L=0;function G(B,te,V,H){return function(){var we=this,Ge=arguments,Te=function(){var Pt,mi;if(!(B<L)){if(Pt=V.apply(we,Ge),Pt===te.promise())throw new TypeError("Thenable self-resolution");mi=Pt&&(typeof Pt=="object"||typeof Pt=="function")&&Pt.then,E(mi)?H?mi.call(Pt,G(L,te,ct,H),G(L,te,ke,H)):(L++,mi.call(Pt,G(L,te,ct,H),G(L,te,ke,H),G(L,te,ct,te.notifyWith))):(V!==ct&&(we=void 0,Ge=[Pt]),(H||te.resolveWith)(we,Ge))}},Gt=H?Te:function(){try{Te()}catch(Pt){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(Pt,Gt.stackTrace),B+1>=L&&(V!==ke&&(we=void 0,Ge=[Pt]),te.rejectWith(we,Ge))}};B?Gt():(p.Deferred.getStackHook&&(Gt.stackTrace=p.Deferred.getStackHook()),e.setTimeout(Gt))}}return p.Deferred(function(B){d[0][3].add(G(0,B,E(M)?M:ct,B.notifyWith)),d[1][3].add(G(0,B,E(x)?x:ct)),d[2][3].add(G(0,B,E(T)?T:ke))}).promise()},promise:function(x){return x!=null?p.extend(x,_):_}},C={};return p.each(d,function(x,T){var M=T[2],L=T[5];_[T[1]]=M.add,L&&M.add(function(){g=L},d[3-x][2].disable,d[3-x][3].disable,d[0][2].lock,d[0][3].lock),M.add(T[3].fire),C[T[0]]=function(){return C[T[0]+"With"](this===C?void 0:this,arguments),this},C[T[0]+"With"]=M.fireWith}),_.promise(C),c&&c.call(C,C),C},when:function(c){var d=arguments.length,g=d,_=Array(g),C=r.call(arguments),x=p.Deferred(),T=function(M){return function(L){_[M]=this,C[M]=arguments.length>1?r.call(arguments):L,--d||x.resolveWith(_,C)}};if(d<=1&&(Be(c,x.done(T(g)).resolve,x.reject,!d),x.state()==="pending"||E(C[g]&&C[g].then)))return x.then();for(;g--;)Be(C[g],T(g),x.reject);return x.promise()}});var ft=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(c,d){e.console&&e.console.warn&&c&&ft.test(c.name)&&e.console.warn("jQuery.Deferred exception: "+c.message,c.stack,d)},p.readyException=function(c){e.setTimeout(function(){throw c})};var vt=p.Deferred();p.fn.ready=function(c){return vt.then(c).catch(function(d){p.readyException(d)}),this},p.extend({isReady:!1,readyWait:1,ready:function(c){(c===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(c!==!0&&--p.readyWait>0)&&vt.resolveWith(S,[p]))}}),p.ready.then=vt.then;function Ze(){S.removeEventListener("DOMContentLoaded",Ze),e.removeEventListener("load",Ze),p.ready()}S.readyState==="complete"||S.readyState!=="loading"&&!S.documentElement.doScroll?e.setTimeout(p.ready):(S.addEventListener("DOMContentLoaded",Ze),e.addEventListener("load",Ze));var nt=function(c,d,g,_,C,x,T){var M=0,L=c.length,G=g==null;if(I(g)==="object"){C=!0;for(M in g)nt(c,d,M,g[M],!0,x,T)}else if(_!==void 0&&(C=!0,E(_)||(T=!0),G&&(T?(d.call(c,_),d=null):(G=d,d=function(B,te,V){return G.call(p(B),V)})),d))for(;M<L;M++)d(c[M],g,T?_:_.call(c[M],M,d(c[M],g)));return C?c:G?d.call(c):L?d(c[0],g):x},ri=/^-ms-/,oi=/-([a-z])/g;function P(c,d){return d.toUpperCase()}function F(c){return c.replace(ri,"ms-").replace(oi,P)}var z=function(c){return c.nodeType===1||c.nodeType===9||!+c.nodeType};function q(){this.expando=p.expando+q.uid++}q.uid=1,q.prototype={cache:function(c){var d=c[this.expando];return d||(d={},z(c)&&(c.nodeType?c[this.expando]=d:Object.defineProperty(c,this.expando,{value:d,configurable:!0}))),d},set:function(c,d,g){var _,C=this.cache(c);if(typeof d=="string")C[F(d)]=g;else for(_ in d)C[F(_)]=d[_];return C},get:function(c,d){return d===void 0?this.cache(c):c[this.expando]&&c[this.expando][F(d)]},access:function(c,d,g){return d===void 0||d&&typeof d=="string"&&g===void 0?this.get(c,d):(this.set(c,d,g),g!==void 0?g:d)},remove:function(c,d){var g,_=c[this.expando];if(_!==void 0){if(d!==void 0)for(Array.isArray(d)?d=d.map(F):(d=F(d),d=d in _?[d]:d.match(We)||[]),g=d.length;g--;)delete _[d[g]];(d===void 0||p.isEmptyObject(_))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var d=c[this.expando];return d!==void 0&&!p.isEmptyObject(d)}};var j=new q,ee=new q,ge=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,oe=/[A-Z]/g;function re(c){return c==="true"?!0:c==="false"?!1:c==="null"?null:c===+c+""?+c:ge.test(c)?JSON.parse(c):c}function Q(c,d,g){var _;if(g===void 0&&c.nodeType===1)if(_="data-"+d.replace(oe,"-$&").toLowerCase(),g=c.getAttribute(_),typeof g=="string"){try{g=re(g)}catch{}ee.set(c,d,g)}else g=void 0;return g}p.extend({hasData:function(c){return ee.hasData(c)||j.hasData(c)},data:function(c,d,g){return ee.access(c,d,g)},removeData:function(c,d){ee.remove(c,d)},_data:function(c,d,g){return j.access(c,d,g)},_removeData:function(c,d){j.remove(c,d)}}),p.fn.extend({data:function(c,d){var g,_,C,x=this[0],T=x&&x.attributes;if(c===void 0){if(this.length&&(C=ee.get(x),x.nodeType===1&&!j.get(x,"hasDataAttrs"))){for(g=T.length;g--;)T[g]&&(_=T[g].name,_.indexOf("data-")===0&&(_=F(_.slice(5)),Q(x,_,C[_])));j.set(x,"hasDataAttrs",!0)}return C}return typeof c=="object"?this.each(function(){ee.set(this,c)}):nt(this,function(M){var L;if(x&&M===void 0)return L=ee.get(x,c),L!==void 0||(L=Q(x,c),L!==void 0)?L:void 0;this.each(function(){ee.set(this,c,M)})},null,d,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){ee.remove(this,c)})}}),p.extend({queue:function(c,d,g){var _;if(c)return d=(d||"fx")+"queue",_=j.get(c,d),g&&(!_||Array.isArray(g)?_=j.access(c,d,p.makeArray(g)):_.push(g)),_||[]},dequeue:function(c,d){d=d||"fx";var g=p.queue(c,d),_=g.length,C=g.shift(),x=p._queueHooks(c,d),T=function(){p.dequeue(c,d)};C==="inprogress"&&(C=g.shift(),_--),C&&(d==="fx"&&g.unshift("inprogress"),delete x.stop,C.call(c,T,x)),!_&&x&&x.empty.fire()},_queueHooks:function(c,d){var g=d+"queueHooks";return j.get(c,g)||j.access(c,g,{empty:p.Callbacks("once memory").add(function(){j.remove(c,[d+"queue",g])})})}}),p.fn.extend({queue:function(c,d){var g=2;return typeof c!="string"&&(d=c,c="fx",g--),arguments.length<g?p.queue(this[0],c):d===void 0?this:this.each(function(){var _=p.queue(this,c,d);p._queueHooks(this,c),c==="fx"&&_[0]!=="inprogress"&&p.dequeue(this,c)})},dequeue:function(c){return this.each(function(){p.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,d){var g,_=1,C=p.Deferred(),x=this,T=this.length,M=function(){--_||C.resolveWith(x,[x])};for(typeof c!="string"&&(d=c,c=void 0),c=c||"fx";T--;)g=j.get(x[T],c+"queueHooks"),g&&g.empty&&(_++,g.empty.add(M));return M(),C.promise(d)}});var _e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=new RegExp("^(?:([+-])=|)("+_e+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],Ee=S.documentElement,Se=function(c){return p.contains(c.ownerDocument,c)},Xe={composed:!0};Ee.getRootNode&&(Se=function(c){return p.contains(c.ownerDocument,c)||c.getRootNode(Xe)===c.ownerDocument});var Fe=function(c,d){return c=d||c,c.style.display==="none"||c.style.display===""&&Se(c)&&p.css(c,"display")==="none"};function st(c,d,g,_){var C,x,T=20,M=_?function(){return _.cur()}:function(){return p.css(c,d,"")},L=M(),G=g&&g[3]||(p.cssNumber[d]?"":"px"),B=c.nodeType&&(p.cssNumber[d]||G!=="px"&&+L)&&de.exec(p.css(c,d));if(B&&B[3]!==G){for(L=L/2,G=G||B[3],B=+L||1;T--;)p.style(c,d,B+G),(1-x)*(1-(x=M()/L||.5))<=0&&(T=0),B=B/x;B=B*2,p.style(c,d,B+G),g=g||[]}return g&&(B=+B||+L||0,C=g[1]?B+(g[1]+1)*g[2]:+g[2],_&&(_.unit=G,_.start=B,_.end=C)),C}var Nt={};function Ct(c){var d,g=c.ownerDocument,_=c.nodeName,C=Nt[_];return C||(d=g.body.appendChild(g.createElement(_)),C=p.css(d,"display"),d.parentNode.removeChild(d),C==="none"&&(C="block"),Nt[_]=C,C)}function gi(c,d){for(var g,_,C=[],x=0,T=c.length;x<T;x++)_=c[x],_.style&&(g=_.style.display,d?(g==="none"&&(C[x]=j.get(_,"display")||null,C[x]||(_.style.display="")),_.style.display===""&&Fe(_)&&(C[x]=Ct(_))):g!=="none"&&(C[x]="none",j.set(_,"display",g)));for(x=0;x<T;x++)C[x]!=null&&(c[x].style.display=C[x]);return c}p.fn.extend({show:function(){return gi(this,!0)},hide:function(){return gi(this)},toggle:function(c){return typeof c=="boolean"?c?this.show():this.hide():this.each(function(){Fe(this)?p(this).show():p(this).hide()})}});var pi=/^(?:checkbox|radio)$/i,Rs=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,kt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var c=S.createDocumentFragment(),d=c.appendChild(S.createElement("div")),g=S.createElement("input");g.setAttribute("type","radio"),g.setAttribute("checked","checked"),g.setAttribute("name","t"),d.appendChild(g),v.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,d.innerHTML="<option></option>",v.option=!!d.lastChild})();var gt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,v.option||(gt.optgroup=gt.option=[1,"<select multiple='multiple'>","</select>"]);function At(c,d){var g;return typeof c.getElementsByTagName<"u"?g=c.getElementsByTagName(d||"*"):typeof c.querySelectorAll<"u"?g=c.querySelectorAll(d||"*"):g=[],d===void 0||d&&ue(c,d)?p.merge([c],g):g}function gr(c,d){for(var g=0,_=c.length;g<_;g++)j.set(c[g],"globalEval",!d||j.get(d[g],"globalEval"))}var wo=/<|&#?\w+;/;function zn(c,d,g,_,C){for(var x,T,M,L,G,B,te=d.createDocumentFragment(),V=[],H=0,we=c.length;H<we;H++)if(x=c[H],x||x===0)if(I(x)==="object")p.merge(V,x.nodeType?[x]:x);else if(!wo.test(x))V.push(d.createTextNode(x));else{for(T=T||te.appendChild(d.createElement("div")),M=(Rs.exec(x)||["",""])[1].toLowerCase(),L=gt[M]||gt._default,T.innerHTML=L[1]+p.htmlPrefilter(x)+L[2],B=L[0];B--;)T=T.lastChild;p.merge(V,T.childNodes),T=te.firstChild,T.textContent=""}for(te.textContent="",H=0;x=V[H++];){if(_&&p.inArray(x,_)>-1){C&&C.push(x);continue}if(G=Se(x),T=At(te.appendChild(x),"script"),G&&gr(T),g)for(B=0;x=T[B++];)kt.test(x.type||"")&&g.push(x)}return te}var Hn=/^([^.]*)(?:\.(.+)|)/;function bi(){return!0}function mn(){return!1}function Wa(c,d){return c===Jt()==(d==="focus")}function Jt(){try{return S.activeElement}catch{}}function tn(c,d,g,_,C,x){var T,M;if(typeof d=="object"){typeof g!="string"&&(_=_||g,g=void 0);for(M in d)tn(c,M,g,_,d[M],x);return c}if(_==null&&C==null?(C=g,_=g=void 0):C==null&&(typeof g=="string"?(C=_,_=void 0):(C=_,_=g,g=void 0)),C===!1)C=mn;else if(!C)return c;return x===1&&(T=C,C=function(L){return p().off(L),T.apply(this,arguments)},C.guid=T.guid||(T.guid=p.guid++)),c.each(function(){p.event.add(this,d,C,_,g)})}p.event={global:{},add:function(c,d,g,_,C){var x,T,M,L,G,B,te,V,H,we,Ge,Te=j.get(c);if(z(c))for(g.handler&&(x=g,g=x.handler,C=x.selector),C&&p.find.matchesSelector(Ee,C),g.guid||(g.guid=p.guid++),(L=Te.events)||(L=Te.events=Object.create(null)),(T=Te.handle)||(T=Te.handle=function(Gt){return typeof p<"u"&&p.event.triggered!==Gt.type?p.event.dispatch.apply(c,arguments):void 0}),d=(d||"").match(We)||[""],G=d.length;G--;)M=Hn.exec(d[G])||[],H=Ge=M[1],we=(M[2]||"").split(".").sort(),H&&(te=p.event.special[H]||{},H=(C?te.delegateType:te.bindType)||H,te=p.event.special[H]||{},B=p.extend({type:H,origType:Ge,data:_,handler:g,guid:g.guid,selector:C,needsContext:C&&p.expr.match.needsContext.test(C),namespace:we.join(".")},x),(V=L[H])||(V=L[H]=[],V.delegateCount=0,(!te.setup||te.setup.call(c,_,we,T)===!1)&&c.addEventListener&&c.addEventListener(H,T)),te.add&&(te.add.call(c,B),B.handler.guid||(B.handler.guid=g.guid)),C?V.splice(V.delegateCount++,0,B):V.push(B),p.event.global[H]=!0)},remove:function(c,d,g,_,C){var x,T,M,L,G,B,te,V,H,we,Ge,Te=j.hasData(c)&&j.get(c);if(!(!Te||!(L=Te.events))){for(d=(d||"").match(We)||[""],G=d.length;G--;){if(M=Hn.exec(d[G])||[],H=Ge=M[1],we=(M[2]||"").split(".").sort(),!H){for(H in L)p.event.remove(c,H+d[G],g,_,!0);continue}for(te=p.event.special[H]||{},H=(_?te.delegateType:te.bindType)||H,V=L[H]||[],M=M[2]&&new RegExp("(^|\\.)"+we.join("\\.(?:.*\\.|)")+"(\\.|$)"),T=x=V.length;x--;)B=V[x],(C||Ge===B.origType)&&(!g||g.guid===B.guid)&&(!M||M.test(B.namespace))&&(!_||_===B.selector||_==="**"&&B.selector)&&(V.splice(x,1),B.selector&&V.delegateCount--,te.remove&&te.remove.call(c,B));T&&!V.length&&((!te.teardown||te.teardown.call(c,we,Te.handle)===!1)&&p.removeEvent(c,H,Te.handle),delete L[H])}p.isEmptyObject(L)&&j.remove(c,"handle events")}},dispatch:function(c){var d,g,_,C,x,T,M=new Array(arguments.length),L=p.event.fix(c),G=(j.get(this,"events")||Object.create(null))[L.type]||[],B=p.event.special[L.type]||{};for(M[0]=L,d=1;d<arguments.length;d++)M[d]=arguments[d];if(L.delegateTarget=this,!(B.preDispatch&&B.preDispatch.call(this,L)===!1)){for(T=p.event.handlers.call(this,L,G),d=0;(C=T[d++])&&!L.isPropagationStopped();)for(L.currentTarget=C.elem,g=0;(x=C.handlers[g++])&&!L.isImmediatePropagationStopped();)(!L.rnamespace||x.namespace===!1||L.rnamespace.test(x.namespace))&&(L.handleObj=x,L.data=x.data,_=((p.event.special[x.origType]||{}).handle||x.handler).apply(C.elem,M),_!==void 0&&(L.result=_)===!1&&(L.preventDefault(),L.stopPropagation()));return B.postDispatch&&B.postDispatch.call(this,L),L.result}},handlers:function(c,d){var g,_,C,x,T,M=[],L=d.delegateCount,G=c.target;if(L&&G.nodeType&&!(c.type==="click"&&c.button>=1)){for(;G!==this;G=G.parentNode||this)if(G.nodeType===1&&!(c.type==="click"&&G.disabled===!0)){for(x=[],T={},g=0;g<L;g++)_=d[g],C=_.selector+" ",T[C]===void 0&&(T[C]=_.needsContext?p(C,this).index(G)>-1:p.find(C,this,null,[G]).length),T[C]&&x.push(_);x.length&&M.push({elem:G,handlers:x})}}return G=this,L<d.length&&M.push({elem:G,handlers:d.slice(L)}),M},addProp:function(c,d){Object.defineProperty(p.Event.prototype,c,{enumerable:!0,configurable:!0,get:E(d)?function(){if(this.originalEvent)return d(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(g){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:g})}})},fix:function(c){return c[p.expando]?c:new p.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var d=this||c;return pi.test(d.type)&&d.click&&ue(d,"input")&&Bt(d,"click",bi),!1},trigger:function(c){var d=this||c;return pi.test(d.type)&&d.click&&ue(d,"input")&&Bt(d,"click"),!0},_default:function(c){var d=c.target;return pi.test(d.type)&&d.click&&ue(d,"input")&&j.get(d,"click")||ue(d,"a")}},beforeunload:{postDispatch:function(c){c.result!==void 0&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};function Bt(c,d,g){if(!g){j.get(c,d)===void 0&&p.event.add(c,d,bi);return}j.set(c,d,!1),p.event.add(c,d,{namespace:!1,handler:function(_){var C,x,T=j.get(this,d);if(_.isTrigger&1&&this[d]){if(T.length)(p.event.special[d]||{}).delegateType&&_.stopPropagation();else if(T=r.call(arguments),j.set(this,d,T),C=g(this,d),this[d](),x=j.get(this,d),T!==x||C?j.set(this,d,!1):x={},T!==x)return _.stopImmediatePropagation(),_.preventDefault(),x&&x.value}else T.length&&(j.set(this,d,{value:p.event.trigger(p.extend(T[0],p.Event.prototype),T.slice(1),this)}),_.stopImmediatePropagation())}})}p.removeEvent=function(c,d,g){c.removeEventListener&&c.removeEventListener(d,g)},p.Event=function(c,d){if(!(this instanceof p.Event))return new p.Event(c,d);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.defaultPrevented===void 0&&c.returnValue===!1?bi:mn,this.target=c.target&&c.target.nodeType===3?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,d&&p.extend(this,d),this.timeStamp=c&&c.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:mn,isPropagationStopped:mn,isImmediatePropagationStopped:mn,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=bi,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=bi,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=bi,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(c,d){p.event.special[c]={setup:function(){return Bt(this,c,Wa),!1},trigger:function(){return Bt(this,c),!0},_default:function(g){return j.get(g.target,c)},delegateType:d}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,d){p.event.special[c]={delegateType:d,bindType:d,handle:function(g){var _,C=this,x=g.relatedTarget,T=g.handleObj;return(!x||x!==C&&!p.contains(C,x))&&(g.type=T.origType,_=T.handler.apply(this,arguments),g.type=d),_}}}),p.fn.extend({on:function(c,d,g,_){return tn(this,c,d,g,_)},one:function(c,d,g,_){return tn(this,c,d,g,_,1)},off:function(c,d,g){var _,C;if(c&&c.preventDefault&&c.handleObj)return _=c.handleObj,p(c.delegateTarget).off(_.namespace?_.origType+"."+_.namespace:_.origType,_.selector,_.handler),this;if(typeof c=="object"){for(C in c)this.off(C,d,c[C]);return this}return(d===!1||typeof d=="function")&&(g=d,d=void 0),g===!1&&(g=mn),this.each(function(){p.event.remove(this,c,g,d)})}});var Ni=/<script|<style|<link/i,Qt=/checked\s*(?:[^=]|=\s*.checked.)/i,pr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function As(c,d){return ue(c,"table")&&ue(d.nodeType!==11?d:d.firstChild,"tr")&&p(c).children("tbody")[0]||c}function Yt(c){return c.type=(c.getAttribute("type")!==null)+"/"+c.type,c}function ai(c){return(c.type||"").slice(0,5)==="true/"?c.type=c.type.slice(5):c.removeAttribute("type"),c}function Si(c,d){var g,_,C,x,T,M,L;if(d.nodeType===1){if(j.hasData(c)&&(x=j.get(c),L=x.events,L)){j.remove(d,"handle events");for(C in L)for(g=0,_=L[C].length;g<_;g++)p.event.add(d,C,L[C][g])}ee.hasData(c)&&(T=ee.access(c),M=p.extend({},T),ee.set(d,M))}}function eu(c,d){var g=d.nodeName.toLowerCase();g==="input"&&pi.test(c.type)?d.checked=c.checked:(g==="input"||g==="textarea")&&(d.defaultValue=c.defaultValue)}function mr(c,d,g,_){d=o(d);var C,x,T,M,L,G,B=0,te=c.length,V=te-1,H=d[0],we=E(H);if(we||te>1&&typeof H=="string"&&!v.checkClone&&Qt.test(H))return c.each(function(Ge){var Te=c.eq(Ge);we&&(d[0]=H.call(this,Ge,Te.html())),mr(Te,d,g,_)});if(te&&(C=zn(d,c[0].ownerDocument,!1,c,_),x=C.firstChild,C.childNodes.length===1&&(C=x),x||_)){for(T=p.map(At(C,"script"),Yt),M=T.length;B<te;B++)L=C,B!==V&&(L=p.clone(L,!0,!0),M&&p.merge(T,At(L,"script"))),g.call(c[B],L,B);if(M)for(G=T[T.length-1].ownerDocument,p.map(T,ai),B=0;B<M;B++)L=T[B],kt.test(L.type||"")&&!j.access(L,"globalEval")&&p.contains(G,L)&&(L.src&&(L.type||"").toLowerCase()!=="module"?p._evalUrl&&!L.noModule&&p._evalUrl(L.src,{nonce:L.nonce||L.getAttribute("nonce")},G):R(L.textContent.replace(pr,""),L,G))}return c}function Pf(c,d,g){for(var _,C=d?p.filter(d,c):c,x=0;(_=C[x])!=null;x++)!g&&_.nodeType===1&&p.cleanData(At(_)),_.parentNode&&(g&&Se(_)&&gr(At(_,"script")),_.parentNode.removeChild(_));return c}p.extend({htmlPrefilter:function(c){return c},clone:function(c,d,g){var _,C,x,T,M=c.cloneNode(!0),L=Se(c);if(!v.noCloneChecked&&(c.nodeType===1||c.nodeType===11)&&!p.isXMLDoc(c))for(T=At(M),x=At(c),_=0,C=x.length;_<C;_++)eu(x[_],T[_]);if(d)if(g)for(x=x||At(c),T=T||At(M),_=0,C=x.length;_<C;_++)Si(x[_],T[_]);else Si(c,M);return T=At(M,"script"),T.length>0&&gr(T,!L&&At(c,"script")),M},cleanData:function(c){for(var d,g,_,C=p.event.special,x=0;(g=c[x])!==void 0;x++)if(z(g)){if(d=g[j.expando]){if(d.events)for(_ in d.events)C[_]?p.event.remove(g,_):p.removeEvent(g,_,d.handle);g[j.expando]=void 0}g[ee.expando]&&(g[ee.expando]=void 0)}}}),p.fn.extend({detach:function(c){return Pf(this,c,!0)},remove:function(c){return Pf(this,c)},text:function(c){return nt(this,function(d){return d===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=d)})},null,c,arguments.length)},append:function(){return mr(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=As(this,c);d.appendChild(c)}})},prepend:function(){return mr(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=As(this,c);d.insertBefore(c,d.firstChild)}})},before:function(){return mr(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return mr(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,d=0;(c=this[d])!=null;d++)c.nodeType===1&&(p.cleanData(At(c,!1)),c.textContent="");return this},clone:function(c,d){return c=c??!1,d=d??c,this.map(function(){return p.clone(this,c,d)})},html:function(c){return nt(this,function(d){var g=this[0]||{},_=0,C=this.length;if(d===void 0&&g.nodeType===1)return g.innerHTML;if(typeof d=="string"&&!Ni.test(d)&&!gt[(Rs.exec(d)||["",""])[1].toLowerCase()]){d=p.htmlPrefilter(d);try{for(;_<C;_++)g=this[_]||{},g.nodeType===1&&(p.cleanData(At(g,!1)),g.innerHTML=d);g=0}catch{}}g&&this.empty().append(d)},null,c,arguments.length)},replaceWith:function(){var c=[];return mr(this,arguments,function(d){var g=this.parentNode;p.inArray(this,c)<0&&(p.cleanData(At(this)),g&&g.replaceChild(d,this))},c)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,d){p.fn[c]=function(g){for(var _,C=[],x=p(g),T=x.length-1,M=0;M<=T;M++)_=M===T?this:this.clone(!0),p(x[M])[d](_),a.apply(C,_.get());return this.pushStack(C)}});var tu=new RegExp("^("+_e+")(?!px)[a-z%]+$","i"),iu=/^--/,Ba=function(c){var d=c.ownerDocument.defaultView;return(!d||!d.opener)&&(d=e),d.getComputedStyle(c)},Mf=function(c,d,g){var _,C,x={};for(C in d)x[C]=c.style[C],c.style[C]=d[C];_=g.call(c);for(C in d)c.style[C]=x[C];return _},K0=new RegExp(pe.join("|"),"i"),Df="[\\x20\\t\\r\\n\\f]",q0=new RegExp("^"+Df+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Df+"+$","g");(function(){function c(){if(G){L.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",G.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ee.appendChild(L).appendChild(G);var B=e.getComputedStyle(G);g=B.top!=="1%",M=d(B.marginLeft)===12,G.style.right="60%",x=d(B.right)===36,_=d(B.width)===36,G.style.position="absolute",C=d(G.offsetWidth/3)===12,Ee.removeChild(L),G=null}}function d(B){return Math.round(parseFloat(B))}var g,_,C,x,T,M,L=S.createElement("div"),G=S.createElement("div");G.style&&(G.style.backgroundClip="content-box",G.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle=G.style.backgroundClip==="content-box",p.extend(v,{boxSizingReliable:function(){return c(),_},pixelBoxStyles:function(){return c(),x},pixelPosition:function(){return c(),g},reliableMarginLeft:function(){return c(),M},scrollboxSize:function(){return c(),C},reliableTrDimensions:function(){var B,te,V,H;return T==null&&(B=S.createElement("table"),te=S.createElement("tr"),V=S.createElement("div"),B.style.cssText="position:absolute;left:-11111px;border-collapse:separate",te.style.cssText="border:1px solid",te.style.height="1px",V.style.height="9px",V.style.display="block",Ee.appendChild(B).appendChild(te).appendChild(V),H=e.getComputedStyle(te),T=parseInt(H.height,10)+parseInt(H.borderTopWidth,10)+parseInt(H.borderBottomWidth,10)===te.offsetHeight,Ee.removeChild(B)),T}}))})();function bo(c,d,g){var _,C,x,T,M=iu.test(d),L=c.style;return g=g||Ba(c),g&&(T=g.getPropertyValue(d)||g[d],M&&T&&(T=T.replace(q0,"$1")||void 0),T===""&&!Se(c)&&(T=p.style(c,d)),!v.pixelBoxStyles()&&tu.test(T)&&K0.test(d)&&(_=L.width,C=L.minWidth,x=L.maxWidth,L.minWidth=L.maxWidth=L.width=T,T=g.width,L.width=_,L.minWidth=C,L.maxWidth=x)),T!==void 0?T+"":T}function Ff(c,d){return{get:function(){if(c()){delete this.get;return}return(this.get=d).apply(this,arguments)}}}var Nf=["Webkit","Moz","ms"],kf=S.createElement("div").style,Gf={};function Z0(c){for(var d=c[0].toUpperCase()+c.slice(1),g=Nf.length;g--;)if(c=Nf[g]+d,c in kf)return c}function nu(c){var d=p.cssProps[c]||Gf[c];return d||(c in kf?c:Gf[c]=Z0(c)||c)}var J0=/^(none|table(?!-c[ea]).+)/,Q0={position:"absolute",visibility:"hidden",display:"block"},jf={letterSpacing:"0",fontWeight:"400"};function $f(c,d,g){var _=de.exec(d);return _?Math.max(0,_[2]-(g||0))+(_[3]||"px"):d}function su(c,d,g,_,C,x){var T=d==="width"?1:0,M=0,L=0;if(g===(_?"border":"content"))return 0;for(;T<4;T+=2)g==="margin"&&(L+=p.css(c,g+pe[T],!0,C)),_?(g==="content"&&(L-=p.css(c,"padding"+pe[T],!0,C)),g!=="margin"&&(L-=p.css(c,"border"+pe[T]+"Width",!0,C))):(L+=p.css(c,"padding"+pe[T],!0,C),g!=="padding"?L+=p.css(c,"border"+pe[T]+"Width",!0,C):M+=p.css(c,"border"+pe[T]+"Width",!0,C));return!_&&x>=0&&(L+=Math.max(0,Math.ceil(c["offset"+d[0].toUpperCase()+d.slice(1)]-x-L-M-.5))||0),L}function Vf(c,d,g){var _=Ba(c),C=!v.boxSizingReliable()||g,x=C&&p.css(c,"boxSizing",!1,_)==="border-box",T=x,M=bo(c,d,_),L="offset"+d[0].toUpperCase()+d.slice(1);if(tu.test(M)){if(!g)return M;M="auto"}return(!v.boxSizingReliable()&&x||!v.reliableTrDimensions()&&ue(c,"tr")||M==="auto"||!parseFloat(M)&&p.css(c,"display",!1,_)==="inline")&&c.getClientRects().length&&(x=p.css(c,"boxSizing",!1,_)==="border-box",T=L in c,T&&(M=c[L])),M=parseFloat(M)||0,M+su(c,d,g||(x?"border":"content"),T,_,M)+"px"}p.extend({cssHooks:{opacity:{get:function(c,d){if(d){var g=bo(c,"opacity");return g===""?"1":g}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(c,d,g,_){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var C,x,T,M=F(d),L=iu.test(d),G=c.style;if(L||(d=nu(M)),T=p.cssHooks[d]||p.cssHooks[M],g!==void 0){if(x=typeof g,x==="string"&&(C=de.exec(g))&&C[1]&&(g=st(c,d,C),x="number"),g==null||g!==g)return;x==="number"&&!L&&(g+=C&&C[3]||(p.cssNumber[M]?"":"px")),!v.clearCloneStyle&&g===""&&d.indexOf("background")===0&&(G[d]="inherit"),(!T||!("set"in T)||(g=T.set(c,g,_))!==void 0)&&(L?G.setProperty(d,g):G[d]=g)}else return T&&"get"in T&&(C=T.get(c,!1,_))!==void 0?C:G[d]}},css:function(c,d,g,_){var C,x,T,M=F(d),L=iu.test(d);return L||(d=nu(M)),T=p.cssHooks[d]||p.cssHooks[M],T&&"get"in T&&(C=T.get(c,!0,g)),C===void 0&&(C=bo(c,d,_)),C==="normal"&&d in jf&&(C=jf[d]),g===""||g?(x=parseFloat(C),g===!0||isFinite(x)?x||0:C):C}}),p.each(["height","width"],function(c,d){p.cssHooks[d]={get:function(g,_,C){if(_)return J0.test(p.css(g,"display"))&&(!g.getClientRects().length||!g.getBoundingClientRect().width)?Mf(g,Q0,function(){return Vf(g,d,C)}):Vf(g,d,C)},set:function(g,_,C){var x,T=Ba(g),M=!v.scrollboxSize()&&T.position==="absolute",L=M||C,G=L&&p.css(g,"boxSizing",!1,T)==="border-box",B=C?su(g,d,C,G,T):0;return G&&M&&(B-=Math.ceil(g["offset"+d[0].toUpperCase()+d.slice(1)]-parseFloat(T[d])-su(g,d,"border",!1,T)-.5)),B&&(x=de.exec(_))&&(x[3]||"px")!=="px"&&(g.style[d]=_,_=p.css(g,d)),$f(g,_,B)}}}),p.cssHooks.marginLeft=Ff(v.reliableMarginLeft,function(c,d){if(d)return(parseFloat(bo(c,"marginLeft"))||c.getBoundingClientRect().left-Mf(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(c,d){p.cssHooks[c+d]={expand:function(g){for(var _=0,C={},x=typeof g=="string"?g.split(" "):[g];_<4;_++)C[c+pe[_]+d]=x[_]||x[_-2]||x[0];return C}},c!=="margin"&&(p.cssHooks[c+d].set=$f)}),p.fn.extend({css:function(c,d){return nt(this,function(g,_,C){var x,T,M={},L=0;if(Array.isArray(_)){for(x=Ba(g),T=_.length;L<T;L++)M[_[L]]=p.css(g,_[L],!1,x);return M}return C!==void 0?p.style(g,_,C):p.css(g,_)},c,d,arguments.length>1)}});function li(c,d,g,_,C){return new li.prototype.init(c,d,g,_,C)}p.Tween=li,li.prototype={constructor:li,init:function(c,d,g,_,C,x){this.elem=c,this.prop=g,this.easing=C||p.easing._default,this.options=d,this.start=this.now=this.cur(),this.end=_,this.unit=x||(p.cssNumber[g]?"":"px")},cur:function(){var c=li.propHooks[this.prop];return c&&c.get?c.get(this):li.propHooks._default.get(this)},run:function(c){var d,g=li.propHooks[this.prop];return this.options.duration?this.pos=d=p.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=d=c,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):li.propHooks._default.set(this),this}},li.prototype.init.prototype=li.prototype,li.propHooks={_default:{get:function(c){var d;return c.elem.nodeType!==1||c.elem[c.prop]!=null&&c.elem.style[c.prop]==null?c.elem[c.prop]:(d=p.css(c.elem,c.prop,""),!d||d==="auto"?0:d)},set:function(c){p.fx.step[c.prop]?p.fx.step[c.prop](c):c.elem.nodeType===1&&(p.cssHooks[c.prop]||c.elem.style[nu(c.prop)]!=null)?p.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}},li.propHooks.scrollTop=li.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},p.easing={linear:function(c){return c},swing:function(c){return .5-Math.cos(c*Math.PI)/2},_default:"swing"},p.fx=li.prototype.init,p.fx.step={};var _r,za,ev=/^(?:toggle|show|hide)$/,tv=/queueHooks$/;function ru(){za&&(S.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(ru):e.setTimeout(ru,p.fx.interval),p.fx.tick())}function Wf(){return e.setTimeout(function(){_r=void 0}),_r=Date.now()}function Ha(c,d){var g,_=0,C={height:c};for(d=d?1:0;_<4;_+=2-d)g=pe[_],C["margin"+g]=C["padding"+g]=c;return d&&(C.opacity=C.width=c),C}function Bf(c,d,g){for(var _,C=(ki.tweeners[d]||[]).concat(ki.tweeners["*"]),x=0,T=C.length;x<T;x++)if(_=C[x].call(g,d,c))return _}function iv(c,d,g){var _,C,x,T,M,L,G,B,te="width"in d||"height"in d,V=this,H={},we=c.style,Ge=c.nodeType&&Fe(c),Te=j.get(c,"fxshow");g.queue||(T=p._queueHooks(c,"fx"),T.unqueued==null&&(T.unqueued=0,M=T.empty.fire,T.empty.fire=function(){T.unqueued||M()}),T.unqueued++,V.always(function(){V.always(function(){T.unqueued--,p.queue(c,"fx").length||T.empty.fire()})}));for(_ in d)if(C=d[_],ev.test(C)){if(delete d[_],x=x||C==="toggle",C===(Ge?"hide":"show"))if(C==="show"&&Te&&Te[_]!==void 0)Ge=!0;else continue;H[_]=Te&&Te[_]||p.style(c,_)}if(L=!p.isEmptyObject(d),!(!L&&p.isEmptyObject(H))){te&&c.nodeType===1&&(g.overflow=[we.overflow,we.overflowX,we.overflowY],G=Te&&Te.display,G==null&&(G=j.get(c,"display")),B=p.css(c,"display"),B==="none"&&(G?B=G:(gi([c],!0),G=c.style.display||G,B=p.css(c,"display"),gi([c]))),(B==="inline"||B==="inline-block"&&G!=null)&&p.css(c,"float")==="none"&&(L||(V.done(function(){we.display=G}),G==null&&(B=we.display,G=B==="none"?"":B)),we.display="inline-block")),g.overflow&&(we.overflow="hidden",V.always(function(){we.overflow=g.overflow[0],we.overflowX=g.overflow[1],we.overflowY=g.overflow[2]})),L=!1;for(_ in H)L||(Te?"hidden"in Te&&(Ge=Te.hidden):Te=j.access(c,"fxshow",{display:G}),x&&(Te.hidden=!Ge),Ge&&gi([c],!0),V.done(function(){Ge||gi([c]),j.remove(c,"fxshow");for(_ in H)p.style(c,_,H[_])})),L=Bf(Ge?Te[_]:0,_,V),_ in Te||(Te[_]=L.start,Ge&&(L.end=L.start,L.start=0))}}function nv(c,d){var g,_,C,x,T;for(g in c)if(_=F(g),C=d[_],x=c[g],Array.isArray(x)&&(C=x[1],x=c[g]=x[0]),g!==_&&(c[_]=x,delete c[g]),T=p.cssHooks[_],T&&"expand"in T){x=T.expand(x),delete c[_];for(g in x)g in c||(c[g]=x[g],d[g]=C)}else d[_]=C}function ki(c,d,g){var _,C,x=0,T=ki.prefilters.length,M=p.Deferred().always(function(){delete L.elem}),L=function(){if(C)return!1;for(var te=_r||Wf(),V=Math.max(0,G.startTime+G.duration-te),H=V/G.duration||0,we=1-H,Ge=0,Te=G.tweens.length;Ge<Te;Ge++)G.tweens[Ge].run(we);return M.notifyWith(c,[G,we,V]),we<1&&Te?V:(Te||M.notifyWith(c,[G,1,0]),M.resolveWith(c,[G]),!1)},G=M.promise({elem:c,props:p.extend({},d),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},g),originalProperties:d,originalOptions:g,startTime:_r||Wf(),duration:g.duration,tweens:[],createTween:function(te,V){var H=p.Tween(c,G.opts,te,V,G.opts.specialEasing[te]||G.opts.easing);return G.tweens.push(H),H},stop:function(te){var V=0,H=te?G.tweens.length:0;if(C)return this;for(C=!0;V<H;V++)G.tweens[V].run(1);return te?(M.notifyWith(c,[G,1,0]),M.resolveWith(c,[G,te])):M.rejectWith(c,[G,te]),this}}),B=G.props;for(nv(B,G.opts.specialEasing);x<T;x++)if(_=ki.prefilters[x].call(G,c,B,G.opts),_)return E(_.stop)&&(p._queueHooks(G.elem,G.opts.queue).stop=_.stop.bind(_)),_;return p.map(B,Bf,G),E(G.opts.start)&&G.opts.start.call(c,G),G.progress(G.opts.progress).done(G.opts.done,G.opts.complete).fail(G.opts.fail).always(G.opts.always),p.fx.timer(p.extend(L,{elem:c,anim:G,queue:G.opts.queue})),G}p.Animation=p.extend(ki,{tweeners:{"*":[function(c,d){var g=this.createTween(c,d);return st(g.elem,c,de.exec(d),g),g}]},tweener:function(c,d){E(c)?(d=c,c=["*"]):c=c.match(We);for(var g,_=0,C=c.length;_<C;_++)g=c[_],ki.tweeners[g]=ki.tweeners[g]||[],ki.tweeners[g].unshift(d)},prefilters:[iv],prefilter:function(c,d){d?ki.prefilters.unshift(c):ki.prefilters.push(c)}}),p.speed=function(c,d,g){var _=c&&typeof c=="object"?p.extend({},c):{complete:g||!g&&d||E(c)&&c,duration:c,easing:g&&d||d&&!E(d)&&d};return p.fx.off?_.duration=0:typeof _.duration!="number"&&(_.duration in p.fx.speeds?_.duration=p.fx.speeds[_.duration]:_.duration=p.fx.speeds._default),(_.queue==null||_.queue===!0)&&(_.queue="fx"),_.old=_.complete,_.complete=function(){E(_.old)&&_.old.call(this),_.queue&&p.dequeue(this,_.queue)},_},p.fn.extend({fadeTo:function(c,d,g,_){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:d},c,g,_)},animate:function(c,d,g,_){var C=p.isEmptyObject(c),x=p.speed(d,g,_),T=function(){var M=ki(this,p.extend({},c),x);(C||j.get(this,"finish"))&&M.stop(!0)};return T.finish=T,C||x.queue===!1?this.each(T):this.queue(x.queue,T)},stop:function(c,d,g){var _=function(C){var x=C.stop;delete C.stop,x(g)};return typeof c!="string"&&(g=d,d=c,c=void 0),d&&this.queue(c||"fx",[]),this.each(function(){var C=!0,x=c!=null&&c+"queueHooks",T=p.timers,M=j.get(this);if(x)M[x]&&M[x].stop&&_(M[x]);else for(x in M)M[x]&&M[x].stop&&tv.test(x)&&_(M[x]);for(x=T.length;x--;)T[x].elem===this&&(c==null||T[x].queue===c)&&(T[x].anim.stop(g),C=!1,T.splice(x,1));(C||!g)&&p.dequeue(this,c)})},finish:function(c){return c!==!1&&(c=c||"fx"),this.each(function(){var d,g=j.get(this),_=g[c+"queue"],C=g[c+"queueHooks"],x=p.timers,T=_?_.length:0;for(g.finish=!0,p.queue(this,c,[]),C&&C.stop&&C.stop.call(this,!0),d=x.length;d--;)x[d].elem===this&&x[d].queue===c&&(x[d].anim.stop(!0),x.splice(d,1));for(d=0;d<T;d++)_[d]&&_[d].finish&&_[d].finish.call(this);delete g.finish})}}),p.each(["toggle","show","hide"],function(c,d){var g=p.fn[d];p.fn[d]=function(_,C,x){return _==null||typeof _=="boolean"?g.apply(this,arguments):this.animate(Ha(d,!0),_,C,x)}}),p.each({slideDown:Ha("show"),slideUp:Ha("hide"),slideToggle:Ha("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,d){p.fn[c]=function(g,_,C){return this.animate(d,g,_,C)}}),p.timers=[],p.fx.tick=function(){var c,d=0,g=p.timers;for(_r=Date.now();d<g.length;d++)c=g[d],!c()&&g[d]===c&&g.splice(d--,1);g.length||p.fx.stop(),_r=void 0},p.fx.timer=function(c){p.timers.push(c),p.fx.start()},p.fx.interval=13,p.fx.start=function(){za||(za=!0,ru())},p.fx.stop=function(){za=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(c,d){return c=p.fx&&p.fx.speeds[c]||c,d=d||"fx",this.queue(d,function(g,_){var C=e.setTimeout(g,c);_.stop=function(){e.clearTimeout(C)}})},function(){var c=S.createElement("input"),d=S.createElement("select"),g=d.appendChild(S.createElement("option"));c.type="checkbox",v.checkOn=c.value!=="",v.optSelected=g.selected,c=S.createElement("input"),c.value="t",c.type="radio",v.radioValue=c.value==="t"}();var zf,So=p.expr.attrHandle;p.fn.extend({attr:function(c,d){return nt(this,p.attr,c,d,arguments.length>1)},removeAttr:function(c){return this.each(function(){p.removeAttr(this,c)})}}),p.extend({attr:function(c,d,g){var _,C,x=c.nodeType;if(!(x===3||x===8||x===2)){if(typeof c.getAttribute>"u")return p.prop(c,d,g);if((x!==1||!p.isXMLDoc(c))&&(C=p.attrHooks[d.toLowerCase()]||(p.expr.match.bool.test(d)?zf:void 0)),g!==void 0){if(g===null){p.removeAttr(c,d);return}return C&&"set"in C&&(_=C.set(c,g,d))!==void 0?_:(c.setAttribute(d,g+""),g)}return C&&"get"in C&&(_=C.get(c,d))!==null?_:(_=p.find.attr(c,d),_??void 0)}},attrHooks:{type:{set:function(c,d){if(!v.radioValue&&d==="radio"&&ue(c,"input")){var g=c.value;return c.setAttribute("type",d),g&&(c.value=g),d}}}},removeAttr:function(c,d){var g,_=0,C=d&&d.match(We);if(C&&c.nodeType===1)for(;g=C[_++];)c.removeAttribute(g)}}),zf={set:function(c,d,g){return d===!1?p.removeAttr(c,g):c.setAttribute(g,g),g}},p.each(p.expr.match.bool.source.match(/\w+/g),function(c,d){var g=So[d]||p.find.attr;So[d]=function(_,C,x){var T,M,L=C.toLowerCase();return x||(M=So[L],So[L]=T,T=g(_,C,x)!=null?L:null,So[L]=M),T}});var sv=/^(?:input|select|textarea|button)$/i,rv=/^(?:a|area)$/i;p.fn.extend({prop:function(c,d){return nt(this,p.prop,c,d,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[p.propFix[c]||c]})}}),p.extend({prop:function(c,d,g){var _,C,x=c.nodeType;if(!(x===3||x===8||x===2))return(x!==1||!p.isXMLDoc(c))&&(d=p.propFix[d]||d,C=p.propHooks[d]),g!==void 0?C&&"set"in C&&(_=C.set(c,g,d))!==void 0?_:c[d]=g:C&&"get"in C&&(_=C.get(c,d))!==null?_:c[d]},propHooks:{tabIndex:{get:function(c){var d=p.find.attr(c,"tabindex");return d?parseInt(d,10):sv.test(c.nodeName)||rv.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(p.propHooks.selected={get:function(c){var d=c.parentNode;return d&&d.parentNode&&d.parentNode.selectedIndex,null},set:function(c){var d=c.parentNode;d&&(d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function Is(c){var d=c.match(We)||[];return d.join(" ")}function Ls(c){return c.getAttribute&&c.getAttribute("class")||""}function ou(c){return Array.isArray(c)?c:typeof c=="string"?c.match(We)||[]:[]}p.fn.extend({addClass:function(c){var d,g,_,C,x,T;return E(c)?this.each(function(M){p(this).addClass(c.call(this,M,Ls(this)))}):(d=ou(c),d.length?this.each(function(){if(_=Ls(this),g=this.nodeType===1&&" "+Is(_)+" ",g){for(x=0;x<d.length;x++)C=d[x],g.indexOf(" "+C+" ")<0&&(g+=C+" ");T=Is(g),_!==T&&this.setAttribute("class",T)}}):this)},removeClass:function(c){var d,g,_,C,x,T;return E(c)?this.each(function(M){p(this).removeClass(c.call(this,M,Ls(this)))}):arguments.length?(d=ou(c),d.length?this.each(function(){if(_=Ls(this),g=this.nodeType===1&&" "+Is(_)+" ",g){for(x=0;x<d.length;x++)for(C=d[x];g.indexOf(" "+C+" ")>-1;)g=g.replace(" "+C+" "," ");T=Is(g),_!==T&&this.setAttribute("class",T)}}):this):this.attr("class","")},toggleClass:function(c,d){var g,_,C,x,T=typeof c,M=T==="string"||Array.isArray(c);return E(c)?this.each(function(L){p(this).toggleClass(c.call(this,L,Ls(this),d),d)}):typeof d=="boolean"&&M?d?this.addClass(c):this.removeClass(c):(g=ou(c),this.each(function(){if(M)for(x=p(this),C=0;C<g.length;C++)_=g[C],x.hasClass(_)?x.removeClass(_):x.addClass(_);else(c===void 0||T==="boolean")&&(_=Ls(this),_&&j.set(this,"__className__",_),this.setAttribute&&this.setAttribute("class",_||c===!1?"":j.get(this,"__className__")||""))}))},hasClass:function(c){var d,g,_=0;for(d=" "+c+" ";g=this[_++];)if(g.nodeType===1&&(" "+Is(Ls(g))+" ").indexOf(d)>-1)return!0;return!1}});var ov=/\r/g;p.fn.extend({val:function(c){var d,g,_,C=this[0];return arguments.length?(_=E(c),this.each(function(x){var T;this.nodeType===1&&(_?T=c.call(this,x,p(this).val()):T=c,T==null?T="":typeof T=="number"?T+="":Array.isArray(T)&&(T=p.map(T,function(M){return M==null?"":M+""})),d=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!d||!("set"in d)||d.set(this,T,"value")===void 0)&&(this.value=T))})):C?(d=p.valHooks[C.type]||p.valHooks[C.nodeName.toLowerCase()],d&&"get"in d&&(g=d.get(C,"value"))!==void 0?g:(g=C.value,typeof g=="string"?g.replace(ov,""):g??"")):void 0}}),p.extend({valHooks:{option:{get:function(c){var d=p.find.attr(c,"value");return d??Is(p.text(c))}},select:{get:function(c){var d,g,_,C=c.options,x=c.selectedIndex,T=c.type==="select-one",M=T?null:[],L=T?x+1:C.length;for(x<0?_=L:_=T?x:0;_<L;_++)if(g=C[_],(g.selected||_===x)&&!g.disabled&&(!g.parentNode.disabled||!ue(g.parentNode,"optgroup"))){if(d=p(g).val(),T)return d;M.push(d)}return M},set:function(c,d){for(var g,_,C=c.options,x=p.makeArray(d),T=C.length;T--;)_=C[T],(_.selected=p.inArray(p.valHooks.option.get(_),x)>-1)&&(g=!0);return g||(c.selectedIndex=-1),x}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(c,d){if(Array.isArray(d))return c.checked=p.inArray(p(c).val(),d)>-1}},v.checkOn||(p.valHooks[this].get=function(c){return c.getAttribute("value")===null?"on":c.value})}),v.focusin="onfocusin"in e;var Hf=/^(?:focusinfocus|focusoutblur)$/,Yf=function(c){c.stopPropagation()};p.extend(p.event,{trigger:function(c,d,g,_){var C,x,T,M,L,G,B,te,V=[g||S],H=f.call(c,"type")?c.type:c,we=f.call(c,"namespace")?c.namespace.split("."):[];if(x=te=T=g=g||S,!(g.nodeType===3||g.nodeType===8)&&!Hf.test(H+p.event.triggered)&&(H.indexOf(".")>-1&&(we=H.split("."),H=we.shift(),we.sort()),L=H.indexOf(":")<0&&"on"+H,c=c[p.expando]?c:new p.Event(H,typeof c=="object"&&c),c.isTrigger=_?2:3,c.namespace=we.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+we.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=g),d=d==null?[c]:p.makeArray(d,[c]),B=p.event.special[H]||{},!(!_&&B.trigger&&B.trigger.apply(g,d)===!1))){if(!_&&!B.noBubble&&!b(g)){for(M=B.delegateType||H,Hf.test(M+H)||(x=x.parentNode);x;x=x.parentNode)V.push(x),T=x;T===(g.ownerDocument||S)&&V.push(T.defaultView||T.parentWindow||e)}for(C=0;(x=V[C++])&&!c.isPropagationStopped();)te=x,c.type=C>1?M:B.bindType||H,G=(j.get(x,"events")||Object.create(null))[c.type]&&j.get(x,"handle"),G&&G.apply(x,d),G=L&&x[L],G&&G.apply&&z(x)&&(c.result=G.apply(x,d),c.result===!1&&c.preventDefault());return c.type=H,!_&&!c.isDefaultPrevented()&&(!B._default||B._default.apply(V.pop(),d)===!1)&&z(g)&&L&&E(g[H])&&!b(g)&&(T=g[L],T&&(g[L]=null),p.event.triggered=H,c.isPropagationStopped()&&te.addEventListener(H,Yf),g[H](),c.isPropagationStopped()&&te.removeEventListener(H,Yf),p.event.triggered=void 0,T&&(g[L]=T)),c.result}},simulate:function(c,d,g){var _=p.extend(new p.Event,g,{type:c,isSimulated:!0});p.event.trigger(_,null,d)}}),p.fn.extend({trigger:function(c,d){return this.each(function(){p.event.trigger(c,d,this)})},triggerHandler:function(c,d){var g=this[0];if(g)return p.event.trigger(c,d,g,!0)}}),v.focusin||p.each({focus:"focusin",blur:"focusout"},function(c,d){var g=function(_){p.event.simulate(d,_.target,p.event.fix(_))};p.event.special[d]={setup:function(){var _=this.ownerDocument||this.document||this,C=j.access(_,d);C||_.addEventListener(c,g,!0),j.access(_,d,(C||0)+1)},teardown:function(){var _=this.ownerDocument||this.document||this,C=j.access(_,d)-1;C?j.access(_,d,C):(_.removeEventListener(c,g,!0),j.remove(_,d))}}});var Ro=e.location,Uf={guid:Date.now()},au=/\?/;p.parseXML=function(c){var d,g;if(!c||typeof c!="string")return null;try{d=new e.DOMParser().parseFromString(c,"text/xml")}catch{}return g=d&&d.getElementsByTagName("parsererror")[0],(!d||g)&&p.error("Invalid XML: "+(g?p.map(g.childNodes,function(_){return _.textContent}).join(`
`):c)),d};var av=/\[\]$/,Xf=/\r?\n/g,lv=/^(?:submit|button|image|reset|file)$/i,cv=/^(?:input|select|textarea|keygen)/i;function lu(c,d,g,_){var C;if(Array.isArray(d))p.each(d,function(x,T){g||av.test(c)?_(c,T):lu(c+"["+(typeof T=="object"&&T!=null?x:"")+"]",T,g,_)});else if(!g&&I(d)==="object")for(C in d)lu(c+"["+C+"]",d[C],g,_);else _(c,d)}p.param=function(c,d){var g,_=[],C=function(x,T){var M=E(T)?T():T;_[_.length]=encodeURIComponent(x)+"="+encodeURIComponent(M??"")};if(c==null)return"";if(Array.isArray(c)||c.jquery&&!p.isPlainObject(c))p.each(c,function(){C(this.name,this.value)});else for(g in c)lu(g,c[g],d,C);return _.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=p.prop(this,"elements");return c?p.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!p(this).is(":disabled")&&cv.test(this.nodeName)&&!lv.test(c)&&(this.checked||!pi.test(c))}).map(function(c,d){var g=p(this).val();return g==null?null:Array.isArray(g)?p.map(g,function(_){return{name:d.name,value:_.replace(Xf,`\r
`)}}):{name:d.name,value:g.replace(Xf,`\r
`)}}).get()}});var uv=/%20/g,hv=/#.*$/,dv=/([?&])_=[^&]*/,fv=/^(.*?):[ \t]*([^\r\n]*)$/mg,gv=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pv=/^(?:GET|HEAD)$/,mv=/^\/\//,Kf={},cu={},qf="*/".concat("*"),uu=S.createElement("a");uu.href=Ro.href;function Zf(c){return function(d,g){typeof d!="string"&&(g=d,d="*");var _,C=0,x=d.toLowerCase().match(We)||[];if(E(g))for(;_=x[C++];)_[0]==="+"?(_=_.slice(1)||"*",(c[_]=c[_]||[]).unshift(g)):(c[_]=c[_]||[]).push(g)}}function Jf(c,d,g,_){var C={},x=c===cu;function T(M){var L;return C[M]=!0,p.each(c[M]||[],function(G,B){var te=B(d,g,_);if(typeof te=="string"&&!x&&!C[te])return d.dataTypes.unshift(te),T(te),!1;if(x)return!(L=te)}),L}return T(d.dataTypes[0])||!C["*"]&&T("*")}function hu(c,d){var g,_,C=p.ajaxSettings.flatOptions||{};for(g in d)d[g]!==void 0&&((C[g]?c:_||(_={}))[g]=d[g]);return _&&p.extend(!0,c,_),c}function _v(c,d,g){for(var _,C,x,T,M=c.contents,L=c.dataTypes;L[0]==="*";)L.shift(),_===void 0&&(_=c.mimeType||d.getResponseHeader("Content-Type"));if(_){for(C in M)if(M[C]&&M[C].test(_)){L.unshift(C);break}}if(L[0]in g)x=L[0];else{for(C in g){if(!L[0]||c.converters[C+" "+L[0]]){x=C;break}T||(T=C)}x=x||T}if(x)return x!==L[0]&&L.unshift(x),g[x]}function yv(c,d,g,_){var C,x,T,M,L,G={},B=c.dataTypes.slice();if(B[1])for(T in c.converters)G[T.toLowerCase()]=c.converters[T];for(x=B.shift();x;)if(c.responseFields[x]&&(g[c.responseFields[x]]=d),!L&&_&&c.dataFilter&&(d=c.dataFilter(d,c.dataType)),L=x,x=B.shift(),x){if(x==="*")x=L;else if(L!=="*"&&L!==x){if(T=G[L+" "+x]||G["* "+x],!T){for(C in G)if(M=C.split(" "),M[1]===x&&(T=G[L+" "+M[0]]||G["* "+M[0]],T)){T===!0?T=G[C]:G[C]!==!0&&(x=M[0],B.unshift(M[1]));break}}if(T!==!0)if(T&&c.throws)d=T(d);else try{d=T(d)}catch(te){return{state:"parsererror",error:T?te:"No conversion from "+L+" to "+x}}}}return{state:"success",data:d}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ro.href,type:"GET",isLocal:gv.test(Ro.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,d){return d?hu(hu(c,p.ajaxSettings),d):hu(p.ajaxSettings,c)},ajaxPrefilter:Zf(Kf),ajaxTransport:Zf(cu),ajax:function(c,d){typeof c=="object"&&(d=c,c=void 0),d=d||{};var g,_,C,x,T,M,L,G,B,te,V=p.ajaxSetup({},d),H=V.context||V,we=V.context&&(H.nodeType||H.jquery)?p(H):p.event,Ge=p.Deferred(),Te=p.Callbacks("once memory"),Gt=V.statusCode||{},Pt={},mi={},ut="canceled",Ne={readyState:0,getResponseHeader:function(Je){var wt;if(L){if(!x)for(x={};wt=fv.exec(C);)x[wt[1].toLowerCase()+" "]=(x[wt[1].toLowerCase()+" "]||[]).concat(wt[2]);wt=x[Je.toLowerCase()+" "]}return wt==null?null:wt.join(", ")},getAllResponseHeaders:function(){return L?C:null},setRequestHeader:function(Je,wt){return L==null&&(Je=mi[Je.toLowerCase()]=mi[Je.toLowerCase()]||Je,Pt[Je]=wt),this},overrideMimeType:function(Je){return L==null&&(V.mimeType=Je),this},statusCode:function(Je){var wt;if(Je)if(L)Ne.always(Je[Ne.status]);else for(wt in Je)Gt[wt]=[Gt[wt],Je[wt]];return this},abort:function(Je){var wt=Je||ut;return g&&g.abort(wt),ci(0,wt),this}};if(Ge.promise(Ne),V.url=((c||V.url||Ro.href)+"").replace(mv,Ro.protocol+"//"),V.type=d.method||d.type||V.method||V.type,V.dataTypes=(V.dataType||"*").toLowerCase().match(We)||[""],V.crossDomain==null){M=S.createElement("a");try{M.href=V.url,M.href=M.href,V.crossDomain=uu.protocol+"//"+uu.host!=M.protocol+"//"+M.host}catch{V.crossDomain=!0}}if(V.data&&V.processData&&typeof V.data!="string"&&(V.data=p.param(V.data,V.traditional)),Jf(Kf,V,d,Ne),L)return Ne;G=p.event&&V.global,G&&p.active++===0&&p.event.trigger("ajaxStart"),V.type=V.type.toUpperCase(),V.hasContent=!pv.test(V.type),_=V.url.replace(hv,""),V.hasContent?V.data&&V.processData&&(V.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(V.data=V.data.replace(uv,"+")):(te=V.url.slice(_.length),V.data&&(V.processData||typeof V.data=="string")&&(_+=(au.test(_)?"&":"?")+V.data,delete V.data),V.cache===!1&&(_=_.replace(dv,"$1"),te=(au.test(_)?"&":"?")+"_="+Uf.guid+++te),V.url=_+te),V.ifModified&&(p.lastModified[_]&&Ne.setRequestHeader("If-Modified-Since",p.lastModified[_]),p.etag[_]&&Ne.setRequestHeader("If-None-Match",p.etag[_])),(V.data&&V.hasContent&&V.contentType!==!1||d.contentType)&&Ne.setRequestHeader("Content-Type",V.contentType),Ne.setRequestHeader("Accept",V.dataTypes[0]&&V.accepts[V.dataTypes[0]]?V.accepts[V.dataTypes[0]]+(V.dataTypes[0]!=="*"?", "+qf+"; q=0.01":""):V.accepts["*"]);for(B in V.headers)Ne.setRequestHeader(B,V.headers[B]);if(V.beforeSend&&(V.beforeSend.call(H,Ne,V)===!1||L))return Ne.abort();if(ut="abort",Te.add(V.complete),Ne.done(V.success),Ne.fail(V.error),g=Jf(cu,V,d,Ne),!g)ci(-1,"No Transport");else{if(Ne.readyState=1,G&&we.trigger("ajaxSend",[Ne,V]),L)return Ne;V.async&&V.timeout>0&&(T=e.setTimeout(function(){Ne.abort("timeout")},V.timeout));try{L=!1,g.send(Pt,ci)}catch(Je){if(L)throw Je;ci(-1,Je)}}function ci(Je,wt,Io,Ya){var _i,Os,Ps,ui,Yn,Ri=wt;L||(L=!0,T&&e.clearTimeout(T),g=void 0,C=Ya||"",Ne.readyState=Je>0?4:0,_i=Je>=200&&Je<300||Je===304,Io&&(ui=_v(V,Ne,Io)),!_i&&p.inArray("script",V.dataTypes)>-1&&p.inArray("json",V.dataTypes)<0&&(V.converters["text script"]=function(){}),ui=yv(V,ui,Ne,_i),_i?(V.ifModified&&(Yn=Ne.getResponseHeader("Last-Modified"),Yn&&(p.lastModified[_]=Yn),Yn=Ne.getResponseHeader("etag"),Yn&&(p.etag[_]=Yn)),Je===204||V.type==="HEAD"?Ri="nocontent":Je===304?Ri="notmodified":(Ri=ui.state,Os=ui.data,Ps=ui.error,_i=!Ps)):(Ps=Ri,(Je||!Ri)&&(Ri="error",Je<0&&(Je=0))),Ne.status=Je,Ne.statusText=(wt||Ri)+"",_i?Ge.resolveWith(H,[Os,Ri,Ne]):Ge.rejectWith(H,[Ne,Ri,Ps]),Ne.statusCode(Gt),Gt=void 0,G&&we.trigger(_i?"ajaxSuccess":"ajaxError",[Ne,V,_i?Os:Ps]),Te.fireWith(H,[Ne,Ri]),G&&(we.trigger("ajaxComplete",[Ne,V]),--p.active||p.event.trigger("ajaxStop")))}return Ne},getJSON:function(c,d,g){return p.get(c,d,g,"json")},getScript:function(c,d){return p.get(c,void 0,d,"script")}}),p.each(["get","post"],function(c,d){p[d]=function(g,_,C,x){return E(_)&&(x=x||C,C=_,_=void 0),p.ajax(p.extend({url:g,type:d,dataType:x,data:_,success:C},p.isPlainObject(g)&&g))}}),p.ajaxPrefilter(function(c){var d;for(d in c.headers)d.toLowerCase()==="content-type"&&(c.contentType=c.headers[d]||"")}),p._evalUrl=function(c,d,g){return p.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(_){p.globalEval(_,d,g)}})},p.fn.extend({wrapAll:function(c){var d;return this[0]&&(E(c)&&(c=c.call(this[0])),d=p(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){for(var g=this;g.firstElementChild;)g=g.firstElementChild;return g}).append(this)),this},wrapInner:function(c){return E(c)?this.each(function(d){p(this).wrapInner(c.call(this,d))}):this.each(function(){var d=p(this),g=d.contents();g.length?g.wrapAll(c):d.append(c)})},wrap:function(c){var d=E(c);return this.each(function(g){p(this).wrapAll(d?c.call(this,g):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(c){return!p.expr.pseudos.visible(c)},p.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var vv={0:200,1223:204},Ao=p.ajaxSettings.xhr();v.cors=!!Ao&&"withCredentials"in Ao,v.ajax=Ao=!!Ao,p.ajaxTransport(function(c){var d,g;if(v.cors||Ao&&!c.crossDomain)return{send:function(_,C){var x,T=c.xhr();if(T.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(x in c.xhrFields)T[x]=c.xhrFields[x];c.mimeType&&T.overrideMimeType&&T.overrideMimeType(c.mimeType),!c.crossDomain&&!_["X-Requested-With"]&&(_["X-Requested-With"]="XMLHttpRequest");for(x in _)T.setRequestHeader(x,_[x]);d=function(M){return function(){d&&(d=g=T.onload=T.onerror=T.onabort=T.ontimeout=T.onreadystatechange=null,M==="abort"?T.abort():M==="error"?typeof T.status!="number"?C(0,"error"):C(T.status,T.statusText):C(vv[T.status]||T.status,T.statusText,(T.responseType||"text")!=="text"||typeof T.responseText!="string"?{binary:T.response}:{text:T.responseText},T.getAllResponseHeaders()))}},T.onload=d(),g=T.onerror=T.ontimeout=d("error"),T.onabort!==void 0?T.onabort=g:T.onreadystatechange=function(){T.readyState===4&&e.setTimeout(function(){d&&g()})},d=d("abort");try{T.send(c.hasContent&&c.data||null)}catch(M){if(d)throw M}},abort:function(){d&&d()}}}),p.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return p.globalEval(c),c}}}),p.ajaxPrefilter("script",function(c){c.cache===void 0&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),p.ajaxTransport("script",function(c){if(c.crossDomain||c.scriptAttrs){var d,g;return{send:function(_,C){d=p("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",g=function(x){d.remove(),g=null,x&&C(x.type==="error"?404:200,x.type)}),S.head.appendChild(d[0])},abort:function(){g&&g()}}}});var Qf=[],du=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=Qf.pop()||p.expando+"_"+Uf.guid++;return this[c]=!0,c}}),p.ajaxPrefilter("json jsonp",function(c,d,g){var _,C,x,T=c.jsonp!==!1&&(du.test(c.url)?"url":typeof c.data=="string"&&(c.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&du.test(c.data)&&"data");if(T||c.dataTypes[0]==="jsonp")return _=c.jsonpCallback=E(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,T?c[T]=c[T].replace(du,"$1"+_):c.jsonp!==!1&&(c.url+=(au.test(c.url)?"&":"?")+c.jsonp+"="+_),c.converters["script json"]=function(){return x||p.error(_+" was not called"),x[0]},c.dataTypes[0]="json",C=e[_],e[_]=function(){x=arguments},g.always(function(){C===void 0?p(e).removeProp(_):e[_]=C,c[_]&&(c.jsonpCallback=d.jsonpCallback,Qf.push(_)),x&&E(C)&&C(x[0]),x=C=void 0}),"script"}),v.createHTMLDocument=function(){var c=S.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",c.childNodes.length===2}(),p.parseHTML=function(c,d,g){if(typeof c!="string")return[];typeof d=="boolean"&&(g=d,d=!1);var _,C,x;return d||(v.createHTMLDocument?(d=S.implementation.createHTMLDocument(""),_=d.createElement("base"),_.href=S.location.href,d.head.appendChild(_)):d=S),C=ve.exec(c),x=!g&&[],C?[d.createElement(C[1])]:(C=zn([c],d,x),x&&x.length&&p(x).remove(),p.merge([],C.childNodes))},p.fn.load=function(c,d,g){var _,C,x,T=this,M=c.indexOf(" ");return M>-1&&(_=Is(c.slice(M)),c=c.slice(0,M)),E(d)?(g=d,d=void 0):d&&typeof d=="object"&&(C="POST"),T.length>0&&p.ajax({url:c,type:C||"GET",dataType:"html",data:d}).done(function(L){x=arguments,T.html(_?p("<div>").append(p.parseHTML(L)).find(_):L)}).always(g&&function(L,G){T.each(function(){g.apply(this,x||[L.responseText,G,L])})}),this},p.expr.pseudos.animated=function(c){return p.grep(p.timers,function(d){return c===d.elem}).length},p.offset={setOffset:function(c,d,g){var _,C,x,T,M,L,G,B=p.css(c,"position"),te=p(c),V={};B==="static"&&(c.style.position="relative"),M=te.offset(),x=p.css(c,"top"),L=p.css(c,"left"),G=(B==="absolute"||B==="fixed")&&(x+L).indexOf("auto")>-1,G?(_=te.position(),T=_.top,C=_.left):(T=parseFloat(x)||0,C=parseFloat(L)||0),E(d)&&(d=d.call(c,g,p.extend({},M))),d.top!=null&&(V.top=d.top-M.top+T),d.left!=null&&(V.left=d.left-M.left+C),"using"in d?d.using.call(c,V):te.css(V)}},p.fn.extend({offset:function(c){if(arguments.length)return c===void 0?this:this.each(function(C){p.offset.setOffset(this,c,C)});var d,g,_=this[0];if(_)return _.getClientRects().length?(d=_.getBoundingClientRect(),g=_.ownerDocument.defaultView,{top:d.top+g.pageYOffset,left:d.left+g.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var c,d,g,_=this[0],C={top:0,left:0};if(p.css(_,"position")==="fixed")d=_.getBoundingClientRect();else{for(d=this.offset(),g=_.ownerDocument,c=_.offsetParent||g.documentElement;c&&(c===g.body||c===g.documentElement)&&p.css(c,"position")==="static";)c=c.parentNode;c&&c!==_&&c.nodeType===1&&(C=p(c).offset(),C.top+=p.css(c,"borderTopWidth",!0),C.left+=p.css(c,"borderLeftWidth",!0))}return{top:d.top-C.top-p.css(_,"marginTop",!0),left:d.left-C.left-p.css(_,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&p.css(c,"position")==="static";)c=c.offsetParent;return c||Ee})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,d){var g=d==="pageYOffset";p.fn[c]=function(_){return nt(this,function(C,x,T){var M;if(b(C)?M=C:C.nodeType===9&&(M=C.defaultView),T===void 0)return M?M[d]:C[x];M?M.scrollTo(g?M.pageXOffset:T,g?T:M.pageYOffset):C[x]=T},c,_,arguments.length)}}),p.each(["top","left"],function(c,d){p.cssHooks[d]=Ff(v.pixelPosition,function(g,_){if(_)return _=bo(g,d),tu.test(_)?p(g).position()[d]+"px":_})}),p.each({Height:"height",Width:"width"},function(c,d){p.each({padding:"inner"+c,content:d,"":"outer"+c},function(g,_){p.fn[_]=function(C,x){var T=arguments.length&&(g||typeof C!="boolean"),M=g||(C===!0||x===!0?"margin":"border");return nt(this,function(L,G,B){var te;return b(L)?_.indexOf("outer")===0?L["inner"+c]:L.document.documentElement["client"+c]:L.nodeType===9?(te=L.documentElement,Math.max(L.body["scroll"+c],te["scroll"+c],L.body["offset"+c],te["offset"+c],te["client"+c])):B===void 0?p.css(L,G,M):p.style(L,G,B,M)},d,T?C:void 0,T)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,d){p.fn[d]=function(g){return this.on(d,g)}}),p.fn.extend({bind:function(c,d,g){return this.on(c,null,d,g)},unbind:function(c,d){return this.off(c,null,d)},delegate:function(c,d,g,_){return this.on(d,c,g,_)},undelegate:function(c,d,g){return arguments.length===1?this.off(c,"**"):this.off(d,c||"**",g)},hover:function(c,d){return this.mouseenter(c).mouseleave(d||c)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,d){p.fn[d]=function(g,_){return arguments.length>0?this.on(d,null,g,_):this.trigger(d)}});var Cv=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;p.proxy=function(c,d){var g,_,C;if(typeof d=="string"&&(g=c[d],d=c,c=g),!!E(c))return _=r.call(arguments,2),C=function(){return c.apply(d||this,_.concat(r.call(arguments)))},C.guid=c.guid=c.guid||p.guid++,C},p.holdReady=function(c){c?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=ue,p.isFunction=E,p.isWindow=b,p.camelCase=F,p.type=I,p.now=Date.now,p.isNumeric=function(c){var d=p.type(c);return(d==="number"||d==="string")&&!isNaN(c-parseFloat(c))},p.trim=function(c){return c==null?"":(c+"").replace(Cv,"$1")};var Ev=e.jQuery,xv=e.$;return p.noConflict=function(c){return e.$===p&&(e.$=xv),c&&e.jQuery===p&&(e.jQuery=Ev),p},typeof t>"u"&&(e.jQuery=e.$=p),p})})(dx);const Rr=ph,fx="/Map_Demo/assets/example-AddressData-2d340b55.jpg";const Es=(i,e)=>{const t=i.__vccOpts||i;for(const[n,s]of e)t[n]=s;return t},gx={props:{id:{Type:String,default:0},closeMapData:{Type:Function,default:()=>{}}},setup(i,{emit:e}){const t=fn({});return{props:i,state:t}}},hr=i=>(td("data-v-2d14893e"),i=i(),id(),i),px={class:"bg-white rounded py-2"},mx=hr(()=>Y("div",{class:"row mx-0 align-items-center flex-nowrap text-center p-2 fw-bold"},[Y("p",null,"詳細資訊")],-1)),_x=hr(()=>Y("img",{src:fx,class:"w-100",alt:""},null,-1)),yx={class:"row mx-0 align-items-center p-2 position-relative"},vx=hr(()=>Y("p",null,"subtitle:副標題副標題副標題",-1)),Cx=hr(()=>Y("div",{class:"position-absolute w-auto top-0 end-0 mt-2"},"更多資訊",-1)),Ex=hr(()=>Y("p",null,"address300 新竹市東區大學路1001號",-1)),xx=hr(()=>Y("a",{href:""},"24.791781619336316, 120.9984423386347",-1)),Tx={class:"border-bottom d-flex justify-content-around p-2 mt-3"},wx=hr(()=>Y("div",{class:"py-2 px-4"},[Y("div",null,"相片相片相片相片相片相片"),Y("div",null,"影片影片影片影片影片影片")],-1));function bx(i,e,t,n,s,r){var o;return it(),ot("div",px,[mx,_x,Y("div",yx,[Y("p",null,"title:"+Jo((o=n.props)==null?void 0:o.id),1),vx,Cx,Ex,xx]),Y("div",null,[Y("div",Tx,[Y("div",{onClick:e[0]||(e[0]=()=>{})},"相片"),Y("div",{onClick:e[1]||(e[1]=()=>{})},"影片")]),wx])])}const Sx=Es(gx,[["render",bx],["__scopeId","data-v-2d14893e"]]),Rx={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class Ax extends Error{constructor(e){const t=Rx[e];super(t),this.code=e,this.name="AssertionError",this.message=t}}const m_=Ax;class Ix{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const gn=Ix,eo={PROPERTYCHANGE:"propertychange"};class Lx{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}const ld=Lx;function Ox(i,e,t){let n,s;t=t||sr;let r=0,o=i.length,a=!1;for(;r<o;)n=r+(o-r>>1),s=+t(i[n],e),s<0?r=n+1:(o=n,a=!s);return a?r:~r}function sr(i,e){return i>e?1:i<e?-1:0}function Sc(i,e,t){const n=i.length;if(i[0]<=e)return 0;if(e<=i[n-1])return n-1;let s;if(t>0){for(s=1;s<n;++s)if(i[s]<e)return s-1}else if(t<0){for(s=1;s<n;++s)if(i[s]<=e)return s}else for(s=1;s<n;++s){if(i[s]==e)return s;if(i[s]<e)return typeof t=="function"?t(e,i[s-1],i[s])>0?s-1:s:i[s-1]-e<e-i[s]?s-1:s}return n-1}function Px(i,e,t){for(;e<t;){const n=i[e];i[e]=i[t],i[t]=n,++e,--t}}function Ki(i,e){const t=Array.isArray(e)?e:[e],n=t.length;for(let s=0;s<n;s++)i[i.length]=t[s]}function xs(i,e){const t=i.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(i[n]!==e[n])return!1;return!0}function Mx(i,e,t){const n=e||sr;return i.every(function(s,r){if(r===0)return!0;const o=n(i[r-1],s);return!(o>0||t&&o===0)})}function ra(){return!0}function Rc(){return!1}function rr(){}function Dx(i){let e=!1,t,n,s;return function(){const r=Array.prototype.slice.call(arguments);return(!e||this!==s||!xs(r,n))&&(e=!0,s=this,n=r,t=i.apply(this,arguments)),t}}function Sa(i){for(const e in i)delete i[e]}function or(i){let e;for(e in i)return!1;return!e}class Fx extends ld{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),s=n[e]||(n[e]=[]);s.includes(t)||s.push(t)}dispatchEvent(e){const t=typeof e=="string",n=t?e:e.type,s=this.listeners_&&this.listeners_[n];if(!s)return;const r=t?new gn(e):e;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,a[n]=0),++o[n];let l;for(let u=0,h=s.length;u<h;++u)if("handleEvent"in s[u]?l=s[u].handleEvent(r):l=s[u].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--o[n]===0){let u=a[n];for(delete a[n];u--;)this.removeEventListener(n,rr);delete o[n]}return l}disposeInternal(){this.listeners_&&Sa(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){const n=this.listeners_&&this.listeners_[e];if(n){const s=n.indexOf(t);s!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[s]=rr,++this.pendingRemovals_[e]):(n.splice(s,1),n.length===0&&delete this.listeners_[e]))}}}const Ra=Fx,Me={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function qe(i,e,t,n,s){if(n&&n!==i&&(t=t.bind(n)),s){const o=t;t=function(){i.removeEventListener(e,t),o.apply(this,arguments)}}const r={target:i,type:e,listener:t};return i.addEventListener(e,t),r}function $l(i,e,t,n){return qe(i,e,t,n,!0)}function pt(i){i&&i.target&&(i.target.removeEventListener(i.type,i.listener),Sa(i))}class Ac extends Ra{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Me.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=qe(this,e[r],t);return s}return qe(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const s=e.length;n=new Array(s);for(let r=0;r<s;++r)n[r]=$l(this,e[r],t)}else n=$l(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)An(n);else if(Array.isArray(e))for(let s=0,r=e.length;s<r;++s)this.removeEventListener(e[s],t);else this.removeEventListener(e,t)}}Ac.prototype.on;Ac.prototype.once;Ac.prototype.un;function An(i){if(Array.isArray(i))for(let e=0,t=i.length;e<t;++e)pt(i[e]);else pt(i)}const __=Ac;function Le(){throw new Error("Unimplemented abstract method.")}let Nx=0;function je(i){return i.ol_uid||(i.ol_uid=String(++Nx))}class Gg extends gn{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}class kx extends __{constructor(e){super(),this.on,this.once,this.un,je(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new Gg(n,e,t)),n=eo.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new Gg(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const s=this.values_||(this.values_={});if(n)s[e]=t;else{const r=s[e];s[e]=t,r!==t&&this.notify(e,r)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],or(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}const Mi=kx,fi={ADD:"add",REMOVE:"remove"},jg={LENGTH:"length"};class rl extends gn{constructor(e,t,n){super(e),this.element=t,this.index=n}}class Gx extends Mi{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let n=0,s=this.array_.length;n<s;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let n=0,s=t.length;n<s;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(jg.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new rl(fi.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let n=0,s=t.length;n<s;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new rl(fi.REMOVE,t,e)),t}setAt(e,t){const n=this.getLength();if(e>=n){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const s=this.array_[e];this.array_[e]=t,this.dispatchEvent(new rl(fi.REMOVE,s,e)),this.dispatchEvent(new rl(fi.ADD,t,e))}updateLength_(){this.set(jg.LENGTH,this.array_.length)}assertUnique_(e,t){for(let n=0,s=this.array_.length;n<s;++n)if(this.array_[n]===e&&n!==t)throw new m_(58)}}const an=Gx,ds={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};function $e(i,e){if(!i)throw new m_(e)}class cd extends Mi{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new cd(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const n=this.getStyle();return n&&e.setStyle(n),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(pt(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=qe(e,Me.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?jx(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function jx(i){if(typeof i=="function")return i;let e;return Array.isArray(i)?e=i:($e(typeof i.getZIndex=="function",41),e=[i]),function(){return e}}const oa=cd;class ud{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new ud({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}const zr=ud,ms=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",$x=ms.includes("firefox"),Vx=ms.includes("safari")&&!ms.includes("chrom");Vx&&(ms.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ms));const Wx=ms.includes("webkit")&&!ms.includes("edge"),Bx=ms.includes("macintosh"),hd=typeof devicePixelRatio<"u"?devicePixelRatio:1,dd=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,zx=typeof Image<"u"&&Image.prototype.decode,y_=function(){let i=!1;try{const e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return i}(),v_=new Array(6);function Ei(){return[1,0,0,1,0,0]}function $g(i){return Ic(i,1,0,0,1,0,0)}function fd(i,e){const t=i[0],n=i[1],s=i[2],r=i[3],o=i[4],a=i[5],l=e[0],u=e[1],h=e[2],f=e[3],m=e[4],y=e[5];return i[0]=t*l+s*u,i[1]=n*l+r*u,i[2]=t*h+s*f,i[3]=n*h+r*f,i[4]=t*m+s*y+o,i[5]=n*m+r*y+a,i}function Ic(i,e,t,n,s,r,o){return i[0]=e,i[1]=t,i[2]=n,i[3]=s,i[4]=r,i[5]=o,i}function Hx(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i}function Mt(i,e){const t=e[0],n=e[1];return e[0]=i[0]*t+i[2]*n+i[4],e[1]=i[1]*t+i[3]*n+i[5],e}function Ol(i,e,t){return fd(i,Ic(v_,e,0,0,t,0,0))}function Yx(i,e,t){return Ic(i,e,0,0,t,0,0)}function Ux(i,e,t){return fd(i,Ic(v_,1,0,0,1,e,t))}function Zi(i,e,t,n,s,r,o,a){const l=Math.sin(r),u=Math.cos(r);return i[0]=n*u,i[1]=s*l,i[2]=-n*l,i[3]=s*u,i[4]=o*n*u-a*n*l+e,i[5]=o*s*l+a*s*u+t,i}function Lc(i,e){const t=Xx(e);$e(t!==0,32);const n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5];return i[0]=o/t,i[1]=-s/t,i[2]=-r/t,i[3]=n/t,i[4]=(r*l-o*a)/t,i[5]=-(n*l-s*a)/t,i}function Xx(i){return i[0]*i[3]-i[1]*i[2]}let Vg;function gd(i){const e="matrix("+i.join(", ")+")";if(dd)return e;const t=Vg||(Vg=document.createElement("div"));return t.style.transform=e,t.style.transform}const Vt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Vl(i){const e=si();for(let t=0,n=i.length;t<n;++t)Yo(e,i[t]);return e}function Kx(i,e,t){const n=Math.min.apply(null,i),s=Math.min.apply(null,e),r=Math.max.apply(null,i),o=Math.max.apply(null,e);return Ji(n,s,r,o,t)}function qi(i,e,t){return t?(t[0]=i[0]-e,t[1]=i[1]-e,t[2]=i[2]+e,t[3]=i[3]+e,t):[i[0]-e,i[1]-e,i[2]+e,i[3]+e]}function C_(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i.slice()}function po(i,e,t){let n,s;return e<i[0]?n=i[0]-e:i[2]<e?n=e-i[2]:n=0,t<i[1]?s=i[1]-t:i[3]<t?s=t-i[3]:s=0,n*n+s*s}function Aa(i,e){return pd(i,e[0],e[1])}function zi(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function pd(i,e,t){return i[0]<=e&&e<=i[2]&&i[1]<=t&&t<=i[3]}function mh(i,e){const t=i[0],n=i[1],s=i[2],r=i[3],o=e[0],a=e[1];let l=Vt.UNKNOWN;return o<t?l=l|Vt.LEFT:o>s&&(l=l|Vt.RIGHT),a<n?l=l|Vt.BELOW:a>r&&(l=l|Vt.ABOVE),l===Vt.UNKNOWN&&(l=Vt.INTERSECTING),l}function si(){return[1/0,1/0,-1/0,-1/0]}function Ji(i,e,t,n,s){return s?(s[0]=i,s[1]=e,s[2]=t,s[3]=n,s):[i,e,t,n]}function Oc(i){return Ji(1/0,1/0,-1/0,-1/0,i)}function md(i,e){const t=i[0],n=i[1];return Ji(t,n,t,n,e)}function _d(i,e,t,n,s){const r=Oc(s);return E_(r,i,e,t,n)}function ar(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function qx(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function Yo(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function E_(i,e,t,n,s){for(;t<n;t+=s)Zx(i,e[t],e[t+1]);return i}function Zx(i,e,t){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}function yd(i,e){let t;return t=e(Pc(i)),t||(t=e(Mc(i)),t)||(t=e(Dc(i)),t)||(t=e(Ts(i)),t)?t:!1}function _h(i){let e=0;return Fc(i)||(e=et(i)*Ot(i)),e}function Pc(i){return[i[0],i[1]]}function Mc(i){return[i[2],i[1]]}function Oi(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function Jx(i,e){let t;return e==="bottom-left"?t=Pc(i):e==="bottom-right"?t=Mc(i):e==="top-left"?t=Ts(i):e==="top-right"?t=Dc(i):$e(!1,13),t}function Hr(i,e,t,n,s){const[r,o,a,l,u,h,f,m]=yh(i,e,t,n);return Ji(Math.min(r,a,u,f),Math.min(o,l,h,m),Math.max(r,a,u,f),Math.max(o,l,h,m),s)}function yh(i,e,t,n){const s=e*n[0]/2,r=e*n[1]/2,o=Math.cos(t),a=Math.sin(t),l=s*o,u=s*a,h=r*o,f=r*a,m=i[0],y=i[1];return[m-l+f,y-u-h,m-l-f,y-u+h,m+l-f,y+u+h,m+l+f,y+u-h,m-l+f,y-u-h]}function Ot(i){return i[3]-i[1]}function Mn(i,e,t){const n=t||si();return St(i,e)?(i[0]>e[0]?n[0]=i[0]:n[0]=e[0],i[1]>e[1]?n[1]=i[1]:n[1]=e[1],i[2]<e[2]?n[2]=i[2]:n[2]=e[2],i[3]<e[3]?n[3]=i[3]:n[3]=e[3]):Oc(n),n}function Ts(i){return[i[0],i[3]]}function Dc(i){return[i[2],i[3]]}function et(i){return i[2]-i[0]}function St(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function Fc(i){return i[2]<i[0]||i[3]<i[1]}function Qx(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function e1(i,e,t){let n=!1;const s=mh(i,e),r=mh(i,t);if(s===Vt.INTERSECTING||r===Vt.INTERSECTING)n=!0;else{const o=i[0],a=i[1],l=i[2],u=i[3],h=e[0],f=e[1],m=t[0],y=t[1],v=(y-f)/(m-h);let E,b;r&Vt.ABOVE&&!(s&Vt.ABOVE)&&(E=m-(y-u)/v,n=E>=o&&E<=l),!n&&r&Vt.RIGHT&&!(s&Vt.RIGHT)&&(b=y-(m-l)*v,n=b>=a&&b<=u),!n&&r&Vt.BELOW&&!(s&Vt.BELOW)&&(E=m-(y-a)/v,n=E>=o&&E<=l),!n&&r&Vt.LEFT&&!(s&Vt.LEFT)&&(b=y-(m-o)*v,n=b>=a&&b<=u)}return n}function t1(i,e,t,n){let s=[];if(n>1){const a=i[2]-i[0],l=i[3]-i[1];for(let u=0;u<n;++u)s.push(i[0]+a*u/n,i[1],i[2],i[1]+l*u/n,i[2]-a*u/n,i[3],i[0],i[3]-l*u/n)}else s=[i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3]];e(s,s,2);const r=[],o=[];for(let a=0,l=s.length;a<l;a+=2)r.push(s[a]),o.push(s[a+1]);return Kx(r,o,t)}function x_(i,e){const t=e.getExtent(),n=Oi(i);if(e.canWrapX()&&(n[0]<t[0]||n[0]>=t[2])){const s=et(t),o=Math.floor((n[0]-t[0])/s)*s;i[0]-=o,i[2]-=o}return i}function i1(i,e){if(e.canWrapX()){const t=e.getExtent();if(!isFinite(i[0])||!isFinite(i[2]))return[[t[0],i[1],t[2],i[3]]];x_(i,e);const n=et(t);if(et(i)>n)return[[t[0],i[1],t[2],i[3]]];if(i[0]<t[0])return[[i[0]+n,i[1],t[2],i[3]],[t[0],i[1],i[2],i[3]]];if(i[2]>t[2])return[[i[0],i[1],t[2],i[3]],[t[0],i[1],i[2]-n,i[3]]]}return[i]}const aa={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class n1{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||aa[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const vd=n1,Ia=6378137,Fr=Math.PI*Ia,s1=[-Fr,-Fr,Fr,Fr],r1=[-180,-85,180,85],al=Ia*Math.log(Math.tan(Math.PI/2));class yr extends vd{constructor(e){super({code:e,units:"m",extent:s1,global:!0,worldExtent:r1,getPointResolution:function(t,n){return t/Math.cosh(n[1]/Ia)}})}}const Wg=[new yr("EPSG:3857"),new yr("EPSG:102100"),new yr("EPSG:102113"),new yr("EPSG:900913"),new yr("http://www.opengis.net/def/crs/EPSG/0/3857"),new yr("http://www.opengis.net/gml/srs/epsg.xml#3857")];function o1(i,e,t){const n=i.length;t=t>1?t:2,e===void 0&&(t>2?e=i.slice():e=new Array(n));for(let s=0;s<n;s+=t){e[s]=Fr*i[s]/180;let r=Ia*Math.log(Math.tan(Math.PI*(+i[s+1]+90)/360));r>al?r=al:r<-al&&(r=-al),e[s+1]=r}return e}function a1(i,e,t){const n=i.length;t=t>1?t:2,e===void 0&&(t>2?e=i.slice():e=new Array(n));for(let s=0;s<n;s+=t)e[s]=180*i[s]/Fr,e[s+1]=360*Math.atan(Math.exp(i[s+1]/Ia))/Math.PI-90;return e}const l1=6378137,Bg=[-180,-90,180,90],c1=Math.PI*l1/180;class Gs extends vd{constructor(e,t){super({code:e,units:"degrees",extent:Bg,axisOrientation:t,global:!0,metersPerUnit:c1,worldExtent:Bg})}}const zg=[new Gs("CRS:84"),new Gs("EPSG:4326","neu"),new Gs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Gs("urn:ogc:def:crs:OGC:2:84"),new Gs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Gs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Gs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let vh={};function u1(i){return vh[i]||vh[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function h1(i,e){vh[i]=e}let Yr={};function Wl(i,e,t){const n=i.getCode(),s=e.getCode();n in Yr||(Yr[n]={}),Yr[n][s]=t}function d1(i,e){let t;return i in Yr&&e in Yr[i]&&(t=Yr[i][e]),t}function Dt(i,e,t){return Math.min(Math.max(i,e),t)}function f1(i,e,t,n,s,r){const o=s-t,a=r-n;if(o!==0||a!==0){const l=((i-t)*o+(e-n)*a)/(o*o+a*a);l>1?(t=s,n=r):l>0&&(t+=o*l,n+=a*l)}return tr(i,e,t,n)}function tr(i,e,t,n){const s=t-i,r=n-e;return s*s+r*r}function g1(i){const e=i.length;for(let n=0;n<e;n++){let s=n,r=Math.abs(i[n][n]);for(let a=n+1;a<e;a++){const l=Math.abs(i[a][n]);l>r&&(r=l,s=a)}if(r===0)return null;const o=i[s];i[s]=i[n],i[n]=o;for(let a=n+1;a<e;a++){const l=-i[a][n]/i[n][n];for(let u=n;u<e+1;u++)n==u?i[a][u]=0:i[a][u]+=l*i[n][u]}}const t=new Array(e);for(let n=e-1;n>=0;n--){t[n]=i[n][e]/i[n][n];for(let s=n-1;s>=0;s--)i[s][e]-=i[s][n]*t[n]}return t}function Hg(i){return i*180/Math.PI}function Ur(i){return i*Math.PI/180}function fs(i,e){const t=i%e;return t*e<0?t+e:t}function Rn(i,e,t){return i+t*(e-i)}function Nc(i,e){const t=Math.pow(10,e);return Math.round(i*t)/t}function Yg(i,e){return Math.round(Nc(i,e))}function Nr(i,e){return Math.floor(Nc(i,e))}function rs(i,e){return Math.ceil(Nc(i,e))}function T_(i,e){const t=(""+i).split("."),n=(""+e).split(".");for(let s=0;s<Math.max(t.length,n.length);s++){const r=parseInt(t[s]||"0",10),o=parseInt(n[s]||"0",10);if(r>o)return 1;if(o>r)return-1}return 0}function w_(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function Bl(i,e){let t=!0;for(let n=i.length-1;n>=0;--n)if(i[n]!=e[n]){t=!1;break}return t}function Cd(i,e){const t=Math.cos(e),n=Math.sin(e),s=i[0]*t-i[1]*n,r=i[1]*t+i[0]*n;return i[0]=s,i[1]=r,i}function b_(i,e){return i[0]*=e,i[1]*=e,i}function Ed(i,e){if(e.canWrapX()){const t=et(e.getExtent()),n=p1(i,e,t);n&&(i[0]-=n*t)}return i}function p1(i,e,t){const n=e.getExtent();let s=0;return e.canWrapX()&&(i[0]<n[0]||i[0]>n[2])&&(t=t||et(n),s=Math.floor((i[0]-n[0])/t)),s}const S_=63710088e-1;function Ug(i,e,t){t=t||S_;const n=Ur(i[1]),s=Ur(e[1]),r=(s-n)/2,o=Ur(e[0]-i[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(n)*Math.cos(s);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function m1(i,e,t,n){n=n||S_;const s=Ur(i[1]),r=Ur(i[0]),o=e/n,a=Math.asin(Math.sin(s)*Math.cos(o)+Math.cos(s)*Math.sin(o)*Math.cos(t)),l=r+Math.atan2(Math.sin(t)*Math.sin(o)*Math.cos(s),Math.cos(o)-Math.sin(s)*Math.sin(a));return[Hg(l),Hg(a)]}const R_={info:1,warn:2,error:3,none:4};let _1=R_.info;function A_(...i){_1>R_.warn||console.warn(...i)}let Ch=!0;function y1(i){Ch=!(i===void 0?!0:i)}function xd(i,e){if(e!==void 0){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];e=e}else e=i.slice();return e}function I_(i,e){if(e!==void 0&&i!==e){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];i=e}return i}function v1(i){h1(i.getCode(),i),Wl(i,i,xd)}function C1(i){i.forEach(v1)}function yt(i){return typeof i=="string"?u1(i):i||null}function Xg(i,e,t,n){i=yt(i);let s;const r=i.getPointResolutionFunc();if(r){if(s=r(e,t),n&&n!==i.getUnits()){const o=i.getMetersPerUnit();o&&(s=s*o/aa[n])}}else{const o=i.getUnits();if(o=="degrees"&&!n||n=="degrees")s=e;else{const a=wd(i,yt("EPSG:4326"));if(a===I_&&o!=="degrees")s=e*i.getMetersPerUnit();else{let u=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];u=a(u,u,2);const h=Ug(u.slice(0,2),u.slice(2,4)),f=Ug(u.slice(4,6),u.slice(6,8));s=(h+f)/2}const l=n?aa[n]:i.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function Kg(i){C1(i),i.forEach(function(e){i.forEach(function(t){e!==t&&Wl(e,t,xd)})})}function E1(i,e,t,n){i.forEach(function(s){e.forEach(function(r){Wl(s,r,t),Wl(r,s,n)})})}function Td(i,e){if(i){if(typeof i=="string")return yt(i)}else return yt(e);return i}function In(i,e){if(i===e)return!0;const t=i.getUnits()===e.getUnits();return(i.getCode()===e.getCode()||wd(i,e)===xd)&&t}function wd(i,e){const t=i.getCode(),n=e.getCode();let s=d1(t,n);return s||(s=I_),s}function _s(i,e){const t=yt(i),n=yt(e);return wd(t,n)}function kc(i,e,t){return _s(e,t)(i,void 0,i.length)}function L_(i,e,t,n){const s=_s(e,t);return t1(i,s,void 0,n)}function Eh(i,e){return i}function xn(i,e){return Ch&&!Bl(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(Ch=!1,A_("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),i}function bd(i,e){return i}function ln(i,e){return i}function x1(i,e){return i}function T1(){Kg(Wg),Kg(zg),E1(zg,Wg,o1,a1)}T1();function gs(i,e,t,n,s,r){r=r||[];let o=0;for(let a=e;a<t;a+=n){const l=i[a],u=i[a+1];r[o++]=s[0]*l+s[2]*u+s[4],r[o++]=s[1]*l+s[3]*u+s[5]}return r&&r.length!=o&&(r.length=o),r}function Sd(i,e,t,n,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),u=r[0],h=r[1];let f=0;for(let m=e;m<t;m+=n){const y=i[m]-u,v=i[m+1]-h;o[f++]=u+y*a-v*l,o[f++]=h+y*l+v*a;for(let E=m+2;E<m+n;++E)o[f++]=i[E]}return o&&o.length!=f&&(o.length=f),o}function w1(i,e,t,n,s,r,o,a){a=a||[];const l=o[0],u=o[1];let h=0;for(let f=e;f<t;f+=n){const m=i[f]-l,y=i[f+1]-u;a[h++]=l+s*m,a[h++]=u+r*y;for(let v=f+2;v<f+n;++v)a[h++]=i[v]}return a&&a.length!=h&&(a.length=h),a}function O_(i,e,t,n,s,r,o){o=o||[];let a=0;for(let l=e;l<t;l+=n){o[a++]=i[l]+s,o[a++]=i[l+1]+r;for(let u=l+2;u<l+n;++u)o[a++]=i[u]}return o&&o.length!=a&&(o.length=a),o}const qg=Ei();class b1 extends Mi{constructor(){super(),this.extent_=si(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Dx(function(e,t,n){if(!n)return this.getSimplifiedGeometry(t);const s=this.clone();return s.applyTransform(n),s.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Le()}closestPointXY(e,t,n,s){return Le()}containsXY(e,t){const n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Le()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Oc(t),this.extentRevision_=this.getRevision()}return Qx(this.extent_,e)}rotate(e,t){Le()}scale(e,t,n){Le()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Le()}getType(){return Le()}applyTransform(e){Le()}intersectsExtent(e){return Le()}translate(e,t){Le()}transform(e,t){const n=yt(e),s=n.getUnits()=="tile-pixels"?function(r,o,a){const l=n.getExtent(),u=n.getWorldExtent(),h=Ot(u)/Ot(l);return Zi(qg,u[0],u[3],h,-h,0,0,0),gs(r,0,r.length,a,qg,o),_s(n,t)(r,o,a)}:_s(n,t);return this.applyTransform(s),this}}const xh=b1;class S1 extends xh{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return _d(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Le()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=Zg(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Le()}setLayout(e,t,n){let s;if(e)s=Zg(e);else{for(let r=0;r<n;++r){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}s=t.length,e=R1(s)}this.layout=e,this.stride=s}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const s=this.getStride();Sd(n,0,n.length,s,e,t,n),this.changed()}}scale(e,t,n){t===void 0&&(t=e),n||(n=Oi(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();w1(s,0,s.length,r,e,t,n,s),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const s=this.getStride();O_(n,0,n.length,s,e,t,n),this.changed()}}}function R1(i){let e;return i==2?e="XY":i==3?e="XYZ":i==4&&(e="XYZM"),e}function Zg(i){let e;return i=="XY"?e=2:i=="XYZ"||i=="XYM"?e=3:i=="XYZM"&&(e=4),e}function A1(i,e,t){const n=i.getFlatCoordinates();if(!n)return null;const s=i.getStride();return gs(n,0,n.length,s,e,t)}const Vn=S1;function Jg(i,e,t,n,s,r,o){const a=i[e],l=i[e+1],u=i[t]-a,h=i[t+1]-l;let f;if(u===0&&h===0)f=e;else{const m=((s-a)*u+(r-l)*h)/(u*u+h*h);if(m>1)f=t;else if(m>0){for(let y=0;y<n;++y)o[y]=Rn(i[e+y],i[t+y],m);o.length=n;return}else f=e}for(let m=0;m<n;++m)o[m]=i[f+m];o.length=n}function Rd(i,e,t,n,s){let r=i[e],o=i[e+1];for(e+=n;e<t;e+=n){const a=i[e],l=i[e+1],u=tr(r,o,a,l);u>s&&(s=u),r=a,o=l}return s}function Ad(i,e,t,n,s){for(let r=0,o=t.length;r<o;++r){const a=t[r];s=Rd(i,e,a,n,s),e=a}return s}function I1(i,e,t,n,s){for(let r=0,o=t.length;r<o;++r){const a=t[r];s=Ad(i,e,a,n,s),e=a[a.length-1]}return s}function Id(i,e,t,n,s,r,o,a,l,u,h){if(e==t)return u;let f,m;if(s===0){if(m=tr(o,a,i[e],i[e+1]),m<u){for(f=0;f<n;++f)l[f]=i[e+f];return l.length=n,m}return u}h=h||[NaN,NaN];let y=e+n;for(;y<t;)if(Jg(i,y-n,y,n,o,a,h),m=tr(o,a,h[0],h[1]),m<u){for(u=m,f=0;f<n;++f)l[f]=h[f];l.length=n,y+=n}else y+=n*Math.max((Math.sqrt(m)-Math.sqrt(u))/s|0,1);if(r&&(Jg(i,t-n,e,n,o,a,h),m=tr(o,a,h[0],h[1]),m<u)){for(u=m,f=0;f<n;++f)l[f]=h[f];l.length=n}return u}function Ld(i,e,t,n,s,r,o,a,l,u,h){h=h||[NaN,NaN];for(let f=0,m=t.length;f<m;++f){const y=t[f];u=Id(i,e,y,n,s,r,o,a,l,u,h),e=y}return u}function L1(i,e,t,n,s,r,o,a,l,u,h){h=h||[NaN,NaN];for(let f=0,m=t.length;f<m;++f){const y=t[f];u=Ld(i,e,y,n,s,r,o,a,l,u,h),e=y[y.length-1]}return u}function P_(i,e,t,n){for(let s=0,r=t.length;s<r;++s)i[e++]=t[s];return e}function La(i,e,t,n){for(let s=0,r=t.length;s<r;++s){const o=t[s];for(let a=0;a<n;++a)i[e++]=o[a]}return e}function Od(i,e,t,n,s){s=s||[];let r=0;for(let o=0,a=t.length;o<a;++o){const l=La(i,e,t[o],n);s[r++]=l,e=l}return s.length=r,s}function O1(i,e,t,n,s){s=s||[];let r=0;for(let o=0,a=t.length;o<a;++o){const l=Od(i,e,t[o],n,s[r]);l.length===0&&(l[0]=e),s[r++]=l,e=l[l.length-1]}return s.length=r,s}function Pd(i,e,t,n,s,r,o){const a=(t-e)/n;if(a<3){for(;e<t;e+=n)r[o++]=i[e],r[o++]=i[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,t-n];let h=0;for(;u.length>0;){const f=u.pop(),m=u.pop();let y=0;const v=i[m],E=i[m+1],b=i[f],S=i[f+1];for(let A=m+n;A<f;A+=n){const R=i[A],I=i[A+1],D=f1(R,I,v,E,b,S);D>y&&(h=A,y=D)}y>s&&(l[(h-e)/n]=1,m+n<h&&u.push(m,h),h+n<f&&u.push(h,f))}for(let f=0;f<a;++f)l[f]&&(r[o++]=i[e+f*n],r[o++]=i[e+f*n+1]);return o}function P1(i,e,t,n,s,r,o,a){for(let l=0,u=t.length;l<u;++l){const h=t[l];o=Pd(i,e,h,n,s,r,o),a.push(o),e=h}return o}function Ws(i,e){return e*Math.round(i/e)}function M1(i,e,t,n,s,r,o){if(e==t)return o;let a=Ws(i[e],s),l=Ws(i[e+1],s);e+=n,r[o++]=a,r[o++]=l;let u,h;do if(u=Ws(i[e],s),h=Ws(i[e+1],s),e+=n,e==t)return r[o++]=u,r[o++]=h,o;while(u==a&&h==l);for(;e<t;){const f=Ws(i[e],s),m=Ws(i[e+1],s);if(e+=n,f==u&&m==h)continue;const y=u-a,v=h-l,E=f-a,b=m-l;if(y*b==v*E&&(y<0&&E<y||y==E||y>0&&E>y)&&(v<0&&b<v||v==b||v>0&&b>v)){u=f,h=m;continue}r[o++]=u,r[o++]=h,a=u,l=h,u=f,h=m}return r[o++]=u,r[o++]=h,o}function M_(i,e,t,n,s,r,o,a){for(let l=0,u=t.length;l<u;++l){const h=t[l];o=M1(i,e,h,n,s,r,o),a.push(o),e=h}return o}function D1(i,e,t,n,s,r,o,a){for(let l=0,u=t.length;l<u;++l){const h=t[l],f=[];o=M_(i,e,h,n,s,r,o,f),a.push(f),e=h[h.length-1]}return o}function D_(i,e,t,n,s){let r;for(e+=n;e<t;e+=n)if(r=s(i.slice(e-n,e),i.slice(e,e+n)),r)return r;return!1}function os(i,e,t,n,s){s=s!==void 0?s:[];let r=0;for(let o=e;o<t;o+=n)s[r++]=i.slice(o,o+n);return s.length=r,s}function la(i,e,t,n,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=t.length;o<a;++o){const l=t[o];s[r++]=os(i,e,l,n,s[r]),e=l}return s.length=r,s}function Th(i,e,t,n,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=t.length;o<a;++o){const l=t[o];s[r++]=l.length===1&&l[0]===e?[]:la(i,e,l,n,s[r]),e=l[l.length-1]}return s.length=r,s}function zl(i,e,t,n,s,r,o){let a,l;const u=(t-e)/n;if(u===1)a=e;else if(u===2)a=e,l=s;else if(u!==0){let h=i[e],f=i[e+1],m=0;const y=[0];for(let b=e+n;b<t;b+=n){const S=i[b],A=i[b+1];m+=Math.sqrt((S-h)*(S-h)+(A-f)*(A-f)),y.push(m),h=S,f=A}const v=s*m,E=Ox(y,v);E<0?(l=(v-y[-E-2])/(y[-E-1]-y[-E-2]),a=e+(-E-2)*n):a=e+E*n}o=o>1?o:2,r=r||new Array(o);for(let h=0;h<o;++h)r[h]=a===void 0?NaN:l===void 0?i[a+h]:Rn(i[a+h],i[a+n+h],l);return r}function wh(i,e,t,n,s,r){if(t==e)return null;let o;if(s<i[e+n-1])return r?(o=i.slice(e,e+n),o[n-1]=s,o):null;if(i[t-1]<s)return r?(o=i.slice(t-n,t),o[n-1]=s,o):null;if(s==i[e+n-1])return i.slice(e,e+n);let a=e/n,l=t/n;for(;a<l;){const m=a+l>>1;s<i[(m+1)*n-1]?l=m:a=m+1}const u=i[a*n-1];if(s==u)return i.slice((a-1)*n,(a-1)*n+n);const h=i[(a+1)*n-1],f=(s-u)/(h-u);o=[];for(let m=0;m<n-1;++m)o.push(Rn(i[(a-1)*n+m],i[a*n+m],f));return o.push(s),o}function F1(i,e,t,n,s,r,o){if(o)return wh(i,e,t[t.length-1],n,s,r);let a;if(s<i[n-1])return r?(a=i.slice(0,n),a[n-1]=s,a):null;if(i[i.length-1]<s)return r?(a=i.slice(i.length-n),a[n-1]=s,a):null;for(let l=0,u=t.length;l<u;++l){const h=t[l];if(e!=h){if(s<i[e+n-1])return null;if(s<=i[h-1])return wh(i,e,h,n,s,!1);e=h}}return null}function N1(i,e,t,n,s){return!yd(s,function(o){return!Us(i,e,t,n,o[0],o[1])})}function Us(i,e,t,n,s,r){let o=0,a=i[t-n],l=i[t-n+1];for(;e<t;e+=n){const u=i[e],h=i[e+1];l<=r?h>r&&(u-a)*(r-l)-(s-a)*(h-l)>0&&o++:h<=r&&(u-a)*(r-l)-(s-a)*(h-l)<0&&o--,a=u,l=h}return o!==0}function Md(i,e,t,n,s,r){if(t.length===0||!Us(i,e,t[0],n,s,r))return!1;for(let o=1,a=t.length;o<a;++o)if(Us(i,t[o-1],t[o],n,s,r))return!1;return!0}function k1(i,e,t,n,s,r){if(t.length===0)return!1;for(let o=0,a=t.length;o<a;++o){const l=t[o];if(Md(i,e,l,n,s,r))return!0;e=l[l.length-1]}return!1}function Gc(i,e,t,n,s){const r=E_(si(),i,e,t,n);return St(s,r)?zi(s,r)||r[0]>=s[0]&&r[2]<=s[2]||r[1]>=s[1]&&r[3]<=s[3]?!0:D_(i,e,t,n,function(o,a){return e1(s,o,a)}):!1}function G1(i,e,t,n,s){for(let r=0,o=t.length;r<o;++r){if(Gc(i,e,t[r],n,s))return!0;e=t[r]}return!1}function F_(i,e,t,n,s){return!!(Gc(i,e,t,n,s)||Us(i,e,t,n,s[0],s[1])||Us(i,e,t,n,s[0],s[3])||Us(i,e,t,n,s[2],s[1])||Us(i,e,t,n,s[2],s[3]))}function N_(i,e,t,n,s){if(!F_(i,e,t[0],n,s))return!1;if(t.length===1)return!0;for(let r=1,o=t.length;r<o;++r)if(N1(i,t[r-1],t[r],n,s)&&!Gc(i,t[r-1],t[r],n,s))return!1;return!0}function j1(i,e,t,n,s){for(let r=0,o=t.length;r<o;++r){const a=t[r];if(N_(i,e,a,n,s))return!0;e=a[a.length-1]}return!1}function k_(i,e,t,n){let s=i[e],r=i[e+1],o=0;for(let a=e+n;a<t;a+=n){const l=i[a],u=i[a+1];o+=Math.sqrt((l-s)*(l-s)+(u-r)*(u-r)),s=l,r=u}return o}class Hl extends Vn{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){this.flatCoordinates?Ki(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new Hl(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,s){return s<po(this.getExtent(),e,t)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Rd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Id(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,s))}forEachSegment(e){return D_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,wh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return os(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return zl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return k_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=Pd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Hl(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return Gc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=La(this.flatCoordinates,0,e,this.stride),this.changed()}}const Yl=Hl;class Dd extends Vn{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Dd(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,s){const r=this.flatCoordinates,o=tr(e,t,r[0],r[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)n[l]=r[l];return n.length=a,o}return s}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return md(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return pd(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=P_(this.flatCoordinates,0,e,this.stride),this.changed()}}const Hi=Dd;class Fd{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Fd({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const ca=Fd,ze={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Qg(i,e,t){return t===void 0&&(t=[0,0]),t[0]=i[0]+2*e,t[1]=i[1]+2*e,t}function ep(i){return i[0]>0&&i[1]>0}function Nd(i,e,t){return t===void 0&&(t=[0,0]),t[0]=i[0]*e+.5|0,t[1]=i[1]*e+.5|0,t}function Wt(i,e){return Array.isArray(i)?i:(e===void 0?e=[i,i]:(e[0]=i,e[1]=i),e)}class kd{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Wt(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new kd({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Le()}getImage(e){return Le()}getHitDetectionImage(){return Le()}getPixelRatio(e){return 1}getImageState(){return Le()}getImageSize(){return Le()}getOrigin(){return Le()}getSize(){return Le()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Wt(e)}listenImageChange(e){Le()}load(){Le()}unlistenImageChange(e){Le()}}const G_=kd,$1=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,V1=/^([a-z]*)$|^hsla?\(.*\)$/i;function j_(i){return typeof i=="string"?i:$_(i)}function W1(i){const e=document.createElement("div");if(e.style.color=i,e.style.color!==""){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}const B1=function(){const e={};let t=0;return function(n){let s;if(e.hasOwnProperty(n))s=e[n];else{if(t>=1024){let r=0;for(const o in e)r++&3||(delete e[o],--t)}s=z1(n),e[n]=s,++t}return s}}();function Ul(i){return Array.isArray(i)?i:B1(i)}function z1(i){let e,t,n,s,r;if(V1.exec(i)&&(i=W1(i)),$1.exec(i)){const o=i.length-1;let a;o<=4?a=1:a=2;const l=o===4||o===8;e=parseInt(i.substr(1+0*a,a),16),t=parseInt(i.substr(1+1*a,a),16),n=parseInt(i.substr(1+2*a,a),16),l?s=parseInt(i.substr(1+3*a,a),16):s=255,a==1&&(e=(e<<4)+e,t=(t<<4)+t,n=(n<<4)+n,l&&(s=(s<<4)+s)),r=[e,t,n,s/255]}else i.startsWith("rgba(")?(r=i.slice(5,-1).split(",").map(Number),tp(r)):i.startsWith("rgb(")?(r=i.slice(4,-1).split(",").map(Number),r.push(1),tp(r)):$e(!1,14);return r}function tp(i){return i[0]=Dt(i[0]+.5|0,0,255),i[1]=Dt(i[1]+.5|0,0,255),i[2]=Dt(i[2]+.5|0,0,255),i[3]=Dt(i[3],0,1),i}function $_(i){let e=i[0];e!=(e|0)&&(e=e+.5|0);let t=i[1];t!=(t|0)&&(t=t+.5|0);let n=i[2];n!=(n|0)&&(n=n+.5|0);const s=i[3]===void 0?1:Math.round(i[3]*100)/100;return"rgba("+e+","+t+","+n+","+s+")"}function cn(i){return Array.isArray(i)?$_(i):i}function Ht(i,e,t,n){let s;return t&&t.length?s=t.shift():dd?s=new OffscreenCanvas(i||300,e||300):s=document.createElement("canvas"),i&&(s.width=i),e&&(s.height=e),s.getContext("2d",n)}function Oa(i){const e=i.canvas;e.width=1,e.height=1,i.clearRect(0,0,1,1)}function H1(i){let e=i.offsetWidth;const t=getComputedStyle(i);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function Y1(i){let e=i.offsetHeight;const t=getComputedStyle(i);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function ip(i,e){const t=e.parentNode;t&&t.replaceChild(i,e)}function Xl(i){return i&&i.parentNode?i.parentNode.removeChild(i):null}function V_(i){for(;i.lastChild;)i.removeChild(i.lastChild)}function U1(i,e){const t=i.childNodes;for(let n=0;;++n){const s=t[n],r=e[n];if(!s&&!r)break;if(s!==r){if(!s){i.appendChild(r);continue}if(!r){i.removeChild(s),--n;continue}i.insertBefore(r,s)}}}const ll="ol-hidden",X1="ol-selectable",jc="ol-unselectable",Gd="ol-control",np="ol-collapsed",K1=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),sp=["style","variant","weight","size","lineHeight","family"],W_=function(i){const e=i.match(K1);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let n=0,s=sp.length;n<s;++n){const r=e[n+1];r!==void 0&&(t[sp[n]]=r)}return t.families=t.family.split(/,\s?/),t},B_="10px sans-serif",Dn="#000",Kl="round",ua=[],ha=0,to="round",da=10,fa="#000",ga="center",ql="middle",Xs=[0,0,0,0],pa=1,Tn=new Mi;let Ar=null,bh;const Sh={},q1=function(){const e="32px ",t=["monospace","serif"],n=t.length,s="wmytzilWMYTZIL@#/&?$%10";let r,o;function a(u,h,f){let m=!0;for(let y=0;y<n;++y){const v=t[y];if(o=Zl(u+" "+h+" "+e+v,s),f!=v){const E=Zl(u+" "+h+" "+e+f+","+v,s);m=m&&E!=o}}return!!m}function l(){let u=!0;const h=Tn.getKeys();for(let f=0,m=h.length;f<m;++f){const y=h[f];Tn.get(y)<100&&(a.apply(this,y.split(`
`))?(Sa(Sh),Ar=null,bh=void 0,Tn.set(y,100)):(Tn.set(y,Tn.get(y)+1,!0),u=!1))}u&&(clearInterval(r),r=void 0)}return function(u){const h=W_(u);if(!h)return;const f=h.families;for(let m=0,y=f.length;m<y;++m){const v=f[m],E=h.style+`
`+h.weight+`
`+v;Tn.get(E)===void 0&&(Tn.set(E,100,!0),a(h.style,h.weight,v)||(Tn.set(E,0,!0),r===void 0&&(r=setInterval(l,32))))}}}(),Z1=function(){let i;return function(e){let t=Sh[e];if(t==null){if(dd){const n=W_(e),s=z_(e,"Žg");t=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(s.actualBoundingBoxAscent+s.actualBoundingBoxDescent)}else i||(i=document.createElement("div"),i.innerHTML="M",i.style.minHeight="0",i.style.maxHeight="none",i.style.height="auto",i.style.padding="0",i.style.border="none",i.style.position="absolute",i.style.display="block",i.style.left="-99999px"),i.style.font=e,document.body.appendChild(i),t=i.offsetHeight,document.body.removeChild(i);Sh[e]=t}return t}}();function z_(i,e){return Ar||(Ar=Ht(1,1)),i!=bh&&(Ar.font=i,bh=Ar.font),Ar.measureText(e)}function Zl(i,e){return z_(i,e).width}function rp(i,e,t){if(e in t)return t[e];const n=e.split(`
`).reduce((s,r)=>Math.max(s,Zl(i,r)),0);return t[e]=n,n}function J1(i,e){const t=[],n=[],s=[];let r=0,o=0,a=0,l=0;for(let u=0,h=e.length;u<=h;u+=2){const f=e[u];if(f===`
`||u===h){r=Math.max(r,o),s.push(o),o=0,a+=l;continue}const m=e[u+1]||i.font,y=Zl(m,f);t.push(y),o+=y;const v=Z1(m);n.push(v),l=Math.max(l,v)}return{width:r,height:a,widths:t,heights:n,lineWidths:s}}function Q1(i,e,t,n,s,r,o,a,l,u,h){i.save(),t!==1&&(i.globalAlpha*=t),e&&i.setTransform.apply(i,e),n.contextInstructions?(i.translate(l,u),i.scale(h[0],h[1]),eT(n,i)):h[0]<0||h[1]<0?(i.translate(l,u),i.scale(h[0],h[1]),i.drawImage(n,s,r,o,a,0,0,o,a)):i.drawImage(n,s,r,o,a,l,u,o*h[0],a*h[1]),i.restore()}function eT(i,e){const t=i.contextInstructions;for(let n=0,s=t.length;n<s;n+=2)Array.isArray(t[n+1])?e[t[n]].apply(e,t[n+1]):e[t[n]]=t[n+1]}class jd extends G_{constructor(e){const t=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:t,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),t=new jd({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_;if(!e)return null;const t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let t=this.canvas_[e];if(!t){const n=this.renderOptions_,s=Ht(n.size*e,n.size*e);this.draw_(n,s,e),t=s.canvas,this.canvas_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return ze.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,n){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let s=this.radius_,r=this.radius2_===void 0?s:this.radius2_;if(s<r){const p=s;s=r,r=p}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=r*Math.sin(a),u=Math.sqrt(r*r-l*l),h=s-u,f=Math.sqrt(l*l+h*h),m=f/l;if(e==="miter"&&m<=n)return m*t;const y=t/2/m,v=t/2*(h/f),b=Math.sqrt((s+y)*(s+y)+v*v)-s;if(this.radius2_===void 0||e==="bevel")return b*2;const S=s*Math.sin(a),A=Math.sqrt(s*s-S*S),R=r-A,D=Math.sqrt(S*S+R*R)/S;if(D<=n){const p=D*t/2-r-s;return 2*Math.max(b,p)}return b*2}createRenderOptions(){let e=to,t=0,n=null,s=0,r,o=0;this.stroke_&&(r=this.stroke_.getColor(),r===null&&(r=fa),r=cn(r),o=this.stroke_.getWidth(),o===void 0&&(o=pa),n=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=to),t=this.stroke_.getMiterLimit(),t===void 0&&(t=da));const a=this.calculateLineJoinSize_(e,o,t),l=Math.max(this.radius_,this.radius2_||0),u=Math.ceil(2*l+a);return{strokeStyle:r,strokeWidth:o,size:u,lineDash:n,lineDashOffset:s,lineJoin:e,miterLimit:t}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let s=this.fill_.getColor();s===null&&(s=Dn),t.fillStyle=cn(s),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let t=this.fill_.getColor(),n=0;if(typeof t=="string"&&(t=Ul(t)),t===null?n=1:Array.isArray(t)&&(n=t.length===4?t[3]:1),n===0){const s=Ht(e.size,e.size);this.hitDetectionCanvas_=s.canvas,this.drawHitDetectionCanvas_(e,s)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let t=this.points_;const n=this.radius_;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{const s=this.radius2_===void 0?n:this.radius2_;this.radius2_!==void 0&&(t*=2);const r=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let a=0;a<t;a++){const l=r+a*o,u=a%2===0?n:s;e.lineTo(u*Math.cos(l),u*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Dn,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}const H_=jd;class $d extends H_{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new $d({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}const Y_=$d;class $c{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=op,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new $c({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=op,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function tT(i){let e;if(typeof i=="function")e=i;else{let t;Array.isArray(i)?t=i:($e(typeof i.getZIndex=="function",41),t=[i]),e=function(){return t}}return e}let Au=null;function iT(i,e){if(!Au){const t=new zr({color:"rgba(255,255,255,0.4)"}),n=new ca({color:"#3399CC",width:1.25});Au=[new $c({image:new Y_({fill:t,stroke:n,radius:5}),fill:t,stroke:n})]}return Au}function op(i){return i.getGeometry()}const On=$c,nT="#333";class Vd{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Wt(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new zr({color:nT}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new Vd({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Wt(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const sT=Vd,lt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class rT extends Mi{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[lt.OPACITY]=e.opacity!==void 0?e.opacity:1,$e(typeof t[lt.OPACITY]=="number",64),t[lt.VISIBLE]=e.visible!==void 0?e.visible:!0,t[lt.Z_INDEX]=e.zIndex,t[lt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[lt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[lt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[lt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},n=this.getZIndex();return t.opacity=Dt(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=n===void 0&&!t.managed?1/0:n,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Le()}getLayerStatesArray(e){return Le()}getExtent(){return this.get(lt.EXTENT)}getMaxResolution(){return this.get(lt.MAX_RESOLUTION)}getMinResolution(){return this.get(lt.MIN_RESOLUTION)}getMinZoom(){return this.get(lt.MIN_ZOOM)}getMaxZoom(){return this.get(lt.MAX_ZOOM)}getOpacity(){return this.get(lt.OPACITY)}getSourceState(){return Le()}getVisible(){return this.get(lt.VISIBLE)}getZIndex(){return this.get(lt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(lt.EXTENT,e)}setMaxResolution(e){this.set(lt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(lt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(lt.MAX_ZOOM,e)}setMinZoom(e){this.set(lt.MIN_ZOOM,e)}setOpacity(e){$e(typeof e=="number",64),this.set(lt.OPACITY,e)}setVisible(e){this.set(lt.VISIBLE,e)}setZIndex(e){this.set(lt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const U_=rT;class oT extends U_{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(lt.SOURCE,this.handleSourcePropertyChange_);const n=e.source?e.source:null;this.setSource(n)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(lt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(pt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=qe(e,Me.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}render(e,t){const n=this.getRenderer();if(n.prepareFrame(e))return this.rendered=!0,n.renderFrame(e,t)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(lt.MAP,e)}getMapInternal(){return this.get(lt.MAP)}setMap(e){this.mapPrecomposeKey_&&(pt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(pt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=qe(e,ds.PRECOMPOSE,function(t){const s=t.frameState.layerStatesArray,r=this.getLayerState(!1);$e(!s.some(function(o){return o.layer===r.layer}),67),s.push(r)},this),this.mapRenderKey_=qe(this,Me.CHANGE,e.render,e),this.changed())}setSource(e){this.set(lt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Wd(i,e){if(!i.visible)return!1;const t=e.resolution;if(t<i.minResolution||t>=i.maxResolution)return!1;const n=e.zoom;return n>i.minZoom&&n<=i.maxZoom}const mo=oT;function aT(i,e,t,n,s){X_(i,e,t||0,n||i.length-1,s||lT)}function X_(i,e,t,n,s){for(;n>t;){if(n-t>600){var r=n-t+1,o=e-t+1,a=Math.log(r),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(r-l)/r)*(o-r/2<0?-1:1),h=Math.max(t,Math.floor(e-o*l/r+u)),f=Math.min(n,Math.floor(e+(r-o)*l/r+u));X_(i,e,h,f,s)}var m=i[e],y=t,v=n;for(Do(i,t,e),s(i[n],m)>0&&Do(i,t,n);y<v;){for(Do(i,y,v),y++,v--;s(i[y],m)<0;)y++;for(;s(i[v],m)>0;)v--}s(i[t],m)===0?Do(i,t,v):(v++,Do(i,v,n)),v<=e&&(t=v+1),e<=v&&(n=v-1)}}function Do(i,e,t){var n=i[e];i[e]=i[t],i[t]=n}function lT(i,e){return i<e?-1:i>e?1:0}let K_=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!ul(e,t))return n;const s=this.toBBox,r=[];for(;t;){for(let o=0;o<t.children.length;o++){const a=t.children[o],l=t.leaf?s(a):a;ul(e,l)&&(t.leaf?n.push(a):Lu(e,l)?this._all(a,n):r.push(a))}t=r.pop()}return n}collides(e){let t=this.data;if(!ul(e,t))return!1;const n=[];for(;t;){for(let s=0;s<t.children.length;s++){const r=t.children[s],o=t.leaf?this.toBBox(r):r;if(ul(e,o)){if(t.leaf||Lu(e,o))return!0;n.push(r)}}t=n.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let n=0;n<e.length;n++)this.insert(e[n]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const n=this.data;this.data=t,t=n}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Ir([]),this}remove(e,t){if(!e)return this;let n=this.data;const s=this.toBBox(e),r=[],o=[];let a,l,u;for(;n||r.length;){if(n||(n=r.pop(),l=r[r.length-1],a=o.pop(),u=!0),n.leaf){const h=cT(e,n.children,t);if(h!==-1)return n.children.splice(h,1),r.push(n),this._condense(r),this}!u&&!n.leaf&&Lu(n,s)?(r.push(n),o.push(a),a=0,l=n,n=n.children[0]):l?(a++,n=l.children[a],u=!1):n=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,s){const r=n-t+1;let o=this._maxEntries,a;if(r<=o)return a=Ir(e.slice(t,n+1)),vr(a,this.toBBox),a;s||(s=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,s-1))),a=Ir([]),a.leaf=!1,a.height=s;const l=Math.ceil(r/o),u=l*Math.ceil(Math.sqrt(o));ap(e,t,n,u,this.compareMinX);for(let h=t;h<=n;h+=u){const f=Math.min(h+u-1,n);ap(e,h,f,l,this.compareMinY);for(let m=h;m<=f;m+=l){const y=Math.min(m+l-1,f);a.children.push(this._build(e,m,y,s-1))}}return vr(a,this.toBBox),a}_chooseSubtree(e,t,n,s){for(;s.push(t),!(t.leaf||s.length-1===n);){let r=1/0,o=1/0,a;for(let l=0;l<t.children.length;l++){const u=t.children[l],h=Iu(u),f=dT(e,u)-h;f<o?(o=f,r=h<r?h:r,a=u):f===o&&h<r&&(r=h,a=u)}t=a||t.children[0]}return t}_insert(e,t,n){const s=n?e:this.toBBox(e),r=[],o=this._chooseSubtree(s,this.data,t,r);for(o.children.push(e),Wo(o,s);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(s,r,t)}_split(e,t){const n=e[t],s=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,s);const o=this._chooseSplitIndex(n,r,s),a=Ir(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,vr(n,this.toBBox),vr(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,t){this.data=Ir([e,t]),this.data.height=e.height+1,this.data.leaf=!1,vr(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let s,r=1/0,o=1/0;for(let a=t;a<=n-t;a++){const l=Vo(e,0,a,this.toBBox),u=Vo(e,a,n,this.toBBox),h=fT(l,u),f=Iu(l)+Iu(u);h<r?(r=h,s=a,o=f<o?f:o):h===r&&f<o&&(o=f,s=a)}return s||n-t}_chooseSplitAxis(e,t,n){const s=e.leaf?this.compareMinX:uT,r=e.leaf?this.compareMinY:hT,o=this._allDistMargin(e,t,n,s),a=this._allDistMargin(e,t,n,r);o<a&&e.children.sort(s)}_allDistMargin(e,t,n,s){e.children.sort(s);const r=this.toBBox,o=Vo(e,0,t,r),a=Vo(e,n-t,n,r);let l=cl(o)+cl(a);for(let u=t;u<n-t;u++){const h=e.children[u];Wo(o,e.leaf?r(h):h),l+=cl(o)}for(let u=n-t-1;u>=t;u--){const h=e.children[u];Wo(a,e.leaf?r(h):h),l+=cl(a)}return l}_adjustParentBBoxes(e,t,n){for(let s=n;s>=0;s--)Wo(t[s],e)}_condense(e){for(let t=e.length-1,n;t>=0;t--)e[t].children.length===0?t>0?(n=e[t-1].children,n.splice(n.indexOf(e[t]),1)):this.clear():vr(e[t],this.toBBox)}};function cT(i,e,t){if(!t)return e.indexOf(i);for(let n=0;n<e.length;n++)if(t(i,e[n]))return n;return-1}function vr(i,e){Vo(i,0,i.children.length,e,i)}function Vo(i,e,t,n,s){s||(s=Ir(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let r=e;r<t;r++){const o=i.children[r];Wo(s,i.leaf?n(o):o)}return s}function Wo(i,e){return i.minX=Math.min(i.minX,e.minX),i.minY=Math.min(i.minY,e.minY),i.maxX=Math.max(i.maxX,e.maxX),i.maxY=Math.max(i.maxY,e.maxY),i}function uT(i,e){return i.minX-e.minX}function hT(i,e){return i.minY-e.minY}function Iu(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function cl(i){return i.maxX-i.minX+(i.maxY-i.minY)}function dT(i,e){return(Math.max(e.maxX,i.maxX)-Math.min(e.minX,i.minX))*(Math.max(e.maxY,i.maxY)-Math.min(e.minY,i.minY))}function fT(i,e){const t=Math.max(i.minX,e.minX),n=Math.max(i.minY,e.minY),s=Math.min(i.maxX,e.maxX),r=Math.min(i.maxY,e.maxY);return Math.max(0,s-t)*Math.max(0,r-n)}function Lu(i,e){return i.minX<=e.minX&&i.minY<=e.minY&&e.maxX<=i.maxX&&e.maxY<=i.maxY}function ul(i,e){return e.minX<=i.maxX&&e.minY<=i.maxY&&e.maxX>=i.minX&&e.maxY>=i.minY}function Ir(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ap(i,e,t,n,s){const r=[e,t];for(;r.length;){if(t=r.pop(),e=r.pop(),t-e<=n)continue;const o=e+Math.ceil((t-e)/n/2)*n;aT(i,o,e,t,s),r.push(e,o,o,t)}}class gT{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const n=this.cache_[t];!(e++&3)&&!n.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,n){const s=lp(e,t,n);return s in this.cache_?this.cache_[s]:null}set(e,t,n,s){const r=lp(e,t,n);this.cache_[r]=s,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function lp(i,e,t){const n=t?j_(t):"null";return e+":"+i+":"+n}const Jl=new gT;class pT extends Ra{constructor(e,t,n,s){super(),this.extent=e,this.pixelRatio_=n,this.resolution=t,this.state=s}changed(){this.dispatchEvent(Me.CHANGE)}getExtent(){return this.extent}getImage(){return Le()}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){Le()}}const q_=pT;class Z_ extends q_{constructor(e,t,n,s,r,o){super(e,t,n,ze.IDLE),this.src_=s,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.state=ze.IDLE,this.imageLoadFunction_=o}getImage(){return this.image_}handleImageError_(){this.state=ze.ERROR,this.unlistenImage_(),this.changed()}handleImageLoad_(){this.resolution===void 0&&(this.resolution=Ot(this.extent)/this.image_.height),this.state=ze.LOADED,this.unlistenImage_(),this.changed()}load(){(this.state==ze.IDLE||this.state==ze.ERROR)&&(this.state=ze.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Bd(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}setImage(e){this.image_=e,this.resolution=Ot(this.extent)/this.image_.height}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function Bd(i,e,t){const n=i;let s=!0,r=!1,o=!1;const a=[$l(n,Me.LOAD,function(){o=!0,r||e()})];return n.src&&zx?(r=!0,n.decode().then(function(){s&&e()}).catch(function(l){s&&(o?e():t())})):a.push($l(n,Me.ERROR,t)),function(){s=!1,a.forEach(pt)}}let Fo=null;class mT extends Ra{constructor(e,t,n,s,r,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=s,this.canvas_={},this.color_=o,this.unlisten_=null,this.imageState_=r,this.size_=n,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===ze.LOADED){Fo||(Fo=Ht(1,1,void 0,{willReadFrequently:!0})),Fo.drawImage(this.image_,0,0);try{Fo.getImageData(0,0,1,1),this.tainted_=!1}catch{Fo=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Me.CHANGE)}handleImageError_(){this.imageState_=ze.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=ze.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],n=Ht(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===ze.IDLE){this.image_||this.initializeImage_(),this.imageState_=ze.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Bd(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==ze.LOADED)return;const t=this.image_,n=document.createElement("canvas");n.width=Math.ceil(t.width*e),n.height=Math.ceil(t.height*e);const s=n.getContext("2d");s.scale(e,e),s.drawImage(t,0,0),s.globalCompositeOperation="multiply",s.fillStyle=j_(this.color_),s.fillRect(0,0,n.width/e,n.height/e),s.globalCompositeOperation="destination-in",s.drawImage(t,0,0),this.canvas_[e]=n}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function _T(i,e,t,n,s,r){let o=Jl.get(e,n,r);return o||(o=new mT(i,e,t,n,s,r),Jl.set(e,n,r,o)),o}class zd extends G_{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,n=e.rotation!==void 0?e.rotation:0,s=e.scale!==void 0?e.scale:1,r=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:n,scale:s,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:r,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;this.imgSize_=e.imgSize;let a=e.src;$e(!(a!==void 0&&o),4),$e(!o||o&&this.imgSize_,5),(a===void 0||a.length===0)&&o&&(a=o.src||je(o)),$e(a!==void 0&&a.length>0,6),$e(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),69);const l=e.src!==void 0?ze.IDLE:ze.LOADED;if(this.color_=e.color!==void 0?Ul(e.color):null,this.iconImage_=_T(o,a,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.width_=e.width,this.height_=e.height,this.width_!==void 0||this.height_!==void 0){const u=this.getImage(1),h=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};u.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):u.addEventListener("load",h)}}clone(){const e=this.getScale();return new zd({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(e,t){const n=this.getImage(1);e!==void 0&&t!==void 0?super.setScale([e/n.width,t/n.height]):e!==void 0?super.setScale([e/n.width,e/n.width]):t!==void 0?super.setScale([t/n.height,t/n.height]):super.setScale([1,1])}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=s[0]),this.anchorYUnits_=="fraction"&&(e[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+s[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+s[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),n=this.getScaleArray();return[e[0]-t[0]/n[0],e[1]+t[1]/n[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=n[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}setHeight(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}setScale(e){super.setScale(e);const t=this.getImage(1);if(t){const n=Array.isArray(e)?e[0]:e;n!==void 0&&(this.width_=n*t.width);const s=Array.isArray(e)?e[1]:e;s!==void 0&&(this.height_=s*t.height)}}listenImageChange(e){this.iconImage_.addEventListener(Me.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Me.CHANGE,e)}}const ma=zd;function cp(i){return new On({fill:_a(i,""),stroke:ya(i,""),text:yT(i),image:vT(i)})}function _a(i,e){const t=i[e+"fill-color"];if(t)return new zr({color:t})}function ya(i,e){const t=i[e+"stroke-width"],n=i[e+"stroke-color"];if(!(!t&&!n))return new ca({width:t,color:n,lineCap:i[e+"stroke-line-cap"],lineJoin:i[e+"stroke-line-join"],lineDash:i[e+"stroke-line-dash"],lineDashOffset:i[e+"stroke-line-dash-offset"],miterLimit:i[e+"stroke-miter-limit"]})}function yT(i){const e=i["text-value"];return e?new sT({text:e,font:i["text-font"],maxAngle:i["text-max-angle"],offsetX:i["text-offset-x"],offsetY:i["text-offset-y"],overflow:i["text-overflow"],placement:i["text-placement"],scale:i["text-scale"],rotateWithView:i["text-rotate-with-view"],rotation:i["text-rotation"],textAlign:i["text-align"],justify:i["text-justify"],textBaseline:i["text-baseline"],padding:i["text-padding"],fill:_a(i,"text-"),backgroundFill:_a(i,"text-background-"),stroke:ya(i,"text-"),backgroundStroke:ya(i,"text-background-")}):void 0}function vT(i){const e=i["icon-src"],t=i["icon-img"];if(e||t)return new ma({src:e,img:t,imgSize:i["icon-img-size"],anchor:i["icon-anchor"],anchorOrigin:i["icon-anchor-origin"],anchorXUnits:i["icon-anchor-x-units"],anchorYUnits:i["icon-anchor-y-units"],color:i["icon-color"],crossOrigin:i["icon-cross-origin"],offset:i["icon-offset"],displacement:i["icon-displacement"],opacity:i["icon-opacity"],scale:i["icon-scale"],rotation:i["icon-rotation"],rotateWithView:i["icon-rotate-with-view"],size:i["icon-size"],declutterMode:i["icon-declutter-mode"]});const n=i["shape-points"];if(n){const r="shape-";return new H_({points:n,fill:_a(i,r),stroke:ya(i,r),radius:i["shape-radius"],radius1:i["shape-radius1"],radius2:i["shape-radius2"],angle:i["shape-angle"],displacement:i["shape-displacement"],rotation:i["shape-rotation"],rotateWithView:i["shape-rotate-with-view"],scale:i["shape-scale"],declutterMode:i["shape-declutter-mode"]})}const s=i["circle-radius"];if(s){const r="circle-";return new Y_({radius:s,fill:_a(i,r),stroke:ya(i,r),displacement:i["circle-displacement"],scale:i["circle-scale"],rotation:i["circle-rotation"],rotateWithView:i["circle-rotate-with-view"],declutterMode:i["circle-declutter-mode"]})}}const up={RENDER_ORDER:"renderOrder"};class CT extends mo{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter!==void 0?e.declutter:!1,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(up.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new K_(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(up.RENDER_ORDER,e)}setStyle(e){let t;if(e===void 0)t=iT;else if(e===null)t=null;else if(typeof e=="function")t=e;else if(e instanceof On)t=e;else if(Array.isArray(e)){const n=e.length,s=new Array(n);for(let r=0;r<n;++r){const o=e[r];o instanceof On?s[r]=o:s[r]=cp(o)}t=s}else t=cp(e);this.style_=t,this.styleFunction_=e===null?void 0:tT(this.style_),this.changed()}}const J_=CT,Pa={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},hl=[Pa.FILL],as=[Pa.STROKE],Ks=[Pa.BEGIN_PATH],hp=[Pa.CLOSE_PATH],Oe=Pa;class ET{drawCustom(e,t,n,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}const Q_=ET;class xT extends Q_{constructor(e,t,n,s){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(n){return n*t})}appendFlatPointCoordinates(e,t){const n=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,r=this.coordinates;let o=r.length;for(let a=0,l=e.length;a<l;a+=t)s[0]=e[a],s[1]=e[a+1],Aa(n,s)&&(r[o++]=s[0],r[o++]=s[1]);return o}appendFlatLineCoordinates(e,t,n,s,r,o){const a=this.coordinates;let l=a.length;const u=this.getBufferedMaxExtent();o&&(t+=s);let h=e[t],f=e[t+1];const m=this.tmpCoordinate_;let y=!0,v,E,b;for(v=t+s;v<n;v+=s)m[0]=e[v],m[1]=e[v+1],b=mh(u,m),b!==E?(y&&(a[l++]=h,a[l++]=f,y=!1),a[l++]=m[0],a[l++]=m[1]):b===Vt.INTERSECTING?(a[l++]=m[0],a[l++]=m[1],y=!1):y=!0,h=m[0],f=m[1],E=b;return(r&&y||v===t+s)&&(a[l++]=h,a[l++]=f),l}drawCustomCoordinates_(e,t,n,s,r){for(let o=0,a=n.length;o<a;++o){const l=n[o],u=this.appendFlatLineCoordinates(e,t,l,s,!1,!1);r.push(u),t=l}return t}drawCustom(e,t,n,s){this.beginGeometry(e,t);const r=e.getType(),o=e.getStride(),a=this.coordinates.length;let l,u,h,f,m;switch(r){case"MultiPolygon":l=e.getOrientedFlatCoordinates(),f=[];const y=e.getEndss();m=0;for(let v=0,E=y.length;v<E;++v){const b=[];m=this.drawCustomCoordinates_(l,m,y[v],o,b),f.push(b)}this.instructions.push([Oe.CUSTOM,a,f,e,n,Th]),this.hitDetectionInstructions.push([Oe.CUSTOM,a,f,e,s||n,Th]);break;case"Polygon":case"MultiLineString":h=[],l=r=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),m=this.drawCustomCoordinates_(l,0,e.getEnds(),o,h),this.instructions.push([Oe.CUSTOM,a,h,e,n,la]),this.hitDetectionInstructions.push([Oe.CUSTOM,a,h,e,s||n,la]);break;case"LineString":case"Circle":l=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(l,0,l.length,o,!1,!1),this.instructions.push([Oe.CUSTOM,a,u,e,n,os]),this.hitDetectionInstructions.push([Oe.CUSTOM,a,u,e,s||n,os]);break;case"MultiPoint":l=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(l,o),u>a&&(this.instructions.push([Oe.CUSTOM,a,u,e,n,os]),this.hitDetectionInstructions.push([Oe.CUSTOM,a,u,e,s||n,os]));break;case"Point":l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),u=this.coordinates.length,this.instructions.push([Oe.CUSTOM,a,u,e,n]),this.hitDetectionInstructions.push([Oe.CUSTOM,a,u,e,s||n]);break}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[Oe.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Oe.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const n=e.length;let s,r,o=-1;for(t=0;t<n;++t)s=e[t],r=s[0],r==Oe.END_GEOMETRY?o=t:r==Oe.BEGIN_GEOMETRY&&(s[2]=t,Px(this.hitDetectionInstructions,o,t),o=-1)}setFillStrokeStyle(e,t){const n=this.state;if(e){const s=e.getColor();n.fillStyle=cn(s||Dn)}else n.fillStyle=void 0;if(t){const s=t.getColor();n.strokeStyle=cn(s||fa);const r=t.getLineCap();n.lineCap=r!==void 0?r:Kl;const o=t.getLineDash();n.lineDash=o?o.slice():ua;const a=t.getLineDashOffset();n.lineDashOffset=a||ha;const l=t.getLineJoin();n.lineJoin=l!==void 0?l:to;const u=t.getWidth();n.lineWidth=u!==void 0?u:pa;const h=t.getMiterLimit();n.miterLimit=h!==void 0?h:da,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(e){const t=e.fillStyle,n=[Oe.SET_FILL_STYLE,t];return typeof t!="string"&&n.push(!0),n}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Oe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const n=e.fillStyle;(typeof n!="string"||e.currentFillStyle!=n)&&(n!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}updateStrokeStyle(e,t){const n=e.strokeStyle,s=e.lineCap,r=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=s||r!=e.currentLineDash&&!xs(e.currentLineDash,r)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=u)&&(n!==void 0&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=s,e.currentLineDash=r,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=u)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[Oe.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=C_(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;qi(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}const Ma=xT;class TT extends Ma{constructor(e,t,n,s){super(e,t,n,s),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const n=e.getFlatCoordinates(),s=e.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,s);this.instructions.push([Oe.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Oe.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const n=e.getFlatCoordinates(),s=e.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,s);this.instructions.push([Oe.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Oe.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const n=e.getAnchor(),s=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=s[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=s[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const wT=TT;class bT extends Ma{constructor(e,t,n,s){super(e,t,n,s)}drawFlatCoordinates_(e,t,n,s){const r=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,n,s,!1,!1),a=[Oe.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n}drawLineString(e,t){const n=this.state,s=n.strokeStyle,r=n.lineWidth;if(s===void 0||r===void 0)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,ua,ha],Ks);const o=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(as),this.endGeometry(t)}drawMultiLineString(e,t){const n=this.state,s=n.strokeStyle,r=n.lineWidth;if(s===void 0||r===void 0)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Ks);const o=e.getEnds(),a=e.getFlatCoordinates(),l=e.getStride();let u=0;for(let h=0,f=o.length;h<f;++h)u=this.drawFlatCoordinates_(a,u,o[h],l);this.hitDetectionInstructions.push(as),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(as),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(as),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Ks)}}const ST=bT;class RT extends Ma{constructor(e,t,n,s){super(e,t,n,s)}drawFlatCoordinatess_(e,t,n,s){const r=this.state,o=r.fillStyle!==void 0,a=r.strokeStyle!==void 0,l=n.length;this.instructions.push(Ks),this.hitDetectionInstructions.push(Ks);for(let u=0;u<l;++u){const h=n[u],f=this.coordinates.length,m=this.appendFlatLineCoordinates(e,t,h,s,!0,!a),y=[Oe.MOVE_TO_LINE_TO,f,m];this.instructions.push(y),this.hitDetectionInstructions.push(y),a&&(this.instructions.push(hp),this.hitDetectionInstructions.push(hp)),t=h}return o&&(this.instructions.push(hl),this.hitDetectionInstructions.push(hl)),a&&(this.instructions.push(as),this.hitDetectionInstructions.push(as)),t}drawCircle(e,t){const n=this.state,s=n.fillStyle,r=n.strokeStyle;if(s===void 0&&r===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_FILL_STYLE,Dn]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const o=e.getFlatCoordinates(),a=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);const u=[Oe.CIRCLE,l];this.instructions.push(Ks,u),this.hitDetectionInstructions.push(Ks,u),n.fillStyle!==void 0&&(this.instructions.push(hl),this.hitDetectionInstructions.push(hl)),n.strokeStyle!==void 0&&(this.instructions.push(as),this.hitDetectionInstructions.push(as)),this.endGeometry(t)}drawPolygon(e,t){const n=this.state,s=n.fillStyle,r=n.strokeStyle;if(s===void 0&&r===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_FILL_STYLE,Dn]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const o=e.getEnds(),a=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(a,0,o,l),this.endGeometry(t)}drawMultiPolygon(e,t){const n=this.state,s=n.fillStyle,r=n.strokeStyle;if(s===void 0&&r===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_FILL_STYLE,Dn]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const o=e.getEndss(),a=e.getOrientedFlatCoordinates(),l=e.getStride();let u=0;for(let h=0,f=o.length;h<f;++h)u=this.drawFlatCoordinatess_(a,u,o[h],l);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let n=0,s=t.length;n<s;++n)t[n]=Ws(t[n],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}const dp=RT;function AT(i,e,t,n,s){let r=t,o=t,a=0,l=0,u=t,h,f,m,y,v,E,b,S,A,R;for(f=t;f<n;f+=s){const I=e[f],D=e[f+1];v!==void 0&&(A=I-v,R=D-E,y=Math.sqrt(A*A+R*R),b!==void 0&&(l+=m,h=Math.acos((b*A+S*R)/(m*y)),h>i&&(l>a&&(a=l,r=u,o=f),l=0,u=f-s)),m=y,b=A,S=R),v=I,E=D}return l+=y,l>a?[u,f]:[r,o]}const Uo={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class IT extends Ma{constructor(e,t,n,s){super(e,t,n,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const n=this.textFillState_,s=this.textStrokeState_,r=this.textState_;if(this.text_===""||!r||!n&&!s)return;const o=this.coordinates;let a=o.length;const l=e.getType();let u=null,h=e.getStride();if(r.placement==="line"&&(l=="LineString"||l=="MultiLineString"||l=="Polygon"||l=="MultiPolygon")){if(!St(this.getBufferedMaxExtent(),e.getExtent()))return;let f;if(u=e.getFlatCoordinates(),l=="LineString")f=[u.length];else if(l=="MultiLineString")f=e.getEnds();else if(l=="Polygon")f=e.getEnds().slice(0,1);else if(l=="MultiPolygon"){const E=e.getEndss();f=[];for(let b=0,S=E.length;b<S;++b)f.push(E[b][0])}this.beginGeometry(e,t);const m=r.textAlign;let y=0,v;for(let E=0,b=f.length;E<b;++E){if(m==null){const A=AT(r.maxAngle,u,y,f[E],h);y=A[0],v=A[1]}else v=f[E];for(let A=y;A<v;A+=h)o.push(u[A],u[A+1]);const S=o.length;y=f[E],this.drawChars_(a,S),a=S}this.endGeometry(t)}else{let f=r.overflow?null:[];switch(l){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),h=2;break;case"Polygon":u=e.getFlatInteriorPoint(),r.overflow||f.push(u[2]/this.resolution),h=3;break;case"MultiPolygon":const b=e.getFlatInteriorPoints();u=[];for(let S=0,A=b.length;S<A;S+=3)r.overflow||f.push(b[S+2]/this.resolution),u.push(b[S],b[S+1]);if(u.length===0)return;h=2;break}const m=this.appendFlatPointCoordinates(u,h);if(m===a)return;if(f&&(m-a)/2!==u.length/h){let b=a/2;f=f.filter((S,A)=>{const R=o[(b+A)*2]===u[A*h]&&o[(b+A)*2+1]===u[A*h+1];return R||--b,R})}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let y=r.padding;if(y!=Xs&&(r.scale[0]<0||r.scale[1]<0)){let b=r.padding[0],S=r.padding[1],A=r.padding[2],R=r.padding[3];r.scale[0]<0&&(S=-S,R=-R),r.scale[1]<0&&(b=-b,A=-A),y=[b,S,A,R]}const v=this.pixelRatio;this.instructions.push([Oe.DRAW_IMAGE,a,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,y==Xs?Xs:y.map(function(b){return b*v}),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const E=1/v;this.hitDetectionInstructions.push([Oe.DRAW_IMAGE,a,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[E,E],NaN,void 0,this.declutterImageWithText_,y,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,s=this.strokeKey_;e&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:t.font,textAlign:t.textAlign||ga,justify:t.justify,textBaseline:t.textBaseline||ql,scale:t.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(e,t){const n=this.textStrokeState_,s=this.textState_,r=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,u=Uo[s.textBaseline],h=this.textOffsetY_*l,f=this.text_,m=n?n.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([Oe.DRAW_CHARS,e,t,u,s.overflow,a,s.maxAngle,l,h,r,m*l,f,o,1]),this.hitDetectionInstructions.push([Oe.DRAW_CHARS,e,t,u,s.overflow,a,s.maxAngle,1,h,r,m,f,o,1/l])}setTextStyle(e,t){let n,s,r;if(!e)this.text_="";else{const o=e.getFill();o?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=cn(o.getColor()||Dn)):(s=null,this.textFillState_=s);const a=e.getStroke();if(!a)r=null,this.textStrokeState_=r;else{r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const v=a.getLineDash(),E=a.getLineDashOffset(),b=a.getWidth(),S=a.getMiterLimit();r.lineCap=a.getLineCap()||Kl,r.lineDash=v?v.slice():ua,r.lineDashOffset=E===void 0?ha:E,r.lineJoin=a.getLineJoin()||to,r.lineWidth=b===void 0?pa:b,r.miterLimit=S===void 0?da:S,r.strokeStyle=cn(a.getColor()||fa)}n=this.textState_;const l=e.getFont()||B_;q1(l);const u=e.getScaleArray();n.overflow=e.getOverflow(),n.font=l,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||ql,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||Xs,n.scale=u===void 0?[1,1]:u;const h=e.getOffsetX(),f=e.getOffsetY(),m=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=h===void 0?0:h,this.textOffsetY_=f===void 0?0:f,this.textRotateWithView_=m===void 0?!1:m,this.textRotation_=y===void 0?0:y,this.strokeKey_=r?(typeof r.strokeStyle=="string"?r.strokeStyle:je(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=s?typeof s.fillStyle=="string"?s.fillStyle:"|"+je(s.fillStyle):""}this.declutterImageWithText_=t}}const LT={Circle:dp,Default:Ma,Image:wT,LineString:ST,Polygon:dp,Text:IT};class OT{constructor(e,t,n,s){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=s,this.resolution_=n,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const n=this.buildersByZIndex_[t];for(const s in n){const r=n[s].finish();e[t][s]=r}}return e}getBuilder(e,t){const n=e!==void 0?e.toString():"0";let s=this.buildersByZIndex_[n];s===void 0&&(s={},this.buildersByZIndex_[n]=s);let r=s[t];if(r===void 0){const o=LT[t];r=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[t]=r}return r}}const Ql=OT;class PT extends __{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return Le()}getData(e){return null}prepareFrame(e){return Le()}renderFrame(e,t){return Le()}loadedTileCallback(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n}createLoadedTileFinder(e,t,n){return(s,r)=>{const o=this.loadedTileCallback.bind(this,n,s);return e.forEachLoadedTile(t,s,r,o)}}forEachFeatureAtCoordinate(e,t,n,s,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){e.target.getState()===ze.LOADED&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=ze.LOADED&&t!=ze.ERROR&&e.addEventListener(Me.CHANGE,this.boundHandleImageChange_),t==ze.IDLE&&(e.load(),t=e.getState()),t==ze.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const MT=PT;class DT extends gn{constructor(e,t,n,s){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=s}}const ey=DT,fp=[];let Lr=null;function FT(){Lr=Ht(1,1,void 0,{willReadFrequently:!0})}class NT extends MT{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Ei(),this.pixelTransform=Ei(),this.inversePixelTransform=Ei(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,n){Lr||FT(),Lr.clearRect(0,0,1,1);let s;try{Lr.drawImage(e,t,n,1,1,0,0,1,1),s=Lr.getImageData(0,0,1,1).data}catch{return Lr=null,null}return s}getBackground(e){let n=this.getLayer().getBackground();return typeof n=="function"&&(n=n(e.viewState.resolution)),n||void 0}useContainer(e,t,n){const s=this.getLayer().getClassName();let r,o;if(e&&e.className===s&&(!n||e&&e.style.backgroundColor&&xs(Ul(e.style.backgroundColor),Ul(n)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){r=document.createElement("div"),r.className=s;let a=r.style;a.position="absolute",a.width="100%",a.height="100%",o=Ht();const l=o.canvas;r.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=r,this.context=o}!this.containerReused&&n&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const s=Ts(n),r=Dc(n),o=Mc(n),a=Pc(n);Mt(t.coordinateToPixelTransform,s),Mt(t.coordinateToPixelTransform,r),Mt(t.coordinateToPixelTransform,o),Mt(t.coordinateToPixelTransform,a);const l=this.inversePixelTransform;Mt(l,s),Mt(l,r),Mt(l,o),Mt(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}dispatchRenderEvent_(e,t,n){const s=this.getLayer();if(s.hasListener(e)){const r=new ey(e,this.inversePixelTransform,n,t);s.dispatchEvent(r)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(ds.PRERENDER,e,t)}postRender(e,t){this.dispatchRenderEvent_(ds.POSTRENDER,e,t)}getRenderTransform(e,t,n,s,r,o,a){const l=r/2,u=o/2,h=s/t,f=-h,m=-e[0]+a,y=-e[1];return Zi(this.tempTransform,l,u,h,f,-n,m,y)}disposeInternal(){delete this.frameState,super.disposeInternal()}}const Hd=NT;function kT(i,e,t,n,s,r,o,a,l,u,h,f){let m=i[e],y=i[e+1],v=0,E=0,b=0,S=0;function A(){v=m,E=y,e+=n,m=i[e],y=i[e+1],S+=b,b=Math.sqrt((m-v)*(m-v)+(y-E)*(y-E))}do A();while(e<t-n&&S+b<r);let R=b===0?0:(r-S)/b;const I=Rn(v,m,R),D=Rn(E,y,R),p=e-n,$=S,W=r+a*l(u,s,h);for(;e<t-n&&S+b<W;)A();R=b===0?0:(W-S)/b;const Z=Rn(v,m,R),ae=Rn(E,y,R);let he;if(f){const se=[I,D,Z,ae];Sd(se,0,4,2,f,se,se),he=se[0]>se[2]}else he=I>Z;const ue=Math.PI,ve=[],Ce=p+n===e;e=p,b=0,S=$,m=i[e],y=i[e+1];let le;if(Ce){A(),le=Math.atan2(y-E,m-v),he&&(le+=le>0?-ue:ue);const se=(Z+I)/2,X=(ae+D)/2;return ve[0]=[se,X,(W-r)/2,le,s],ve}s=s.replace(/\n/g," ");for(let se=0,X=s.length;se<X;){A();let ce=Math.atan2(y-E,m-v);if(he&&(ce+=ce>0?-ue:ue),le!==void 0){let ke=ce-le;if(ke+=ke>ue?-2*ue:ke<-ue?2*ue:0,Math.abs(ke)>o)return null}le=ce;const Pe=se;let Ve=0;for(;se<X;++se){const ke=he?X-se-1:se,Be=a*l(u,s[ke],h);if(e+n<t&&S+b<r+Ve+Be/2)break;Ve+=Be}if(se===Pe)continue;const We=he?s.substring(X-Pe,X-se):s.substring(Pe,se);R=b===0?0:(r+Ve/2-S)/b;const J=Rn(v,m,R),ct=Rn(E,y,R);ve.push([J,ct,Ve/2,ce,We]),r+=Ve}return ve}const Cr=si(),Kn=[],vn=[],Cn=[],qn=[];function gp(i){return i[3].declutterBox}const GT=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function pp(i,e){return(e==="start"||e==="end")&&!GT.test(i)&&(e=e==="start"?"left":"right"),Uo[e]}function jT(i,e,t){return t>0&&i.push(`
`,""),i.push(e,""),i}class $T{constructor(e,t,n,s){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=Ei(),this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,n,s){const r=e+t+n+s;if(this.labels_[r])return this.labels_[r];const o=s?this.strokeStates[s]:null,a=n?this.fillStates[n]:null,l=this.textStates[t],u=this.pixelRatio,h=[l.scale[0]*u,l.scale[1]*u],f=Array.isArray(e),m=l.justify?Uo[l.justify]:pp(Array.isArray(e)?e[0]:e,l.textAlign||ga),y=s&&o.lineWidth?o.lineWidth:0,v=f?e:e.split(`
`).reduce(jT,[]),{width:E,height:b,widths:S,heights:A,lineWidths:R}=J1(l,v),I=E+y,D=[],p=(I+2)*h[0],$=(b+y)*h[1],W={width:p<0?Math.floor(p):Math.ceil(p),height:$<0?Math.floor($):Math.ceil($),contextInstructions:D};(h[0]!=1||h[1]!=1)&&D.push("scale",h),s&&(D.push("strokeStyle",o.strokeStyle),D.push("lineWidth",y),D.push("lineCap",o.lineCap),D.push("lineJoin",o.lineJoin),D.push("miterLimit",o.miterLimit),D.push("setLineDash",[o.lineDash]),D.push("lineDashOffset",o.lineDashOffset)),n&&D.push("fillStyle",a.fillStyle),D.push("textBaseline","middle"),D.push("textAlign","center");const Z=.5-m;let ae=m*I+Z*y;const he=[],ue=[];let ve=0,Ce=0,le=0,se=0,X;for(let ce=0,Pe=v.length;ce<Pe;ce+=2){const Ve=v[ce];if(Ve===`
`){Ce+=ve,ve=0,ae=m*I+Z*y,++se;continue}const We=v[ce+1]||l.font;We!==X&&(s&&he.push("font",We),n&&ue.push("font",We),X=We),ve=Math.max(ve,A[le]);const J=[Ve,ae+Z*S[le]+m*(S[le]-R[se]),.5*(y+ve)+Ce];ae+=S[le],s&&he.push("strokeText",J),n&&ue.push("fillText",J),++le}return Array.prototype.push.apply(D,he),Array.prototype.push.apply(D,ue),this.labels_[r]=W,W}replayTextBackground_(e,t,n,s,r,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,s),e.lineTo.apply(e,r),e.lineTo.apply(e,t),o&&(this.alignFill_=o[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,n,s,r,o,a,l,u,h,f,m,y,v,E,b){a*=m[0],l*=m[1];let S=n-a,A=s-l;const R=r+u>e?e-u:r,I=o+h>t?t-h:o,D=v[3]+R*m[0]+v[1],p=v[0]+I*m[1]+v[2],$=S-v[3],W=A-v[0];(E||f!==0)&&(Kn[0]=$,qn[0]=$,Kn[1]=W,vn[1]=W,vn[0]=$+D,Cn[0]=vn[0],Cn[1]=W+p,qn[1]=Cn[1]);let Z;return f!==0?(Z=Zi(Ei(),n,s,1,1,f,-n,-s),Mt(Z,Kn),Mt(Z,vn),Mt(Z,Cn),Mt(Z,qn),Ji(Math.min(Kn[0],vn[0],Cn[0],qn[0]),Math.min(Kn[1],vn[1],Cn[1],qn[1]),Math.max(Kn[0],vn[0],Cn[0],qn[0]),Math.max(Kn[1],vn[1],Cn[1],qn[1]),Cr)):Ji(Math.min($,$+D),Math.min(W,W+p),Math.max($,$+D),Math.max(W,W+p),Cr),y&&(S=Math.round(S),A=Math.round(A)),{drawImageX:S,drawImageY:A,drawImageW:R,drawImageH:I,originX:u,originY:h,declutterBox:{minX:Cr[0],minY:Cr[1],maxX:Cr[2],maxY:Cr[3],value:b},canvasTransform:Z,scale:m}}replayImageOrLabel_(e,t,n,s,r,o,a){const l=!!(o||a),u=s.declutterBox,h=e.canvas,f=a?a[2]*s.scale[0]/2:0;return u.minX-f<=h.width/t&&u.maxX+f>=0&&u.minY-f<=h.height/t&&u.maxY+f>=0&&(l&&this.replayTextBackground_(e,Kn,vn,Cn,qn,o,a),Q1(e,s.canvasTransform,r,n,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(e){if(this.alignFill_){const t=Mt(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,n,s){const r=this.textStates[t],o=this.createLabel(e,t,s,n),a=this.strokeStates[n],l=this.pixelRatio,u=pp(Array.isArray(e)?e[0]:e,r.textAlign||ga),h=Uo[r.textBaseline||ql],f=a&&a.lineWidth?a.lineWidth:0,m=o.width/l-2*r.scale[0],y=u*m+2*(.5-u)*f,v=h*o.height/l+2*(.5-h)*f;return{label:o,anchorX:y,anchorY:v}}execute_(e,t,n,s,r,o,a,l){let u;this.pixelCoordinates_&&xs(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=gs(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),Hx(this.renderedTransform_,n));let h=0;const f=s.length;let m=0,y,v,E,b,S,A,R,I,D,p,$,W,Z=0,ae=0,he=null,ue=null;const ve=this.coordinateCache_,Ce=this.viewRotation_,le=Math.round(Math.atan2(-n[1],n[0])*1e12)/1e12,se={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Ce},X=this.instructions!=s||this.overlaps?0:200;let ce,Pe,Ve,We;for(;h<f;){const J=s[h];switch(J[0]){case Oe.BEGIN_GEOMETRY:ce=J[1],We=J[3],ce.getGeometry()?a!==void 0&&!St(a,We.getExtent())?h=J[2]+1:++h:h=J[2];break;case Oe.BEGIN_PATH:Z>X&&(this.fill_(e),Z=0),ae>X&&(e.stroke(),ae=0),!Z&&!ae&&(e.beginPath(),b=NaN,S=NaN),++h;break;case Oe.CIRCLE:m=J[1];const ke=u[m],Be=u[m+1],ft=u[m+2],vt=u[m+3],Ze=ft-ke,nt=vt-Be,ri=Math.sqrt(Ze*Ze+nt*nt);e.moveTo(ke+ri,Be),e.arc(ke,Be,ri,0,2*Math.PI,!0),++h;break;case Oe.CLOSE_PATH:e.closePath(),++h;break;case Oe.CUSTOM:m=J[1],y=J[2];const oi=J[3],P=J[4],F=J.length==6?J[5]:void 0;se.geometry=oi,se.feature=ce,h in ve||(ve[h]=[]);const z=ve[h];F?F(u,m,y,2,z):(z[0]=u[m],z[1]=u[m+1],z.length=2),P(z,se),++h;break;case Oe.DRAW_IMAGE:m=J[1],y=J[2],I=J[3],v=J[4],E=J[5];let q=J[6];const j=J[7],ee=J[8],ge=J[9],oe=J[10];let re=J[11];const Q=J[12];let _e=J[13];const de=J[14],pe=J[15];if(!I&&J.length>=20){D=J[19],p=J[20],$=J[21],W=J[22];const Jt=this.drawLabelWithPointPlacement_(D,p,$,W);I=Jt.label,J[3]=I;const tn=J[23];v=(Jt.anchorX-tn)*this.pixelRatio,J[4]=v;const Bt=J[24];E=(Jt.anchorY-Bt)*this.pixelRatio,J[5]=E,q=I.height,J[6]=q,_e=I.width,J[13]=_e}let Ee;J.length>25&&(Ee=J[25]);let Se,Xe,Fe;J.length>17?(Se=J[16],Xe=J[17],Fe=J[18]):(Se=Xs,Xe=!1,Fe=!1),oe&&le?re+=Ce:!oe&&!le&&(re-=Ce);let st=0;for(;m<y;m+=2){if(Ee&&Ee[st++]<_e/this.pixelRatio)continue;const Jt=this.calculateImageOrLabelDimensions_(I.width,I.height,u[m],u[m+1],_e,q,v,E,ee,ge,re,Q,r,Se,Xe||Fe,ce),tn=[e,t,I,Jt,j,Xe?he:null,Fe?ue:null];if(l){if(de==="none")continue;if(de==="obstacle"){l.insert(Jt.declutterBox);continue}else{let Bt,Ni;if(pe){const Qt=y-m;if(!pe[Qt]){pe[Qt]=tn;continue}if(Bt=pe[Qt],delete pe[Qt],Ni=gp(Bt),l.collides(Ni))continue}if(l.collides(Jt.declutterBox))continue;Bt&&(l.insert(Ni),this.replayImageOrLabel_.apply(this,Bt)),l.insert(Jt.declutterBox)}}this.replayImageOrLabel_.apply(this,tn)}++h;break;case Oe.DRAW_CHARS:const Nt=J[1],Ct=J[2],gi=J[3],pi=J[4];W=J[5];const Rs=J[6],kt=J[7],gt=J[8];$=J[9];const At=J[10];D=J[11],p=J[12];const gr=[J[13],J[13]],wo=this.textStates[p],zn=wo.font,Hn=[wo.scale[0]*kt,wo.scale[1]*kt];let bi;zn in this.widths_?bi=this.widths_[zn]:(bi={},this.widths_[zn]=bi);const mn=k_(u,Nt,Ct,2),Wa=Math.abs(Hn[0])*rp(zn,D,bi);if(pi||Wa<=mn){const Jt=this.textStates[p].textAlign,tn=(mn-Wa)*Uo[Jt],Bt=kT(u,Nt,Ct,2,D,tn,Rs,Math.abs(Hn[0]),rp,zn,bi,le?0:this.viewRotation_);e:if(Bt){const Ni=[];let Qt,pr,As,Yt,ai;if($)for(Qt=0,pr=Bt.length;Qt<pr;++Qt){ai=Bt[Qt],As=ai[4],Yt=this.createLabel(As,p,"",$),v=ai[2]+(Hn[0]<0?-At:At),E=gi*Yt.height+(.5-gi)*2*At*Hn[1]/Hn[0]-gt;const Si=this.calculateImageOrLabelDimensions_(Yt.width,Yt.height,ai[0],ai[1],Yt.width,Yt.height,v,E,0,0,ai[3],gr,!1,Xs,!1,ce);if(l&&l.collides(Si.declutterBox))break e;Ni.push([e,t,Yt,Si,1,null,null])}if(W)for(Qt=0,pr=Bt.length;Qt<pr;++Qt){ai=Bt[Qt],As=ai[4],Yt=this.createLabel(As,p,W,""),v=ai[2],E=gi*Yt.height-gt;const Si=this.calculateImageOrLabelDimensions_(Yt.width,Yt.height,ai[0],ai[1],Yt.width,Yt.height,v,E,0,0,ai[3],gr,!1,Xs,!1,ce);if(l&&l.collides(Si.declutterBox))break e;Ni.push([e,t,Yt,Si,1,null,null])}l&&l.load(Ni.map(gp));for(let Si=0,eu=Ni.length;Si<eu;++Si)this.replayImageOrLabel_.apply(this,Ni[Si])}}++h;break;case Oe.END_GEOMETRY:if(o!==void 0){ce=J[1];const Jt=o(ce,We);if(Jt)return Jt}++h;break;case Oe.FILL:X?Z++:this.fill_(e),++h;break;case Oe.MOVE_TO_LINE_TO:for(m=J[1],y=J[2],Pe=u[m],Ve=u[m+1],A=Pe+.5|0,R=Ve+.5|0,(A!==b||R!==S)&&(e.moveTo(Pe,Ve),b=A,S=R),m+=2;m<y;m+=2)Pe=u[m],Ve=u[m+1],A=Pe+.5|0,R=Ve+.5|0,(m==y-2||A!==b||R!==S)&&(e.lineTo(Pe,Ve),b=A,S=R);++h;break;case Oe.SET_FILL_STYLE:he=J,this.alignFill_=J[2],Z&&(this.fill_(e),Z=0,ae&&(e.stroke(),ae=0)),e.fillStyle=J[1],++h;break;case Oe.SET_STROKE_STYLE:ue=J,ae&&(e.stroke(),ae=0),this.setStrokeStyle_(e,J),++h;break;case Oe.STROKE:X?ae++:e.stroke(),++h;break;default:++h;break}}Z&&this.fill_(e),ae&&e.stroke()}execute(e,t,n,s,r,o){this.viewRotation_=s,this.execute_(e,t,n,this.instructions,r,void 0,void 0,o)}executeHitDetection(e,t,n,s,r){return this.viewRotation_=n,this.execute_(e,1,t,this.hitDetectionInstructions,!0,s,r)}}const VT=$T,Ou=["Polygon","Circle","LineString","Image","Text","Default"];class WT{constructor(e,t,n,s,r,o){this.maxExtent_=e,this.overlaps_=s,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Ei(),this.createExecutors_(r)}clip(e,t){const n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}createExecutors_(e){for(const t in e){let n=this.executorsByZIndex_[t];n===void 0&&(n={},this.executorsByZIndex_[t]=n);const s=e[t];for(const r in s){const o=s[r];n[r]=new VT(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const n=this.executorsByZIndex_[t];for(let s=0,r=e.length;s<r;++s)if(e[s]in n)return!0}return!1}forEachFeatureAtCoordinate(e,t,n,s,r,o){s=Math.round(s);const a=s*2+1,l=Zi(this.hitDetectionTransform_,s+.5,s+.5,1/t,-1/t,-n,-e[0],-e[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Ht(a,a,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;h.canvas.width!==a||h.canvas.height!==a?(h.canvas.width=a,h.canvas.height=a):u||h.clearRect(0,0,a,a);let f;this.renderBuffer_!==void 0&&(f=si(),Yo(f,e),qi(f,t*(this.renderBuffer_+s),f));const m=BT(s);let y;function v(D,p){const $=h.getImageData(0,0,a,a).data;for(let W=0,Z=m.length;W<Z;W++)if($[m[W]]>0){if(!o||y!=="Image"&&y!=="Text"||o.includes(D)){const ae=(m[W]-3)/4,he=s-ae%a,ue=s-(ae/a|0),ve=r(D,p,he*he+ue*ue);if(ve)return ve}h.clearRect(0,0,a,a);break}}const E=Object.keys(this.executorsByZIndex_).map(Number);E.sort(sr);let b,S,A,R,I;for(b=E.length-1;b>=0;--b){const D=E[b].toString();for(A=this.executorsByZIndex_[D],S=Ou.length-1;S>=0;--S)if(y=Ou[S],R=A[y],R!==void 0&&(I=R.executeHitDetection(h,l,n,v,f),I))return I}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const n=t[0],s=t[1],r=t[2],o=t[3],a=[n,s,n,o,r,o,r,s];return gs(a,0,8,2,e,a),a}isEmpty(){return or(this.executorsByZIndex_)}execute(e,t,n,s,r,o,a){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(sr),this.maxExtent_&&(e.save(),this.clip(e,n)),o=o||Ou;let u,h,f,m,y,v;for(a&&l.reverse(),u=0,h=l.length;u<h;++u){const E=l[u].toString();for(y=this.executorsByZIndex_[E],f=0,m=o.length;f<m;++f){const b=o[f];v=y[b],v!==void 0&&v.execute(e,t,n,s,r,a)}}this.maxExtent_&&e.restore()}}const Pu={};function BT(i){if(Pu[i]!==void 0)return Pu[i];const e=i*2+1,t=i*i,n=new Array(t+1);for(let r=0;r<=i;++r)for(let o=0;o<=i;++o){const a=r*r+o*o;if(a>t)break;let l=n[a];l||(l=[],n[a]=l),l.push(((i+r)*e+(i+o))*4+3),r>0&&l.push(((i-r)*e+(i+o))*4+3),o>0&&(l.push(((i+r)*e+(i-o))*4+3),r>0&&l.push(((i-r)*e+(i-o))*4+3))}const s=[];for(let r=0,o=n.length;r<o;++r)n[r]&&s.push(...n[r]);return Pu[i]=s,s}const ec=WT,xt={ANIMATING:0,INTERACTING:1};class zT extends Q_{constructor(e,t,n,s,r,o,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=n,this.transform_=s,this.transformRotation_=s?Nc(Math.atan2(s[1],s[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Ei()}drawImages_(e,t,n,s){if(!this.image_)return;const r=gs(e,t,n,s,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,l=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=l*this.imageOpacity_);let u=this.imageRotation_;this.transformRotation_===0&&(u-=this.viewRotation_),this.imageRotateWithView_&&(u+=this.viewRotation_);for(let h=0,f=r.length;h<f;h+=2){const m=r[h]-this.imageAnchorX_,y=r[h+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const v=m+this.imageAnchorX_,E=y+this.imageAnchorY_;Zi(a,v,E,1,1,u,-v,-E),o.setTransform.apply(o,a),o.translate(v,E),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,m,y,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=l)}drawText_(e,t,n,s){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=gs(e,t,n,s,this.transform_,this.pixelCoordinates_),o=this.context_;let a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<n;t+=s){const l=r[t]+this.textOffsetX_,u=r[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.translate(l-this.textOffsetX_,u-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&o.strokeText(this.text_,l,u),this.textFillState_&&o.fillText(this.text_,l,u))}}moveToLineTo_(e,t,n,s,r){const o=this.context_,a=gs(e,t,n,s,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let l=a.length;r&&(l-=2);for(let u=2;u<l;u+=2)o.lineTo(a[u],a[u+1]);return r&&o.closePath(),n}drawRings_(e,t,n,s){for(let r=0,o=n.length;r<o;++r)t=this.moveToLineTo_(e,t,n[r],s,!0);return t}drawCircle(e){if(St(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=A1(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],s=t[3]-t[1],r=Math.sqrt(n*n+s*s),o=this.context_;o.beginPath(),o.arc(t[0],t[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const n=t.getGeometryFunction()(e);!n||!St(this.extent_,n.getExtent())||(this.setStyle(t),this.drawGeometry(n))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let n=0,s=t.length;n<s;++n)this.drawGeometry(t[n])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),this.text_!==""&&this.drawText_(t,0,t.length,n)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),this.text_!==""&&this.drawText_(t,0,t.length,n)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!St(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(St(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=e.getFlatCoordinates();let r=0;const o=e.getEnds(),a=e.getStride();n.beginPath();for(let l=0,u=o.length;l<u;++l)r=this.moveToLineTo_(s,r,o[l],a,!1);n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoints();this.drawText_(n,0,n.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!St(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!St(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getOrientedFlatCoordinates();let s=0;const r=e.getEndss(),o=e.getStride();t.beginPath();for(let a=0,l=r.length;a<l;++a){const u=r[a];s=this.drawRings_(n,s,u,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),xs(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,n=this.contextTextState_,s=e.textAlign?e.textAlign:ga;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=s&&(n.textAlign=s,t.textAlign=s),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=s,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:s,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const n=e.getColor();this.fillState_={fillStyle:cn(n||Dn)}}if(!t)this.strokeState_=null;else{const n=t.getColor(),s=t.getLineCap(),r=t.getLineDash(),o=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),u=t.getMiterLimit(),h=r||ua;this.strokeState_={lineCap:s!==void 0?s:Kl,lineDash:this.pixelRatio_===1?h:h.map(f=>f*this.pixelRatio_),lineDashOffset:(o||ha)*this.pixelRatio_,lineJoin:a!==void 0?a:to,lineWidth:(l!==void 0?l:pa)*this.pixelRatio_,miterLimit:u!==void 0?u:da,strokeStyle:cn(n||fa)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const n=e.getPixelRatio(this.pixelRatio_),s=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*n,this.imageAnchorY_=s[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const y=t.getColor();this.textFillState_={fillStyle:cn(y||Dn)}}const n=e.getStroke();if(!n)this.textStrokeState_=null;else{const y=n.getColor(),v=n.getLineCap(),E=n.getLineDash(),b=n.getLineDashOffset(),S=n.getLineJoin(),A=n.getWidth(),R=n.getMiterLimit();this.textStrokeState_={lineCap:v!==void 0?v:Kl,lineDash:E||ua,lineDashOffset:b||ha,lineJoin:S!==void 0?S:to,lineWidth:A!==void 0?A:pa,miterLimit:R!==void 0?R:da,strokeStyle:cn(y||fa)}}const s=e.getFont(),r=e.getOffsetX(),o=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),u=e.getScaleArray(),h=e.getText(),f=e.getTextAlign(),m=e.getTextBaseline();this.textState_={font:s!==void 0?s:B_,textAlign:f!==void 0?f:ga,textBaseline:m!==void 0?m:ql},this.text_=h!==void 0?Array.isArray(h)?h.reduce((y,v,E)=>y+=E%2?" ":v,""):h:"",this.textOffsetX_=r!==void 0?this.pixelRatio_*r:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}}}const ty=zT,Ci=.5;function iy(i,e,t,n,s,r,o){const a=i[0]*Ci,l=i[1]*Ci,u=Ht(a,l);u.imageSmoothingEnabled=!1;const h=u.canvas,f=new ty(u,Ci,s,null,o),m=t.length,y=Math.floor((256*256*256-1)/m),v={};for(let b=1;b<=m;++b){const S=t[b-1],A=S.getStyleFunction()||n;if(!n)continue;let R=A(S,r);if(!R)continue;Array.isArray(R)||(R=[R]);const D=(b*y).toString(16).padStart(7,"#00000");for(let p=0,$=R.length;p<$;++p){const W=R[p],Z=W.getGeometryFunction()(S);if(!Z||!St(s,Z.getExtent()))continue;const ae=W.clone(),he=ae.getFill();he&&he.setColor(D);const ue=ae.getStroke();ue&&(ue.setColor(D),ue.setLineDash(null)),ae.setText(void 0);const ve=W.getImage();if(ve&&ve.getOpacity()!==0){const X=ve.getImageSize();if(!X)continue;const ce=Ht(X[0],X[1],void 0,{alpha:!1}),Pe=ce.canvas;ce.fillStyle=D,ce.fillRect(0,0,Pe.width,Pe.height),ae.setImage(new ma({img:Pe,imgSize:X,anchor:ve.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ve.getOrigin(),opacity:1,size:ve.getSize(),scale:ve.getScale(),rotation:ve.getRotation(),rotateWithView:ve.getRotateWithView()}))}const Ce=ae.getZIndex()||0;let le=v[Ce];le||(le={},v[Ce]=le,le.Polygon=[],le.Circle=[],le.LineString=[],le.Point=[]);const se=Z.getType();if(se==="GeometryCollection"){const X=Z.getGeometriesArrayRecursive();for(let ce=0,Pe=X.length;ce<Pe;++ce){const Ve=X[ce];le[Ve.getType().replace("Multi","")].push(Ve,ae)}}else le[se.replace("Multi","")].push(Z,ae)}}const E=Object.keys(v).map(Number).sort(sr);for(let b=0,S=E.length;b<S;++b){const A=v[E[b]];for(const R in A){const I=A[R];for(let D=0,p=I.length;D<p;D+=2){f.setStyle(I[D+1]);for(let $=0,W=e.length;$<W;++$)f.setTransform(e[$]),f.drawGeometry(I[D])}}}return u.getImageData(0,0,h.width,h.height)}function ny(i,e,t){const n=[];if(t){const s=Math.floor(Math.round(i[0])*Ci),r=Math.floor(Math.round(i[1])*Ci),o=(Dt(s,0,t.width-1)+Dt(r,0,t.height-1)*t.width)*4,a=t.data[o],l=t.data[o+1],h=t.data[o+2]+256*(l+256*a),f=Math.floor((256*256*256-1)/e.length);h&&h%f===0&&n.push(e[h/f-1])}return n}const HT=.5,sy={Point:QT,LineString:qT,Polygon:tw,MultiPoint:ew,MultiLineString:ZT,MultiPolygon:JT,GeometryCollection:KT,Circle:UT};function YT(i,e){return parseInt(je(i),10)-parseInt(je(e),10)}function ry(i,e){const t=Rh(i,e);return t*t}function Rh(i,e){return HT*i/e}function UT(i,e,t,n,s){const r=t.getFill(),o=t.getStroke();if(r||o){const l=i.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(r,o),l.drawCircle(e,n)}const a=t.getText();if(a&&a.getText()){const l=(s||i).getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,n)}}function tc(i,e,t,n,s,r,o){let a=!1;const l=t.getImage();if(l){const u=l.getImageState();u==ze.LOADED||u==ze.ERROR?l.unlistenImageChange(s):(u==ze.IDLE&&l.load(),l.listenImageChange(s),a=!0)}return XT(i,e,t,n,r,o),a}function XT(i,e,t,n,s,r){const o=t.getGeometryFunction()(e);if(!o)return;const a=o.simplifyTransformed(n,s);if(t.getRenderer())oy(i,a,t,e);else{const u=sy[a.getType()];u(i,a,t,e,r)}}function oy(i,e,t,n){if(e.getType()=="GeometryCollection"){const r=e.getGeometries();for(let o=0,a=r.length;o<a;++o)oy(i,r[o],t,n);return}i.getBuilder(t.getZIndex(),"Default").drawCustom(e,n,t.getRenderer(),t.getHitDetectionRenderer())}function KT(i,e,t,n,s){const r=e.getGeometriesArray();let o,a;for(o=0,a=r.length;o<a;++o){const l=sy[r[o].getType()];l(i,r[o],t,n,s)}}function qT(i,e,t,n,s){const r=t.getStroke();if(r){const a=i.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,r),a.drawLineString(e,n)}const o=t.getText();if(o&&o.getText()){const a=(s||i).getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,n)}}function ZT(i,e,t,n,s){const r=t.getStroke();if(r){const a=i.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,r),a.drawMultiLineString(e,n)}const o=t.getText();if(o&&o.getText()){const a=(s||i).getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,n)}}function JT(i,e,t,n,s){const r=t.getFill(),o=t.getStroke();if(o||r){const l=i.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(r,o),l.drawMultiPolygon(e,n)}const a=t.getText();if(a&&a.getText()){const l=(s||i).getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,n)}}function QT(i,e,t,n,s){const r=t.getImage(),o=t.getText();let a;if(r){if(r.getImageState()!=ze.LOADED)return;let l=i;if(s){const h=r.getDeclutterMode();if(h!=="none")if(l=s,h==="obstacle"){const f=i.getBuilder(t.getZIndex(),"Image");f.setImageStyle(r,a),f.drawPoint(e,n)}else o&&o.getText()&&(a={})}const u=l.getBuilder(t.getZIndex(),"Image");u.setImageStyle(r,a),u.drawPoint(e,n)}if(o&&o.getText()){let l=i;s&&(l=s);const u=l.getBuilder(t.getZIndex(),"Text");u.setTextStyle(o,a),u.drawText(e,n)}}function ew(i,e,t,n,s){const r=t.getImage(),o=t.getText();let a;if(r){if(r.getImageState()!=ze.LOADED)return;let l=i;if(s){const h=r.getDeclutterMode();if(h!=="none")if(l=s,h==="obstacle"){const f=i.getBuilder(t.getZIndex(),"Image");f.setImageStyle(r,a),f.drawMultiPoint(e,n)}else o&&o.getText()&&(a={})}const u=l.getBuilder(t.getZIndex(),"Image");u.setImageStyle(r,a),u.drawMultiPoint(e,n)}if(o&&o.getText()){let l=i;s&&(l=s);const u=l.getBuilder(t.getZIndex(),"Text");u.setTextStyle(o,a),u.drawText(e,n)}}function tw(i,e,t,n,s){const r=t.getFill(),o=t.getStroke();if(r||o){const l=i.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(r,o),l.drawPolygon(e,n)}const a=t.getText();if(a&&a.getText()){const l=(s||i).getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,n)}}class iw extends Hd{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=si(),this.wrappedRenderedExtent_=si(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,n){const s=t.extent,r=t.viewState,o=r.center,a=r.resolution,l=r.projection,u=r.rotation,h=l.getExtent(),f=this.getLayer().getSource(),m=t.pixelRatio,y=t.viewHints,v=!(y[xt.ANIMATING]||y[xt.INTERACTING]),E=this.compositionContext_,b=Math.round(t.size[0]*m),S=Math.round(t.size[1]*m),A=f.getWrapX()&&l.canWrapX(),R=A?et(h):null,I=A?Math.ceil((s[2]-h[2])/R)+1:1;let D=A?Math.floor((s[0]-h[0])/R):0;do{const p=this.getRenderTransform(o,a,u,m,b,S,D*R);e.execute(E,1,p,u,v,void 0,n)}while(++D<I)}setupCompositionContext_(){if(this.opacity_!==1){const e=Ht(this.context.canvas.width,this.context.canvas.height,fp);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,Oa(this.compositionContext_),fp.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const n=e.pixelRatio,s=e.layerStatesArray[e.layerIndex];Yx(this.pixelTransform,1/n,1/n),Lc(this.inversePixelTransform,this.pixelTransform);const r=gd(this.pixelTransform);this.useContainer(t,r,this.getBackground(e));const o=this.context,a=o.canvas,l=this.replayGroup_,u=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!u||u.isEmpty()))return null;const h=Math.round(e.size[0]*n),f=Math.round(e.size[1]*n);a.width!=h||a.height!=f?(a.width=h,a.height=f,a.style.transform!==r&&(a.style.transform=r)):this.containerReused||o.clearRect(0,0,h,f),this.preRender(o,e);const m=e.viewState;m.projection,this.opacity_=s.opacity,this.setupCompositionContext_();let y=!1,v=!0;if(s.extent&&this.clipping){const E=ln(s.extent);v=St(E,e.extent),y=v&&!zi(E,e.extent),y&&this.clipUnrotated(this.compositionContext_,e,E)}return v&&this.renderWorlds(l,e),y&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==m.rotation&&(this.renderedRotation_=m.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const n=[this.context.canvas.width,this.context.canvas.height];Mt(this.pixelTransform,n);const s=this.renderedCenter_,r=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,u=this.getLayer(),h=[],f=n[0]*Ci,m=n[1]*Ci;h.push(this.getRenderTransform(s,r,o,Ci,f,m,0).slice());const y=u.getSource(),v=a.getExtent();if(y.getWrapX()&&a.canWrapX()&&!zi(v,l)){let E=l[0];const b=et(v);let S=0,A;for(;E<v[0];)--S,A=b*S,h.push(this.getRenderTransform(s,r,o,Ci,f,m,A).slice()),E+=b;for(S=0,E=l[2];E>v[2];)++S,A=b*S,h.push(this.getRenderTransform(s,r,o,Ci,f,m,A).slice()),E-=b}this.hitDetectionImageData_=iy(n,h,this.renderedFeatures_,u.getStyleFunction(),l,r,o)}t(ny(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,n,s,r){if(!this.replayGroup_)return;const o=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),u={},h=function(y,v,E){const b=je(y),S=u[b];if(S){if(S!==!0&&E<S.distanceSq){if(E===0)return u[b]=!0,r.splice(r.lastIndexOf(S),1),s(y,l,v);S.geometry=v,S.distanceSq=E}}else{if(E===0)return u[b]=!0,s(y,l,v);r.push(u[b]={feature:y,layer:l,geometry:v,distanceSq:E,callback:s})}};let f;const m=[this.replayGroup_];return this.declutterExecutorGroup&&m.push(this.declutterExecutorGroup),m.some(y=>f=y.forEachFeatureAtCoordinate(e,o,a,n,h,y===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(v=>v.value):null)),f}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;const s=e.viewHints[xt.ANIMATING],r=e.viewHints[xt.INTERACTING],o=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!o&&s||!a&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,u=e.viewState,h=u.projection,f=u.resolution,m=e.pixelRatio,y=t.getRevision(),v=t.getRenderBuffer();let E=t.getRenderOrder();E===void 0&&(E=YT);const b=u.center.slice(),S=qi(l,v*f),A=S.slice(),R=[S.slice()],I=h.getExtent();if(n.getWrapX()&&h.canWrapX()&&!zi(I,e.extent)){const le=et(I),se=Math.max(et(S)/2,le);S[0]=I[0]-se,S[2]=I[2]+se,Ed(b,h);const X=x_(R[0],h);X[0]<I[0]&&X[2]<I[2]?R.push([X[0]+le,X[1],X[2]+le,X[3]]):X[0]>I[0]&&X[2]>I[2]&&R.push([X[0]-le,X[1],X[2]-le,X[3]])}if(this.ready&&this.renderedResolution_==f&&this.renderedRevision_==y&&this.renderedRenderOrder_==E&&zi(this.wrappedRenderedExtent_,S))return xs(this.renderedExtent_,A)||(this.hitDetectionImageData_=null,this.renderedExtent_=A),this.renderedCenter_=b,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const D=new Ql(Rh(f,m),S,f,m);let p;this.getLayer().getDeclutter()&&(p=new Ql(Rh(f,m),S,f,m));let $;for(let le=0,se=R.length;le<se;++le)n.loadFeatures(R[le],f,h);const W=ry(f,m);let Z=!0;const ae=le=>{let se;const X=le.getStyleFunction()||t.getStyleFunction();if(X&&(se=X(le,f)),se){const ce=this.renderFeature(le,W,se,D,$,p);Z=Z&&!ce}},he=bd(S),ue=n.getFeaturesInExtent(he);E&&ue.sort(E);for(let le=0,se=ue.length;le<se;++le)ae(ue[le]);this.renderedFeatures_=ue,this.ready=Z;const ve=D.finish(),Ce=new ec(S,f,m,n.getOverlaps(),ve,t.getRenderBuffer());return p&&(this.declutterExecutorGroup=new ec(S,f,m,n.getOverlaps(),p.finish(),t.getRenderBuffer())),this.renderedResolution_=f,this.renderedRevision_=y,this.renderedRenderOrder_=E,this.renderedExtent_=A,this.wrappedRenderedExtent_=S,this.renderedCenter_=b,this.renderedProjection_=h,this.replayGroup_=Ce,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,n,s,r,o){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,u=n.length;l<u;++l)a=tc(s,e,n[l],t,this.boundHandleStyleImageChange_,r,o)||a;else a=tc(s,e,n,t,this.boundHandleStyleImageChange_,r,o);return a}}const nw=iw;class sw extends J_{constructor(e){super(e)}createRenderer(){return new nw(this)}}const qs=sw;class rw{constructor(e){this.rbush_=new K_(e),this.items_={}}insert(e,t){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[je(t)]=n}load(e,t){const n=new Array(t.length);for(let s=0,r=t.length;s<r;s++){const o=e[s],a=t[s],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[s]=l,this.items_[je(a)]=l}this.rbush_.load(n)}remove(e){const t=je(e),n=this.items_[t];return delete this.items_[t],this.rbush_.remove(n)!==null}update(e,t){const n=this.items_[je(t)],s=[n.minX,n.minY,n.maxX,n.maxY];ar(s,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(s){return s.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let s=0,r=e.length;s<r;s++)if(n=t(e[s]),n)return n;return n}isEmpty(){return or(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Ji(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}const mp=rw;class ow extends Mi{constructor(e){super(),this.projection=yt(e.projection),this.attributions_=_p(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(n,s){t.viewResolver=n,t.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=_p(e),this.changed()}setState(e){this.state_=e,this.changed()}}function _p(i){return i?Array.isArray(i)?function(e){return i}:typeof i=="function"?i:function(e){return[i]}:null}const Yd=ow,ji={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function aw(i,e){return[[-1/0,-1/0,1/0,1/0]]}function yp(i){return function(e,t,n){const s=i.getZForResolution(x1(t)),r=i.getTileRangeForExtentAndZ(ln(e),s),o=[],a=[s,0,0];for(a[1]=r.minX;a[1]<=r.maxX;++a[1])for(a[2]=r.minY;a[2]<=r.maxY;++a[2])o.push(bd(i.getTileCoordExtent(a)));return o}}let lw=!1;function ay(i,e,t,n,s,r,o){const a=new XMLHttpRequest;a.open("GET",typeof i=="function"?i(t,n,s):i,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=lw,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){const u=e.getType();let h;u=="json"||u=="text"?h=a.responseText:u=="xml"?(h=a.responseXML,h||(h=new DOMParser().parseFromString(a.responseText,"application/xml"))):u=="arraybuffer"&&(h=a.response),h?r(e.readFeatures(h,{extent:t,featureProjection:s}),e.readProjection(h)):o()}else o()},a.onerror=o,a.send()}function vp(i,e){return function(t,n,s,r,o){const a=this;ay(i,e,t,n,s,function(l,u){a.addFeatures(l),r!==void 0&&r(l)},o||rr)}}class Zn extends gn{constructor(e,t,n){super(e),this.feature=t,this.features=n}}class cw extends Yd{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=rr,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&($e(this.format_,7),this.loader_=vp(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:aw;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new mp:null,this.loadedExtentsRtree_=new mp,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let n,s;Array.isArray(e.features)?s=e.features:e.features&&(n=e.features,s=n.getArray()),!t&&n===void 0&&(n=new an(s)),s!==void 0&&this.addFeaturesInternal(s),n!==void 0&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=je(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const n=e.getGeometry();if(n){const s=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(s,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Zn(ji.ADDFEATURE,e))}setupChangeEvents_(e,t){this.featureChangeKeys_[e]=[qe(t,Me.CHANGE,this.handleFeatureChange_,this),qe(t,eo.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,t){let n=!0;const s=t.getId();return s!==void 0&&(s.toString()in this.idIndex_?n=!1:this.idIndex_[s.toString()]=t),n&&($e(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],s=[];for(let r=0,o=e.length;r<o;r++){const a=e[r],l=je(a);this.addToIndex_(l,a)&&n.push(a)}for(let r=0,o=n.length;r<o;r++){const a=n[r],l=je(a);this.setupChangeEvents_(l,a);const u=a.getGeometry();if(u){const h=u.getExtent();t.push(h),s.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,s),this.hasListener(ji.ADDFEATURE))for(let r=0,o=n.length;r<o;r++)this.dispatchEvent(new Zn(ji.ADDFEATURE,n[r]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(ji.ADDFEATURE,function(n){t||(t=!0,e.push(n.feature),t=!1)}),this.addEventListener(ji.REMOVEFEATURE,function(n){t||(t=!0,e.remove(n.feature),t=!1)}),e.addEventListener(fi.ADD,n=>{t||(t=!0,this.addFeature(n.element),t=!1)}),e.addEventListener(fi.REMOVE,n=>{t||(t=!0,this.removeFeature(n.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(pt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const n=s=>{this.removeFeatureInternal(s)};this.featuresRtree_.forEach(n);for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Zn(ji.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(s){if(s.getGeometry().intersectsCoordinate(e))return t(s)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(n){if(n.getGeometry().intersectsExtent(e)){const r=t(n);if(r)return r}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),or(this.nullGeometryFeatures_)||Ki(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(n){t.push(n)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const s=i1(e,t);return[].concat(...s.map(r=>this.featuresRtree_.getInExtent(r)))}else if(this.featuresCollection_)return this.featuresCollection_.getArray().slice(0);return[]}getClosestFeatureToCoordinate(e,t){const n=e[0],s=e[1];let r=null;const o=[NaN,NaN];let a=1/0;const l=[-1/0,-1/0,1/0,1/0];return t=t||ra,this.featuresRtree_.forEachInExtent(l,function(u){if(t(u)){const h=u.getGeometry(),f=a;if(a=h.closestPointXY(n,s,o,a),a<f){r=u;const m=Math.sqrt(a);l[0]=n-m,l[1]=s-m,l[2]=n+m,l[3]=s+m}}}),r}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,n=je(t),s=t.getGeometry();if(!s)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);else{const o=s.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}const r=t.getId();if(r!==void 0){const o=r.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new Zn(ji.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:je(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&or(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,n){const s=this.loadedExtentsRtree_,r=this.strategy_(e,t,n);for(let o=0,a=r.length;o<a;++o){const l=r[o];s.forEachInExtent(l,function(h){return zi(h.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Zn(ji.FEATURESLOADSTART)),this.loader_.call(this,l,t,n,h=>{--this.loadingExtentsCount_,this.dispatchEvent(new Zn(ji.FEATURESLOADEND,void 0,h))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Zn(ji.FEATURESLOADERROR))}),s.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let n;t.forEachInExtent(e,function(s){if(ar(s.extent,e))return n=s,!0}),n&&t.remove(n)}removeFeature(e){if(!e)return;const t=je(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=je(e),n=this.featureChangeKeys_[t];if(!n)return;n.forEach(pt),delete this.featureChangeKeys_[t];const s=e.getId();return s!==void 0&&delete this.idIndex_[s.toString()],delete this.uidIndex_[t],this.dispatchEvent(new Zn(ji.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let t=!1;for(const n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n],t=!0;break}return t}setLoader(e){this.loader_=e}setUrl(e){$e(this.format_,7),this.url_=e,this.setLoader(vp(e,this.format_))}}const Pn=cw;function uw(i,e){const t=i.canvas;e=e||{};const n=e.pixelRatio||hd,s=e.size;s&&(t.width=s[0]*n,t.height=s[1]*n,t.style.width=s[0]+"px",t.style.height=s[1]+"px");const r=[0,0,t.width,t.height],o=Ol(Ei(),n,n);return new ty(i,n,r,o,0)}class ns extends gn{constructor(e,t){super(e),this.layer=t}}const Mu={LAYERS:"layers"};class Ud extends U_{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Mu.LAYERS,this.handleLayersChanged_),n?Array.isArray(n)?n=new an(n.slice(),{unique:!0}):$e(typeof n.getArray=="function",43):n=new an(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(pt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(qe(e,fi.ADD,this.handleLayersAdd_,this),qe(e,fi.REMOVE,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(pt);Sa(this.listenerKeys_);const t=e.getArray();for(let n=0,s=t.length;n<s;n++){const r=t[n];this.registerLayerListeners_(r),this.dispatchEvent(new ns("addlayer",r))}this.changed()}registerLayerListeners_(e){const t=[qe(e,eo.PROPERTYCHANGE,this.handleLayerChange_,this),qe(e,Me.CHANGE,this.handleLayerChange_,this)];e instanceof Ud&&t.push(qe(e,"addlayer",this.handleLayerGroupAdd_,this),qe(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[je(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new ns("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new ns("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new ns("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,n=je(t);this.listenerKeys_[n].forEach(pt),delete this.listenerKeys_[n],this.dispatchEvent(new ns("removelayer",t)),this.changed()}getLayers(){return this.get(Mu.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const n=t.getArray();for(let s=0,r=n.length;s<r;++s)this.dispatchEvent(new ns("removelayer",n[s]))}this.set(Mu.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],n=t.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(t)});const s=this.getLayerState();let r=s.zIndex;!e&&s.zIndex===void 0&&(r=0);for(let o=n,a=t.length;o<a;o++){const l=t[o];l.opacity*=s.opacity,l.visible=l.visible&&s.visible,l.maxResolution=Math.min(l.maxResolution,s.maxResolution),l.minResolution=Math.max(l.minResolution,s.minResolution),l.minZoom=Math.max(l.minZoom,s.minZoom),l.maxZoom=Math.min(l.maxZoom,s.maxZoom),s.extent!==void 0&&(l.extent!==void 0?l.extent=Mn(l.extent,s.extent):l.extent=s.extent),l.zIndex===void 0&&(l.zIndex=r)}return t}getSourceState(){return"ready"}}const lr=Ud;class hw extends mo{constructor(e){e=e||{},super(e)}}const dw=hw;class fw extends Hd{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,s=e.viewState,r=s.resolution,o=this.getLayer().getSource(),a=e.viewHints;let l=e.extent;if(t.extent!==void 0&&(l=Mn(l,ln(t.extent,s.projection))),!a[xt.ANIMATING]&&!a[xt.INTERACTING]&&!Fc(l))if(o){const u=s.projection,h=o.getImage(l,r,n,u);h&&(this.loadImage(h)?this.image_=h:h.getState()===ze.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),s=Mt(t.pixelToCoordinateTransform,e.slice()),r=n.getExtent();if(r&&!Aa(r,s))return null;const o=this.image_.getExtent(),a=this.image_.getImage(),l=et(o),u=Math.floor(a.width*((s[0]-o[0])/l));if(u<0||u>=a.width)return null;const h=Ot(o),f=Math.floor(a.height*((o[3]-s[1])/h));return f<0||f>=a.height?null:this.getImageData(a,u,f)}renderFrame(e,t){const n=this.image_,s=n.getExtent(),r=n.getResolution(),o=n.getPixelRatio(),a=e.layerStatesArray[e.layerIndex],l=e.pixelRatio,u=e.viewState,h=u.center,f=u.resolution,m=l*r/(f*o),y=e.extent,v=u.resolution,E=u.rotation,b=Math.round(et(y)/v*l),S=Math.round(Ot(y)/v*l);Zi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,E,-b/2,-S/2),Lc(this.inversePixelTransform,this.pixelTransform);const A=gd(this.pixelTransform);this.useContainer(t,A,this.getBackground(e));const R=this.context,I=R.canvas;I.width!=b||I.height!=S?(I.width=b,I.height=S):this.containerReused||R.clearRect(0,0,b,S);let D=!1,p=!0;if(a.extent){const he=ln(a.extent,u.projection);p=St(he,e.extent),D=p&&!zi(he,e.extent),D&&this.clipUnrotated(R,e,he)}const $=n.getImage(),W=Zi(this.tempTransform,b/2,S/2,m,m,0,o*(s[0]-h[0])/r,o*(h[1]-s[3])/r);this.renderedResolution=r*l/o;const Z=$.width*W[0],ae=$.height*W[3];if(this.getLayer().getSource().getInterpolate()||(R.imageSmoothingEnabled=!1),this.preRender(R,e),p&&Z>=.5&&ae>=.5){const he=W[4],ue=W[5],ve=a.opacity;let Ce;ve!==1&&(Ce=R.globalAlpha,R.globalAlpha=ve),R.drawImage($,0,0,+$.width,+$.height,he,ue,Z,ae),ve!==1&&(R.globalAlpha=Ce)}return this.postRender(R,e),D&&R.restore(),R.imageSmoothingEnabled=!0,A!==I.style.transform&&(I.style.transform=A),this.container}}const gw=fw;class pw extends dw{constructor(e){super(e)}createRenderer(){return new gw(this)}getData(e){return super.getData(e)}}const ly=pw;class mw{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?yt(t.dataProjection):this.readProjection(e);t.extent&&n&&n.getUnits()==="tile-pixels"&&(n=yt(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return Le()}readFeature(e,t){return Le()}readFeatures(e,t){return Le()}readGeometry(e,t){return Le()}readProjection(e){return Le()}writeFeature(e,t){return Le()}writeFeatures(e,t){return Le()}writeGeometry(e,t){return Le()}}const cy=mw;function Xd(i,e,t){const n=t?yt(t.featureProjection):null,s=t?yt(t.dataProjection):null;let r;if(n&&s&&!In(n,s)?r=(e?i.clone():i).transform(e?n:s,e?s:n):r=i,e&&t&&t.decimals!==void 0){const o=Math.pow(10,t.decimals),a=function(l){for(let u=0,h=l.length;u<h;++u)l[u]=Math.round(l[u]*o)/o;return l};r===i&&(r=i.clone()),r.applyTransform(a)}return r}class ic extends Vn{constructor(e,t,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&n)this.setFlatCoordinates(t,e),this.ends_=n;else{let s=this.getLayout();const r=e,o=[],a=[];for(let l=0,u=r.length;l<u;++l){const h=r[l];l===0&&(s=h.getLayout()),Ki(o,h.getFlatCoordinates()),a.push(o.length)}this.setFlatCoordinates(s,o),this.ends_=a}}appendLineString(e){this.flatCoordinates?Ki(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new ic(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,s){return s<po(this.getExtent(),e,t)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ad(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ld(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,s))}getCoordinateAtM(e,t,n){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,n=n!==void 0?n:!1,F1(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}getCoordinates(){return la(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Yl(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,n=this.layout,s=[];let r=0;for(let o=0,a=t.length;o<a;++o){const l=t[o],u=new Yl(e.slice(r,l),n);s.push(u),r=l}return s}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let n=0;const s=this.ends_,r=this.stride;for(let o=0,a=s.length;o<a;++o){const l=s[o],u=zl(t,n,l,r,.5);Ki(e,u),n=l}return e}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=P1(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,n),new ic(t,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(e){return G1(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Od(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}}const uy=ic;class Kd extends Vn{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){this.flatCoordinates?Ki(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new Kd(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,s){if(s<po(this.getExtent(),e,t))return s;const r=this.flatCoordinates,o=this.stride;for(let a=0,l=r.length;a<l;a+=o){const u=tr(e,t,r[a],r[a+1]);if(u<s){s=u;for(let h=0;h<o;++h)n[h]=r[a+h];n.length=o}}return s}getCoordinates(){return os(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new Hi(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,n=this.stride,s=[];for(let r=0,o=e.length;r<o;r+=n){const a=new Hi(e.slice(r,r+n),t);s.push(a)}return s}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,n=this.stride;for(let s=0,r=t.length;s<r;s+=n){const o=t[s],a=t[s+1];if(pd(e,o,a))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=La(this.flatCoordinates,0,e,this.stride),this.changed()}}const qd=Kd;function hy(i,e,t,n){let s=0,r=i[t-n],o=i[t-n+1];for(;e<t;e+=n){const a=i[e],l=i[e+1];s+=o*a-r*l,r=a,o=l}return s/2}function dy(i,e,t,n){let s=0;for(let r=0,o=t.length;r<o;++r){const a=t[r];s+=hy(i,e,a,n),e=a}return s}function _w(i,e,t,n){let s=0;for(let r=0,o=t.length;r<o;++r){const a=t[r];s+=dy(i,e,a,n),e=a[a.length-1]}return s}class nc extends Vn{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new nc(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,s){return s<po(this.getExtent(),e,t)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Rd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Id(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,s))}getArea(){return hy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return os(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=Pd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new nc(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=La(this.flatCoordinates,0,e,this.stride),this.changed()}}const sc=nc;function Zd(i,e,t,n,s,r,o){let a,l,u,h,f,m,y;const v=s[r+1],E=[];for(let A=0,R=t.length;A<R;++A){const I=t[A];for(h=i[I-n],m=i[I-n+1],a=e;a<I;a+=n)f=i[a],y=i[a+1],(v<=m&&y<=v||m<=v&&v<=y)&&(u=(v-m)/(y-m)*(f-h)+h,E.push(u)),h=f,m=y}let b=NaN,S=-1/0;for(E.sort(sr),h=E[0],a=1,l=E.length;a<l;++a){f=E[a];const A=Math.abs(f-h);A>S&&(u=(h+f)/2,Md(i,e,t,n,u,v)&&(b=u,S=A)),h=f}return isNaN(b)&&(b=s[r]),o?(o.push(b,v,S),o):[b,v,S]}function fy(i,e,t,n,s){let r=[];for(let o=0,a=t.length;o<a;++o){const l=t[o];r=Zd(i,e,l,n,s,2*o,r),e=l[l.length-1]}return r}function yw(i,e,t,n){for(;e<t-n;){for(let s=0;s<n;++s){const r=i[e+s];i[e+s]=i[t-n+s],i[t-n+s]=r}e+=n,t-=n}}function Vc(i,e,t,n){let s=0,r=i[t-n],o=i[t-n+1];for(;e<t;e+=n){const a=i[e],l=i[e+1];s+=(a-r)*(l+o),r=a,o=l}return s===0?void 0:s>0}function gy(i,e,t,n,s){s=s!==void 0?s:!1;for(let r=0,o=t.length;r<o;++r){const a=t[r],l=Vc(i,e,a,n);if(r===0){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;e=a}return!0}function vw(i,e,t,n,s){for(let r=0,o=t.length;r<o;++r){const a=t[r];if(!gy(i,e,a,n,s))return!1;a.length&&(e=a[a.length-1])}return!0}function Ah(i,e,t,n,s){s=s!==void 0?s:!1;for(let r=0,o=t.length;r<o;++r){const a=t[r],l=Vc(i,e,a,n);(r===0?s&&l||!s&&!l:s&&!l||!s&&l)&&yw(i,e,a,n),e=a}return e}function Cp(i,e,t,n,s){for(let r=0,o=t.length;r<o;++r)e=Ah(i,e,t[r],n,s);return e}function Cw(i,e){const t=[];let n=0,s=0;for(let r=0,o=e.length;r<o;++r){const a=e[r];if(!Vc(i,n,a,2))t.push(e.slice(s,r+1));else{if(t.length===0)continue;t[t.length-1].push(e[s])}s=r+1,n=a}return t}class io extends Vn{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Ki(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new io(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,s){return s<po(this.getExtent(),e,t)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ad(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ld(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,s))}containsXY(e,t){return Md(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return dy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Ah(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,la(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Oi(this.getExtent());this.flatInteriorPoint_=Zd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Hi(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new sc(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,s=[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o],u=new sc(t.slice(r,l),e);s.push(u),r=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;gy(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Ah(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=M_(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new io(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return N_(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Od(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}}const no=io;function Ew(i,e,t,n){t=t||32;const s=[];for(let r=0;r<t;++r)Ki(s,m1(i,e,2*Math.PI*r/t,n));return s.push(s[0],s[1]),new io(s,"XY",[s.length])}function Ep(i){const e=i[0],t=i[1],n=i[2],s=i[3],r=[e,t,e,s,n,s,n,t,e,t];return new io(r,"XY",[r.length])}function py(i,e,t,n){const s=[];let r=si();for(let o=0,a=t.length;o<a;++o){const l=t[o];r=_d(i,e,l[0],n),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),e=l[l.length-1]}return s}class rc extends Vn{constructor(e,t,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){let s=this.getLayout();const r=e,o=[],a=[];for(let l=0,u=r.length;l<u;++l){const h=r[l];l===0&&(s=h.getLayout());const f=o.length,m=h.getEnds();for(let y=0,v=m.length;y<v;++y)m[y]+=f;Ki(o,h.getFlatCoordinates()),a.push(m)}t=s,e=o,n=a}t!==void 0&&n?(this.setFlatCoordinates(t,e),this.endss_=n):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const n=this.flatCoordinates.length;Ki(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let s=0,r=t.length;s<r;++s)t[s]+=n}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let s=0;s<e;++s)t[s]=this.endss_[s].slice();const n=new rc(this.flatCoordinates.slice(),this.layout,t);return n.applyProperties(this),n}closestPointXY(e,t,n,s){return s<po(this.getExtent(),e,t)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(I1(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),L1(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,s))}containsXY(e,t){return k1(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return _w(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Cp(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Th(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=py(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=fy(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new qd(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;vw(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Cp(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=D1(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,n),new rc(t,"XY",n)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const r=this.endss_[e-1];t=r[r.length-1]}const n=this.endss_[e].slice(),s=n[n.length-1];if(t!==0)for(let r=0,o=n.length;r<o;++r)n[r]-=t;return new no(this.flatCoordinates.slice(t,s),this.layout,n)}getPolygons(){const e=this.layout,t=this.flatCoordinates,n=this.endss_,s=[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o].slice(),u=l[l.length-1];if(r!==0)for(let f=0,m=l.length;f<m;++f)l[f]-=r;const h=new no(t.slice(r,u),e,l);s.push(h),r=u}return s}getType(){return"MultiPolygon"}intersectsExtent(e){return j1(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=O1(this.flatCoordinates,0,e,this.stride,this.endss_);if(n.length===0)this.flatCoordinates.length=0;else{const s=n[n.length-1];this.flatCoordinates.length=s.length===0?0:s[s.length-1]}this.changed()}}const my=rc;var Jd={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Jd.read=function(i,e,t,n,s){var r,o,a=s*8-n-1,l=(1<<a)-1,u=l>>1,h=-7,f=t?s-1:0,m=t?-1:1,y=i[e+f];for(f+=m,r=y&(1<<-h)-1,y>>=-h,h+=a;h>0;r=r*256+i[e+f],f+=m,h-=8);for(o=r&(1<<-h)-1,r>>=-h,h+=n;h>0;o=o*256+i[e+f],f+=m,h-=8);if(r===0)r=1-u;else{if(r===l)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),r=r-u}return(y?-1:1)*o*Math.pow(2,r-n)};Jd.write=function(i,e,t,n,s,r){var o,a,l,u=r*8-s-1,h=(1<<u)-1,f=h>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:r-1,v=n?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=m/l:e+=m*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=h?(a=0,o=h):o+f>=1?(a=(e*l-1)*Math.pow(2,s),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;i[t+y]=a&255,y+=v,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;i[t+y]=o&255,y+=v,o/=256,u-=8);i[t+y-v]|=E*128};var xw=tt,dl=Jd;function tt(i){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(i)?i:new Uint8Array(i||0),this.pos=0,this.type=0,this.length=this.buf.length}tt.Varint=0;tt.Fixed64=1;tt.Bytes=2;tt.Fixed32=5;var Ih=(1<<16)*(1<<16),xp=1/Ih,Tw=12,_y=typeof TextDecoder>"u"?null:new TextDecoder("utf8");tt.prototype={destroy:function(){this.buf=null},readFields:function(i,e,t){for(t=t||this.length;this.pos<t;){var n=this.readVarint(),s=n>>3,r=this.pos;this.type=n&7,i(s,e,this),this.pos===r&&this.skip(n)}return e},readMessage:function(i,e){return this.readFields(i,e,this.readVarint()+this.pos)},readFixed32:function(){var i=fl(this.buf,this.pos);return this.pos+=4,i},readSFixed32:function(){var i=wp(this.buf,this.pos);return this.pos+=4,i},readFixed64:function(){var i=fl(this.buf,this.pos)+fl(this.buf,this.pos+4)*Ih;return this.pos+=8,i},readSFixed64:function(){var i=fl(this.buf,this.pos)+wp(this.buf,this.pos+4)*Ih;return this.pos+=8,i},readFloat:function(){var i=dl.read(this.buf,this.pos,!0,23,4);return this.pos+=4,i},readDouble:function(){var i=dl.read(this.buf,this.pos,!0,52,8);return this.pos+=8,i},readVarint:function(i){var e=this.buf,t,n;return n=e[this.pos++],t=n&127,n<128||(n=e[this.pos++],t|=(n&127)<<7,n<128)||(n=e[this.pos++],t|=(n&127)<<14,n<128)||(n=e[this.pos++],t|=(n&127)<<21,n<128)?t:(n=e[this.pos],t|=(n&15)<<28,ww(t,i,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var i=this.readVarint();return i%2===1?(i+1)/-2:i/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var i=this.readVarint()+this.pos,e=this.pos;return this.pos=i,i-e>=Tw&&_y?Gw(this.buf,e,i):kw(this.buf,e,i)},readBytes:function(){var i=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,i);return this.pos=i,e},readPackedVarint:function(i,e){if(this.type!==tt.Bytes)return i.push(this.readVarint(e));var t=En(this);for(i=i||[];this.pos<t;)i.push(this.readVarint(e));return i},readPackedSVarint:function(i){if(this.type!==tt.Bytes)return i.push(this.readSVarint());var e=En(this);for(i=i||[];this.pos<e;)i.push(this.readSVarint());return i},readPackedBoolean:function(i){if(this.type!==tt.Bytes)return i.push(this.readBoolean());var e=En(this);for(i=i||[];this.pos<e;)i.push(this.readBoolean());return i},readPackedFloat:function(i){if(this.type!==tt.Bytes)return i.push(this.readFloat());var e=En(this);for(i=i||[];this.pos<e;)i.push(this.readFloat());return i},readPackedDouble:function(i){if(this.type!==tt.Bytes)return i.push(this.readDouble());var e=En(this);for(i=i||[];this.pos<e;)i.push(this.readDouble());return i},readPackedFixed32:function(i){if(this.type!==tt.Bytes)return i.push(this.readFixed32());var e=En(this);for(i=i||[];this.pos<e;)i.push(this.readFixed32());return i},readPackedSFixed32:function(i){if(this.type!==tt.Bytes)return i.push(this.readSFixed32());var e=En(this);for(i=i||[];this.pos<e;)i.push(this.readSFixed32());return i},readPackedFixed64:function(i){if(this.type!==tt.Bytes)return i.push(this.readFixed64());var e=En(this);for(i=i||[];this.pos<e;)i.push(this.readFixed64());return i},readPackedSFixed64:function(i){if(this.type!==tt.Bytes)return i.push(this.readSFixed64());var e=En(this);for(i=i||[];this.pos<e;)i.push(this.readSFixed64());return i},skip:function(i){var e=i&7;if(e===tt.Varint)for(;this.buf[this.pos++]>127;);else if(e===tt.Bytes)this.pos=this.readVarint()+this.pos;else if(e===tt.Fixed32)this.pos+=4;else if(e===tt.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+e)},writeTag:function(i,e){this.writeVarint(i<<3|e)},realloc:function(i){for(var e=this.length||16;e<this.pos+i;)e*=2;if(e!==this.length){var t=new Uint8Array(e);t.set(this.buf),this.buf=t,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(i){this.realloc(4),xr(this.buf,i,this.pos),this.pos+=4},writeSFixed32:function(i){this.realloc(4),xr(this.buf,i,this.pos),this.pos+=4},writeFixed64:function(i){this.realloc(8),xr(this.buf,i&-1,this.pos),xr(this.buf,Math.floor(i*xp),this.pos+4),this.pos+=8},writeSFixed64:function(i){this.realloc(8),xr(this.buf,i&-1,this.pos),xr(this.buf,Math.floor(i*xp),this.pos+4),this.pos+=8},writeVarint:function(i){if(i=+i||0,i>268435455||i<0){bw(i,this);return}this.realloc(4),this.buf[this.pos++]=i&127|(i>127?128:0),!(i<=127)&&(this.buf[this.pos++]=(i>>>=7)&127|(i>127?128:0),!(i<=127)&&(this.buf[this.pos++]=(i>>>=7)&127|(i>127?128:0),!(i<=127)&&(this.buf[this.pos++]=i>>>7&127)))},writeSVarint:function(i){this.writeVarint(i<0?-i*2-1:i*2)},writeBoolean:function(i){this.writeVarint(!!i)},writeString:function(i){i=String(i),this.realloc(i.length*4),this.pos++;var e=this.pos;this.pos=jw(this.buf,i,this.pos);var t=this.pos-e;t>=128&&Tp(e,t,this),this.pos=e-1,this.writeVarint(t),this.pos+=t},writeFloat:function(i){this.realloc(4),dl.write(this.buf,i,this.pos,!0,23,4),this.pos+=4},writeDouble:function(i){this.realloc(8),dl.write(this.buf,i,this.pos,!0,52,8),this.pos+=8},writeBytes:function(i){var e=i.length;this.writeVarint(e),this.realloc(e);for(var t=0;t<e;t++)this.buf[this.pos++]=i[t]},writeRawMessage:function(i,e){this.pos++;var t=this.pos;i(e,this);var n=this.pos-t;n>=128&&Tp(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeMessage:function(i,e,t){this.writeTag(i,tt.Bytes),this.writeRawMessage(e,t)},writePackedVarint:function(i,e){e.length&&this.writeMessage(i,Aw,e)},writePackedSVarint:function(i,e){e.length&&this.writeMessage(i,Iw,e)},writePackedBoolean:function(i,e){e.length&&this.writeMessage(i,Pw,e)},writePackedFloat:function(i,e){e.length&&this.writeMessage(i,Lw,e)},writePackedDouble:function(i,e){e.length&&this.writeMessage(i,Ow,e)},writePackedFixed32:function(i,e){e.length&&this.writeMessage(i,Mw,e)},writePackedSFixed32:function(i,e){e.length&&this.writeMessage(i,Dw,e)},writePackedFixed64:function(i,e){e.length&&this.writeMessage(i,Fw,e)},writePackedSFixed64:function(i,e){e.length&&this.writeMessage(i,Nw,e)},writeBytesField:function(i,e){this.writeTag(i,tt.Bytes),this.writeBytes(e)},writeFixed32Field:function(i,e){this.writeTag(i,tt.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(i,e){this.writeTag(i,tt.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(i,e){this.writeTag(i,tt.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(i,e){this.writeTag(i,tt.Fixed64),this.writeSFixed64(e)},writeVarintField:function(i,e){this.writeTag(i,tt.Varint),this.writeVarint(e)},writeSVarintField:function(i,e){this.writeTag(i,tt.Varint),this.writeSVarint(e)},writeStringField:function(i,e){this.writeTag(i,tt.Bytes),this.writeString(e)},writeFloatField:function(i,e){this.writeTag(i,tt.Fixed32),this.writeFloat(e)},writeDoubleField:function(i,e){this.writeTag(i,tt.Fixed64),this.writeDouble(e)},writeBooleanField:function(i,e){this.writeVarintField(i,!!e)}};function ww(i,e,t){var n=t.buf,s,r;if(r=n[t.pos++],s=(r&112)>>4,r<128||(r=n[t.pos++],s|=(r&127)<<3,r<128)||(r=n[t.pos++],s|=(r&127)<<10,r<128)||(r=n[t.pos++],s|=(r&127)<<17,r<128)||(r=n[t.pos++],s|=(r&127)<<24,r<128)||(r=n[t.pos++],s|=(r&1)<<31,r<128))return Er(i,s,e);throw new Error("Expected varint not more than 10 bytes")}function En(i){return i.type===tt.Bytes?i.readVarint()+i.pos:i.pos+1}function Er(i,e,t){return t?e*4294967296+(i>>>0):(e>>>0)*4294967296+(i>>>0)}function bw(i,e){var t,n;if(i>=0?(t=i%4294967296|0,n=i/4294967296|0):(t=~(-i%4294967296),n=~(-i/4294967296),t^4294967295?t=t+1|0:(t=0,n=n+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),Sw(t,n,e),Rw(n,e)}function Sw(i,e,t){t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos]=i&127}function Rw(i,e){var t=(i&7)<<4;e.buf[e.pos++]|=t|((i>>>=3)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127)))))}function Tp(i,e,t){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(n);for(var s=t.pos-1;s>=i;s--)t.buf[s+n]=t.buf[s]}function Aw(i,e){for(var t=0;t<i.length;t++)e.writeVarint(i[t])}function Iw(i,e){for(var t=0;t<i.length;t++)e.writeSVarint(i[t])}function Lw(i,e){for(var t=0;t<i.length;t++)e.writeFloat(i[t])}function Ow(i,e){for(var t=0;t<i.length;t++)e.writeDouble(i[t])}function Pw(i,e){for(var t=0;t<i.length;t++)e.writeBoolean(i[t])}function Mw(i,e){for(var t=0;t<i.length;t++)e.writeFixed32(i[t])}function Dw(i,e){for(var t=0;t<i.length;t++)e.writeSFixed32(i[t])}function Fw(i,e){for(var t=0;t<i.length;t++)e.writeFixed64(i[t])}function Nw(i,e){for(var t=0;t<i.length;t++)e.writeSFixed64(i[t])}function fl(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16)+i[e+3]*16777216}function xr(i,e,t){i[t]=e,i[t+1]=e>>>8,i[t+2]=e>>>16,i[t+3]=e>>>24}function wp(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16)+(i[e+3]<<24)}function kw(i,e,t){for(var n="",s=e;s<t;){var r=i[s],o=null,a=r>239?4:r>223?3:r>191?2:1;if(s+a>t)break;var l,u,h;a===1?r<128&&(o=r):a===2?(l=i[s+1],(l&192)===128&&(o=(r&31)<<6|l&63,o<=127&&(o=null))):a===3?(l=i[s+1],u=i[s+2],(l&192)===128&&(u&192)===128&&(o=(r&15)<<12|(l&63)<<6|u&63,(o<=2047||o>=55296&&o<=57343)&&(o=null))):a===4&&(l=i[s+1],u=i[s+2],h=i[s+3],(l&192)===128&&(u&192)===128&&(h&192)===128&&(o=(r&15)<<18|(l&63)<<12|(u&63)<<6|h&63,(o<=65535||o>=1114112)&&(o=null))),o===null?(o=65533,a=1):o>65535&&(o-=65536,n+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),n+=String.fromCharCode(o),s+=a}return n}function Gw(i,e,t){return _y.decode(i.subarray(e,t))}function jw(i,e,t){for(var n=0,s,r;n<e.length;n++){if(s=e.charCodeAt(n),s>55295&&s<57344)if(r)if(s<56320){i[t++]=239,i[t++]=191,i[t++]=189,r=s;continue}else s=r-55296<<10|s-56320|65536,r=null;else{s>56319||n+1===e.length?(i[t++]=239,i[t++]=191,i[t++]=189):r=s;continue}else r&&(i[t++]=239,i[t++]=191,i[t++]=189,r=null);s<128?i[t++]=s:(s<2048?i[t++]=s>>6|192:(s<65536?i[t++]=s>>12|224:(i[t++]=s>>18|240,i[t++]=s>>12&63|128),i[t++]=s>>6&63|128),i[t++]=s&63|128)}return t}class Wc extends Vn{constructor(e,t,n){super(),n!==void 0&&t===void 0?this.setFlatCoordinates(n,e):(t=t||0,this.setCenterAndRadius(e,t,n))}clone(){const e=new Wc(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,s){const r=this.flatCoordinates,o=e-r[0],a=t-r[1],l=o*o+a*a;if(l<s){if(l===0)for(let u=0;u<this.stride;++u)n[u]=r[u];else{const u=this.getRadius()/Math.sqrt(l);n[0]=r[0]+u*o,n[1]=r[1]+u*a;for(let h=2;h<this.stride;++h)n[h]=r[h]}return n.length=this.stride,l}return s}containsXY(e,t){const n=this.flatCoordinates,s=e-n[0],r=t-n[1];return s*s+r*r<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,n=t[this.stride]-t[0];return Ji(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){const t=this.getExtent();if(St(e,t)){const n=this.getCenter();return e[0]<=n[0]&&e[2]>=n[0]||e[1]<=n[1]&&e[3]>=n[1]?!0:yd(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],s=e.slice();s[t]=s[0]+n;for(let r=1;r<t;++r)s[t+r]=e[r];this.setFlatCoordinates(this.layout,s),this.changed()}setCenterAndRadius(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const s=this.flatCoordinates;let r=P_(s,0,e,this.stride);s[r++]=s[0]+t;for(let o=1,a=this.stride;o<a;++o)s[r++]=s[o];s.length=r,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const n=this.getCenter(),s=this.getStride();this.setCenter(Sd(n,0,n.length,s,e,t,n)),this.changed()}translate(e,t){const n=this.getCenter(),s=this.getStride();this.setCenter(O_(n,0,n.length,s,e,t,n)),this.changed()}}Wc.prototype.transform;const $w=Wc,bp=Ei();class va{constructor(e,t,n,s,r){this.styleFunction,this.extent_,this.id_=r,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=s}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?md(this.flatCoordinates_):_d(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=Oi(this.getExtent());this.flatInteriorPoints_=Zd(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=py(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=fy(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=zl(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const n=this.ends_;for(let s=0,r=n.length;s<r;++s){const o=n[s],a=zl(e,t,o,2,.5);Ki(this.flatMidpoints_,a),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getStride(){return 2}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=yt(e);const t=e.getExtent(),n=e.getWorldExtent();if(t&&n){const s=Ot(n)/Ot(t);Zi(bp,n[0],n[3],s,-s,0,0,0),gs(this.flatCoordinates_,0,this.flatCoordinates_.length,2,bp,this.flatCoordinates_)}}getEnds(){return this.ends_}}va.prototype.getEndss=va.prototype.getEnds;va.prototype.getFlatCoordinates=va.prototype.getOrientedFlatCoordinates;const Sp=va;class Vw extends cy{constructor(e){super(),e=e||{},this.dataProjection=new vd({code:"",units:"tile-pixels"}),this.featureClass_=e.featureClass?e.featureClass:Sp,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,n,s){e.pos=t.geometry;const r=e.readVarint()+e.pos;let o=1,a=0,l=0,u=0,h=0,f=0;for(;e.pos<r;){if(!a){const m=e.readVarint();o=m&7,a=m>>3}a--,o===1||o===2?(l+=e.readSVarint(),u+=e.readSVarint(),o===1&&h>f&&(s.push(h),f=h),n.push(l,u),h+=2):o===7?h>f&&(n.push(n[f],n[f+1]),h+=2):$e(!1,59)}h>f&&(s.push(h),f=h)}createFeature_(e,t,n){const s=t.type;if(s===0)return null;let r;const o=t.properties;let a;this.idProperty_?(a=o[this.idProperty_],delete o[this.idProperty_]):a=t.id,o[this.layerName_]=t.layer.name;const l=[],u=[];this.readRawGeometry_(e,t,l,u);const h=Yw(s,u.length);if(this.featureClass_===Sp)r=new this.featureClass_(h,l,u,o,a),r.transform(n.dataProjection);else{let f;if(h=="Polygon"){const v=Cw(l,u);f=v.length>1?new my(l,"XY",v):new no(l,"XY",u)}else f=h==="Point"?new Hi(l,"XY"):h==="LineString"?new Yl(l,"XY"):h==="MultiPoint"?new qd(l,"XY"):h==="MultiLineString"?new uy(l,"XY",u):null;const m=this.featureClass_;r=new m,this.geometryName_&&r.setGeometryName(this.geometryName_);const y=Xd(f,!1,n);r.setGeometry(y),a!==void 0&&r.setId(a),r.setProperties(o,!0)}return r}getType(){return"arraybuffer"}readFeatures(e,t){const n=this.layers_;t=this.adaptOptions(t);const s=yt(t.dataProjection);s.setWorldExtent(t.extent),t.dataProjection=s;const r=new xw(e),o=r.readFields(Ww,{}),a=[];for(const l in o){if(n&&!n.includes(l))continue;const u=o[l],h=u?[0,0,u.extent,u.extent]:null;s.setExtent(h);for(let f=0,m=u.length;f<m;++f){const y=Hw(r,u,f),v=this.createFeature_(r,y,t);v!==null&&a.push(v)}}return a}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function Ww(i,e,t){if(i===3){const n={keys:[],values:[],features:[]},s=t.readVarint()+t.pos;t.readFields(Bw,n,s),n.length=n.features.length,n.length&&(e[n.name]=n)}}function Bw(i,e,t){if(i===15)e.version=t.readVarint();else if(i===1)e.name=t.readString();else if(i===5)e.extent=t.readVarint();else if(i===2)e.features.push(t.pos);else if(i===3)e.keys.push(t.readString());else if(i===4){let n=null;const s=t.readVarint()+t.pos;for(;t.pos<s;)i=t.readVarint()>>3,n=i===1?t.readString():i===2?t.readFloat():i===3?t.readDouble():i===4?t.readVarint64():i===5?t.readVarint():i===6?t.readSVarint():i===7?t.readBoolean():null;e.values.push(n)}}function zw(i,e,t){if(i==1)e.id=t.readVarint();else if(i==2){const n=t.readVarint()+t.pos;for(;t.pos<n;){const s=e.layer.keys[t.readVarint()],r=e.layer.values[t.readVarint()];e.properties[s]=r}}else i==3?e.type=t.readVarint():i==4&&(e.geometry=t.pos)}function Hw(i,e,t){i.pos=e.features[t];const n=i.readVarint()+i.pos,s={layer:e,type:0,properties:{}};return i.readFields(zw,s,n),s}function Yw(i,e){let t;return i===1?t=e===1?"Point":"MultiPoint":i===2?t=e===1?"LineString":"MultiLineString":i===3&&(t="Polygon"),t}const Uw=Vw,me={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function yy(i){return Math.pow(i,3)}function _o(i){return 1-yy(1-i)}function Lh(i){return 3*i*i-2*i*i*i}function vy(i){return i}let Xw=class extends Ra{constructor(e,t,n){super(),n=n||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=n.transition===void 0?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(Me.CHANGE)}release(){this.state===me.ERROR&&this.setState(me.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==me.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,t=this;do{if(e.getState()==me.LOADED){e.interimTile=null;break}else e.getState()==me.LOADING?t=e:e.getState()==me.IDLE?t.interimTile=e.interimTile:t=e;e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==me.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Le()}getAlpha(e,t){if(!this.transition_)return 1;let n=this.transitionStarts_[e];if(!n)n=t,this.transitionStarts_[e]=n;else if(n===-1)return 1;const s=t-n+1e3/60;return s>=this.transition_?1:yy(s/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}};const Bc=Xw;class Kw extends Bc{constructor(e,t,n,s,r,o){super(e,t,o),this.crossOrigin_=s,this.src_=n,this.key=n,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(e){this.image_=e,this.state=me.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=me.ERROR,this.unlistenImage_(),this.image_=qw(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=me.LOADED:this.state=me.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==me.ERROR&&(this.state=me.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==me.IDLE&&(this.state=me.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Bd(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function qw(){const i=Ht(1,1);return i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1),i.canvas}const Cy=Kw,Ey=.5,Zw=10,Rp=.25;class Jw{constructor(e,t,n,s,r,o){this.sourceProj_=e,this.targetProj_=t;let a={};const l=_s(this.targetProj_,this.sourceProj_);this.transformInv_=function(A){const R=A[0]+"/"+A[1];return a[R]||(a[R]=l(A)),a[R]},this.maxSourceExtent_=s,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&et(s)==et(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?et(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?et(this.targetProj_.getExtent()):null;const u=Ts(n),h=Dc(n),f=Mc(n),m=Pc(n),y=this.transformInv_(u),v=this.transformInv_(h),E=this.transformInv_(f),b=this.transformInv_(m),S=Zw+(o?Math.max(0,Math.ceil(Math.log2(_h(n)/(o*o*256*256)))):0);if(this.addQuad_(u,h,f,m,y,v,E,b,S),this.wrapsXInSource_){let A=1/0;this.triangles_.forEach(function(R,I,D){A=Math.min(A,R.source[0][0],R.source[1][0],R.source[2][0])}),this.triangles_.forEach(R=>{if(Math.max(R.source[0][0],R.source[1][0],R.source[2][0])-A>this.sourceWorldWidth_/2){const I=[[R.source[0][0],R.source[0][1]],[R.source[1][0],R.source[1][1]],[R.source[2][0],R.source[2][1]]];I[0][0]-A>this.sourceWorldWidth_/2&&(I[0][0]-=this.sourceWorldWidth_),I[1][0]-A>this.sourceWorldWidth_/2&&(I[1][0]-=this.sourceWorldWidth_),I[2][0]-A>this.sourceWorldWidth_/2&&(I[2][0]-=this.sourceWorldWidth_);const D=Math.min(I[0][0],I[1][0],I[2][0]);Math.max(I[0][0],I[1][0],I[2][0])-D<this.sourceWorldWidth_/2&&(R.source=I)}})}a={}}addTriangle_(e,t,n,s,r,o){this.triangles_.push({source:[s,r,o],target:[e,t,n]})}addQuad_(e,t,n,s,r,o,a,l,u){const h=Vl([r,o,a,l]),f=this.sourceWorldWidth_?et(h)/this.sourceWorldWidth_:null,m=this.sourceWorldWidth_,y=this.sourceProj_.canWrapX()&&f>.5&&f<1;let v=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const b=Vl([e,t,n,s]);v=et(b)/this.targetWorldWidth_>Rp||v}!y&&this.sourceProj_.isGlobal()&&f&&(v=f>Rp||v)}if(!v&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!St(h,this.maxSourceExtent_))return;let E=0;if(!v&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)v=!0;else if(E=(!isFinite(r[0])||!isFinite(r[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),E!=1&&E!=2&&E!=4&&E!=8)return}if(u>0){if(!v){const b=[(e[0]+n[0])/2,(e[1]+n[1])/2],S=this.transformInv_(b);let A;y?A=(fs(r[0],m)+fs(a[0],m))/2-fs(S[0],m):A=(r[0]+a[0])/2-S[0];const R=(r[1]+a[1])/2-S[1];v=A*A+R*R>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const b=[(t[0]+n[0])/2,(t[1]+n[1])/2],S=this.transformInv_(b),A=[(s[0]+e[0])/2,(s[1]+e[1])/2],R=this.transformInv_(A);this.addQuad_(e,t,b,A,r,o,S,R,u-1),this.addQuad_(A,b,n,s,R,S,a,l,u-1)}else{const b=[(e[0]+t[0])/2,(e[1]+t[1])/2],S=this.transformInv_(b),A=[(n[0]+s[0])/2,(n[1]+s[1])/2],R=this.transformInv_(A);this.addQuad_(e,b,A,s,r,S,R,l,u-1),this.addQuad_(b,t,n,A,S,o,a,R,u-1)}return}}if(y){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}E&11||this.addTriangle_(e,n,s,r,a,l),E&14||this.addTriangle_(e,n,t,r,a,o),E&&(E&13||this.addTriangle_(t,s,e,o,l,r),E&7||this.addTriangle_(t,s,n,o,l,a))}calculateSourceExtent(){const e=si();return this.triangles_.forEach(function(t,n,s){const r=t.source;Yo(e,r[0]),Yo(e,r[1]),Yo(e,r[2])}),e}getTriangles(){return this.triangles_}}const xy=Jw;let Du;const Xr=[];function Ap(i,e,t,n,s){i.beginPath(),i.moveTo(0,0),i.lineTo(e,t),i.lineTo(n,s),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(e,n)+1,Math.max(t,s)),i.restore()}function Fu(i,e){return Math.abs(i[e*4]-210)>2||Math.abs(i[e*4+3]-.75*255)>2}function Qw(){if(Du===void 0){const i=Ht(6,6,Xr);i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",Ap(i,4,5,4,0),Ap(i,4,5,0,5);const e=i.getImageData(0,0,3,3).data;Du=Fu(e,0)||Fu(e,4)||Fu(e,8),Oa(i),Xr.push(i.canvas)}return Du}function Ca(i,e,t,n){const s=kc(t,e,i);let r=Xg(e,n,t);const o=e.getMetersPerUnit();o!==void 0&&(r*=o);const a=i.getMetersPerUnit();a!==void 0&&(r/=a);const l=i.getExtent();if(!l||Aa(l,s)){const u=Xg(i,r,s)/r;isFinite(u)&&u>0&&(r/=u)}return r}function eb(i,e,t,n){const s=Oi(t);let r=Ca(i,e,s,n);return(!isFinite(r)||r<=0)&&yd(t,function(o){return r=Ca(i,e,o,n),isFinite(r)&&r>0}),r}function Ty(i,e,t,n,s,r,o,a,l,u,h,f){const m=Ht(Math.round(t*i),Math.round(t*e),Xr);if(f||(m.imageSmoothingEnabled=!1),l.length===0)return m.canvas;m.scale(t,t);function y(I){return Math.round(I*t)/t}m.globalCompositeOperation="lighter";const v=si();l.forEach(function(I,D,p){qx(v,I.extent)});const E=et(v),b=Ot(v),S=Ht(Math.round(t*E/n),Math.round(t*b/n),Xr);f||(S.imageSmoothingEnabled=!1);const A=t/n;l.forEach(function(I,D,p){const $=I.extent[0]-v[0],W=-(I.extent[3]-v[3]),Z=et(I.extent),ae=Ot(I.extent);I.image.width>0&&I.image.height>0&&S.drawImage(I.image,u,u,I.image.width-2*u,I.image.height-2*u,$*A,W*A,Z*A,ae*A)});const R=Ts(o);return a.getTriangles().forEach(function(I,D,p){const $=I.source,W=I.target;let Z=$[0][0],ae=$[0][1],he=$[1][0],ue=$[1][1],ve=$[2][0],Ce=$[2][1];const le=y((W[0][0]-R[0])/r),se=y(-(W[0][1]-R[1])/r),X=y((W[1][0]-R[0])/r),ce=y(-(W[1][1]-R[1])/r),Pe=y((W[2][0]-R[0])/r),Ve=y(-(W[2][1]-R[1])/r),We=Z,J=ae;Z=0,ae=0,he-=We,ue-=J,ve-=We,Ce-=J;const ct=[[he,ue,0,0,X-le],[ve,Ce,0,0,Pe-le],[0,0,he,ue,ce-se],[0,0,ve,Ce,Ve-se]],ke=g1(ct);if(ke){if(m.save(),m.beginPath(),Qw()||!f){m.moveTo(X,ce);const Be=4,ft=le-X,vt=se-ce;for(let Ze=0;Ze<Be;Ze++)m.lineTo(X+y((Ze+1)*ft/Be),ce+y(Ze*vt/(Be-1))),Ze!=Be-1&&m.lineTo(X+y((Ze+1)*ft/Be),ce+y((Ze+1)*vt/(Be-1)));m.lineTo(Pe,Ve)}else m.moveTo(X,ce),m.lineTo(le,se),m.lineTo(Pe,Ve);m.clip(),m.transform(ke[0],ke[2],ke[1],ke[3],le,se),m.translate(v[0]-We,v[3]-J),m.scale(n/t,-n/t),m.drawImage(S.canvas,0,0),m.restore()}}),Oa(S),Xr.push(S.canvas),h&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,a.getTriangles().forEach(function(I,D,p){const $=I.target,W=($[0][0]-R[0])/r,Z=-($[0][1]-R[1])/r,ae=($[1][0]-R[0])/r,he=-($[1][1]-R[1])/r,ue=($[2][0]-R[0])/r,ve=-($[2][1]-R[1])/r;m.beginPath(),m.moveTo(ae,he),m.lineTo(W,Z),m.lineTo(ue,ve),m.closePath(),m.stroke()}),m.restore()),m.canvas}class tb extends Bc{constructor(e,t,n,s,r,o,a,l,u,h,f,m){super(r,me.IDLE,{interpolate:!!m}),this.renderEdges_=f!==void 0?f:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=s,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const y=s.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let E=this.sourceTileGrid_.getExtent();const b=v?Mn(y,v):y;if(_h(b)===0){this.state=me.EMPTY;return}const S=e.getExtent();S&&(E?E=Mn(E,S):E=S);const A=s.getResolution(this.wrappedTileCoord_[0]),R=eb(e,n,b,A);if(!isFinite(R)||R<=0){this.state=me.EMPTY;return}const I=h!==void 0?h:Ey;if(this.triangulation_=new xy(e,n,b,E,R*I,A),this.triangulation_.getTriangles().length===0){this.state=me.EMPTY;return}this.sourceZ_=t.getZForResolution(R);let D=this.triangulation_.calculateSourceExtent();if(E&&(e.canWrapX()?(D[1]=Dt(D[1],E[1],E[3]),D[3]=Dt(D[3],E[1],E[3])):D=Mn(D,E)),!_h(D))this.state=me.EMPTY;else{const p=t.getTileRangeForExtentAndZ(D,this.sourceZ_);for(let $=p.minX;$<=p.maxX;$++)for(let W=p.minY;W<=p.maxY;W++){const Z=u(this.sourceZ_,$,W,a);Z&&this.sourceTiles_.push(Z)}this.sourceTiles_.length===0&&(this.state=me.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{t&&t.getState()==me.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=me.ERROR;else{const t=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(t),s=typeof n=="number"?n:n[0],r=typeof n=="number"?n:n[1],o=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Ty(s,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=me.LOADED}this.changed()}load(){if(this.state==me.IDLE){this.state=me.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{const n=t.getState();if(n==me.IDLE||n==me.LOADING){e++;const s=qe(t,Me.CHANGE,function(r){const o=t.getState();(o==me.LOADED||o==me.ERROR||o==me.EMPTY)&&(pt(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,n,s){t.getState()==me.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(pt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Oa(this.canvas_.getContext("2d")),Xr.push(this.canvas_),this.canvas_=null),super.release()}}const Oh=tb;class wy{constructor(e,t,n,s){this.minX=e,this.maxX=t,this.minY=n,this.maxY=s}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Tr(i,e,t,n,s){return s!==void 0?(s.minX=i,s.maxX=e,s.minY=t,s.maxY=n,s):new wy(i,e,t,n)}const by=wy;class ib extends Hd{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=si(),this.tmpTileRange_=new by(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),n=e.getState(),s=t.getUseInterimTilesOnError();return n==me.LOADED||n==me.EMPTY||n==me.ERROR&&!s}getTile(e,t,n,s){const r=s.pixelRatio,o=s.viewState.projection,a=this.getLayer();let u=a.getSource().getTile(e,t,n,r,o);return u.getState()==me.ERROR&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),s=Mt(t.pixelToCoordinateTransform,e.slice()),r=n.getExtent();if(r&&!Aa(r,s))return null;const o=t.pixelRatio,a=t.viewState.projection,l=t.viewState,u=n.getRenderSource(),h=u.getTileGridForProjection(l.projection),f=u.getTilePixelRatio(t.pixelRatio);for(let m=h.getZForResolution(l.resolution);m>=h.getMinZoom();--m){const y=h.getTileCoordForCoordAndZ(s,m),v=u.getTile(m,y[1],y[2],o,a);if(!(v instanceof Cy||v instanceof Oh)||v instanceof Oh&&v.getState()===me.EMPTY)return null;if(v.getState()!==me.LOADED)continue;const E=h.getOrigin(m),b=Wt(h.getTileSize(m)),S=h.getResolution(m),A=Math.floor(f*((s[0]-E[0])/S-y[1]*b[0])),R=Math.floor(f*((E[1]-s[1])/S-y[2]*b[1])),I=Math.round(f*u.getGutterForProjection(l.projection));return this.getImageData(v.getImage(),A+I,R+I)}return null}loadedTileCallback(e,t,n){return this.isDrawableTile(n)?super.loadedTileCallback(e,t,n):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const n=e.layerStatesArray[e.layerIndex],s=e.viewState,r=s.projection,o=s.resolution,a=s.center,l=s.rotation,u=e.pixelRatio,h=this.getLayer(),f=h.getSource(),m=f.getRevision(),y=f.getTileGridForProjection(r),v=y.getZForResolution(o,f.zDirection),E=y.getResolution(v);let b=e.extent;const S=e.viewState.resolution,A=f.getTilePixelRatio(u),R=Math.round(et(b)/S*u),I=Math.round(Ot(b)/S*u),D=n.extent&&ln(n.extent);D&&(b=Mn(b,ln(n.extent)));const p=E*R/2/A,$=E*I/2/A,W=[a[0]-p,a[1]-$,a[0]+p,a[1]+$],Z=y.getTileRangeForExtentAndZ(b,v),ae={};ae[v]={};const he=this.createLoadedTileFinder(f,r,ae),ue=this.tmpExtent,ve=this.tmpTileRange_;this.newTiles_=!1;const Ce=l?yh(s.center,S,l,e.size):void 0;for(let ct=Z.minX;ct<=Z.maxX;++ct)for(let ke=Z.minY;ke<=Z.maxY;++ke){if(l&&!y.tileCoordIntersectsViewport([v,ct,ke],Ce))continue;const Be=this.getTile(v,ct,ke,e);if(this.isDrawableTile(Be)){const Ze=je(this);if(Be.getState()==me.LOADED){ae[v][Be.tileCoord.toString()]=Be;let nt=Be.inTransition(Ze);nt&&n.opacity!==1&&(Be.endTransition(Ze),nt=!1),!this.newTiles_&&(nt||!this.renderedTiles.includes(Be))&&(this.newTiles_=!0)}if(Be.getAlpha(Ze,e.time)===1)continue}const ft=y.getTileCoordChildTileRange(Be.tileCoord,ve,ue);let vt=!1;ft&&(vt=he(v+1,ft)),vt||y.forEachTileCoordParentTileRange(Be.tileCoord,he,ve,ue)}const le=E/o*u/A;Zi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,l,-R/2,-I/2);const se=gd(this.pixelTransform);this.useContainer(t,se,this.getBackground(e));const X=this.context,ce=X.canvas;Lc(this.inversePixelTransform,this.pixelTransform),Zi(this.tempTransform,R/2,I/2,le,le,0,-R/2,-I/2),ce.width!=R||ce.height!=I?(ce.width=R,ce.height=I):this.containerReused||X.clearRect(0,0,R,I),D&&this.clipUnrotated(X,e,D),f.getInterpolate()||(X.imageSmoothingEnabled=!1),this.preRender(X,e),this.renderedTiles.length=0;let Pe=Object.keys(ae).map(Number);Pe.sort(sr);let Ve,We,J;n.opacity===1&&(!this.containerReused||f.getOpaque(e.viewState.projection))?Pe=Pe.reverse():(Ve=[],We=[]);for(let ct=Pe.length-1;ct>=0;--ct){const ke=Pe[ct],Be=f.getTilePixelSize(ke,u,r),vt=y.getResolution(ke)/E,Ze=Be[0]*vt*le,nt=Be[1]*vt*le,ri=y.getTileCoordForCoordAndZ(Ts(W),ke),oi=y.getTileCoordExtent(ri),P=Mt(this.tempTransform,[A*(oi[0]-W[0])/E,A*(W[3]-oi[3])/E]),F=A*f.getGutterForProjection(r),z=ae[ke];for(const q in z){const j=z[q],ee=j.tileCoord,ge=ri[1]-ee[1],oe=Math.round(P[0]-(ge-1)*Ze),re=ri[2]-ee[2],Q=Math.round(P[1]-(re-1)*nt),_e=Math.round(P[0]-ge*Ze),de=Math.round(P[1]-re*nt),pe=oe-_e,Ee=Q-de,Se=v===ke,Xe=Se&&j.getAlpha(je(this),e.time)!==1;let Fe=!1;if(!Xe)if(Ve){J=[_e,de,_e+pe,de,_e+pe,de+Ee,_e,de+Ee];for(let st=0,Nt=Ve.length;st<Nt;++st)if(v!==ke&&ke<We[st]){const Ct=Ve[st];St([_e,de,_e+pe,de+Ee],[Ct[0],Ct[3],Ct[4],Ct[7]])&&(Fe||(X.save(),Fe=!0),X.beginPath(),X.moveTo(J[0],J[1]),X.lineTo(J[2],J[3]),X.lineTo(J[4],J[5]),X.lineTo(J[6],J[7]),X.moveTo(Ct[6],Ct[7]),X.lineTo(Ct[4],Ct[5]),X.lineTo(Ct[2],Ct[3]),X.lineTo(Ct[0],Ct[1]),X.clip())}Ve.push(J),We.push(ke)}else X.clearRect(_e,de,pe,Ee);this.drawTileImage(j,e,_e,de,pe,Ee,F,Se),Ve&&!Xe?(Fe&&X.restore(),this.renderedTiles.unshift(j)):this.renderedTiles.push(j),this.updateUsedTiles(e.usedTiles,f,j)}}return this.renderedRevision=m,this.renderedResolution=E,this.extentChanged=!this.renderedExtent_||!ar(this.renderedExtent_,W),this.renderedExtent_=W,this.renderedPixelRatio=u,this.renderedProjection=r,this.manageTilePyramid(e,f,y,u,r,b,v,h.getPreload()),this.scheduleExpireCache(e,f),this.postRender(X,e),n.extent&&X.restore(),X.imageSmoothingEnabled=!0,se!==ce.style.transform&&(ce.style.transform=se),this.container}drawTileImage(e,t,n,s,r,o,a,l){const u=this.getTileImage(e);if(!u)return;const h=je(this),f=t.layerStatesArray[t.layerIndex],m=f.opacity*(l?e.getAlpha(h,t.time):1),y=m!==this.context.globalAlpha;y&&(this.context.save(),this.context.globalAlpha=m),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,n,s,r,o),y&&this.context.restore(),m!==f.opacity?t.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const n=function(s,r,o){const a=je(s);a in o.usedTiles&&s.expireCache(o.viewState.projection,o.usedTiles[a])}.bind(null,t);e.postRenderFunctions.push(n)}}updateUsedTiles(e,t,n){const s=je(t);s in e||(e[s]={}),e[s][n.getKey()]=!0}manageTilePyramid(e,t,n,s,r,o,a,l,u){const h=je(t);h in e.wantedTiles||(e.wantedTiles[h]={});const f=e.wantedTiles[h],m=e.tileQueue,y=n.getMinZoom(),v=e.viewState.rotation,E=v?yh(e.viewState.center,e.viewState.resolution,v,e.size):void 0;let b=0,S,A,R,I,D,p;for(p=y;p<=a;++p)for(A=n.getTileRangeForExtentAndZ(o,p,A),R=n.getResolution(p),I=A.minX;I<=A.maxX;++I)for(D=A.minY;D<=A.maxY;++D)v&&!n.tileCoordIntersectsViewport([p,I,D],E)||(a-p<=l?(++b,S=t.getTile(p,I,D,s,r),S.getState()==me.IDLE&&(f[S.getKey()]=!0,m.isKeyQueued(S.getKey())||m.enqueue([S,h,n.getTileCoordCenter(S.tileCoord),R])),u!==void 0&&u(S)):t.useTile(p,I,D,r));t.updateCacheSize(b,r)}}const Sy=ib,nb={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},sb={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class rb extends Sy{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.tmpTransform_=Ei()}prepareTile(e,t,n){let s;const r=e.getState();return(r===me.LOADED||r===me.ERROR)&&(this.updateExecutorGroup_(e,t,n),this.tileImageNeedsRender_(e)&&(s=!0)),s}getTile(e,t,n,s){const r=s.pixelRatio,o=s.viewState,a=o.resolution,l=o.projection,u=this.getLayer(),h=u.getSource().getTile(e,t,n,r,l),f=s.viewHints,m=!(f[xt.ANIMATING]||f[xt.INTERACTING]);return(m||!h.wantedResolution)&&(h.wantedResolution=a),this.prepareTile(h,r,l)&&(m||Date.now()-s.time<8)&&u.getRenderMode()!=="vector"&&this.renderTileImage_(h,s),super.getTile(e,t,n,s)}isDrawableTile(e){const t=this.getLayer();return super.isDrawableTile(e)&&(t.getRenderMode()==="vector"?je(t)in e.executorGroups:e.hasContext(t))}getTileImage(e){return e.getImage(this.getLayer())}prepareFrame(e){const t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,n){const s=this.getLayer(),r=s.getRevision(),o=s.getRenderOrder()||null,a=e.wantedResolution,l=e.getReplayState(s);if(!l.dirty&&l.renderedResolution===a&&l.renderedRevision==r&&l.renderedRenderOrder==o)return;const u=s.getSource(),h=s.getDeclutter(),f=u.getTileGrid(),y=u.getTileGridForProjection(n).getTileCoordExtent(e.wrappedTileCoord),v=u.getSourceTiles(t,n,e),E=je(s);delete e.hitDetectionImageData[E],e.executorGroups[E]=[],h&&(e.declutterExecutorGroups[E]=[]),l.dirty=!1;for(let b=0,S=v.length;b<S;++b){const A=v[b];if(A.getState()!=me.LOADED)continue;const R=A.tileCoord,I=f.getTileCoordExtent(R),D=Mn(y,I),p=qi(D,s.getRenderBuffer()*a,this.tmpExtent),$=ar(I,D)?null:p,W=new Ql(0,p,a,t),Z=h?new Ql(0,D,a,t):void 0,ae=ry(a,t),he=function(se){let X;const ce=se.getStyleFunction()||s.getStyleFunction();if(ce&&(X=ce(se,a)),X){const Pe=this.renderFeature(se,ae,X,W,Z);l.dirty=l.dirty||Pe}},ue=A.getFeatures();o&&o!==l.renderedRenderOrder&&ue.sort(o);for(let se=0,X=ue.length;se<X;++se){const ce=ue[se];(!$||St($,ce.getGeometry().getExtent()))&&he.call(this,ce)}const ve=W.finish(),Ce=s.getRenderMode()!=="vector"&&h&&v.length===1?null:D,le=new ec(Ce,a,t,u.getOverlaps(),ve,s.getRenderBuffer());if(e.executorGroups[E].push(le),Z){const se=new ec(null,a,t,u.getOverlaps(),Z.finish(),s.getRenderBuffer());e.declutterExecutorGroups[E].push(se)}}l.renderedRevision=r,l.renderedRenderOrder=o,l.renderedResolution=a}forEachFeatureAtCoordinate(e,t,n,s,r){const o=t.viewState.resolution,a=t.viewState.rotation;n=n??0;const l=this.getLayer(),h=l.getSource().getTileGridForProjection(t.viewState.projection),f=Vl([e]);qi(f,o*n,f);const m={},y=function(b,S,A){let R=b.getId();R===void 0&&(R=je(b));const I=m[R];if(I){if(I!==!0&&A<I.distanceSq){if(A===0)return m[R]=!0,r.splice(r.lastIndexOf(I),1),s(b,l,S);I.geometry=S,I.distanceSq=A}}else{if(A===0)return m[R]=!0,s(b,l,S);r.push(m[R]={feature:b,layer:l,geometry:S,distanceSq:A,callback:s})}},v=this.renderedTiles;let E;for(let b=0,S=v.length;!E&&b<S;++b){const A=v[b],R=h.getTileCoordExtent(A.wrappedTileCoord);if(!St(R,f))continue;const I=je(l),D=[A.executorGroups[I]],p=A.declutterExecutorGroups[I];p&&D.push(p),D.some($=>{const W=$===p?t.declutterTree.all().map(Z=>Z.value):null;for(let Z=0,ae=$.length;Z<ae;++Z)if(E=$[Z].forEachFeatureAtCoordinate(e,o,a,n,y,W),E)return!0})}return E}getFeatures(e){return new Promise((t,n)=>{const s=this.getLayer(),r=je(s),o=s.getSource(),a=this.renderedProjection,l=a.getExtent(),u=this.renderedResolution,h=o.getTileGridForProjection(a),f=Mt(this.renderedPixelToCoordinateTransform_,e.slice()),m=h.getTileCoordForCoordAndResolution(f,u);let y;for(let R=0,I=this.renderedTiles.length;R<I;++R)if(m.toString()===this.renderedTiles[R].tileCoord.toString()){if(y=this.renderedTiles[R],y.getState()===me.LOADED){const D=h.getTileCoordExtent(y.tileCoord);o.getWrapX()&&a.canWrapX()&&!zi(l,D)&&Ed(f,a);break}y=void 0}if(!y||y.loadingSourceTiles>0){t([]);return}const v=h.getTileCoordExtent(y.wrappedTileCoord),E=Ts(v),b=[(f[0]-E[0])/u,(E[1]-f[1])/u],S=y.getSourceTiles().reduce(function(R,I){return R.concat(I.getFeatures())},[]);let A=y.hitDetectionImageData[r];if(!A){const R=Wt(h.getTileSize(h.getZForResolution(u,o.zDirection))),I=this.renderedRotation_,D=[this.getRenderTransform(h.getTileCoordCenter(y.wrappedTileCoord),u,0,Ci,R[0]*Ci,R[1]*Ci,0)];A=iy(R,D,S,s.getStyleFunction(),h.getTileCoordExtent(y.wrappedTileCoord),y.getReplayState(s).renderedResolution,I),y.hitDetectionImageData[r]=A}t(ny(b,S,A))})}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e){const t=this.context,n=t.globalAlpha;t.globalAlpha=this.getLayer().getOpacity();const s=e.viewHints,r=!(s[xt.ANIMATING]||s[xt.INTERACTING]),o=this.renderedTiles;for(let a=0,l=o.length;a<l;++a){const u=o[a],h=u.declutterExecutorGroups[je(this.getLayer())];if(h)for(let f=h.length-1;f>=0;--f)h[f].execute(this.context,1,this.getTileRenderTransform(u,e),e.viewState.rotation,r,void 0,e.declutterTree)}t.globalAlpha=n}getTileRenderTransform(e,t){const n=t.pixelRatio,s=t.viewState,r=s.center,o=s.resolution,a=s.rotation,l=t.size,u=Math.round(l[0]*n),h=Math.round(l[1]*n),m=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),y=e.tileCoord,v=m.getTileCoordExtent(e.wrappedTileCoord),E=m.getTileCoordExtent(y,this.tmpExtent)[0]-v[0];return fd(Ol(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(r,o,a,n,u,h,E))}postRender(e,t){const n=t.viewHints,s=!(n[xt.ANIMATING]||n[xt.INTERACTING]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;const r=this.getLayer(),o=r.getRenderMode(),a=e.globalAlpha;e.globalAlpha=r.getOpacity();const l=sb[o],u=t.viewState,h=u.rotation,f=r.getSource(),y=f.getTileGridForProjection(u.projection).getZForResolution(u.resolution,f.zDirection),v=this.renderedTiles,E=[],b=[];let S=!0;for(let A=v.length-1;A>=0;--A){const R=v[A];S=S&&!R.getReplayState(r).dirty;const I=R.executorGroups[je(r)].filter(Z=>Z.hasExecutors(l));if(I.length===0)continue;const D=this.getTileRenderTransform(R,t),p=R.tileCoord[0];let $=!1;const W=I[0].getClipCoords(D);if(W){for(let Z=0,ae=E.length;Z<ae;++Z)if(y!==p&&p<b[Z]){const he=E[Z];St([W[0],W[3],W[4],W[7]],[he[0],he[3],he[4],he[7]])&&($||(e.save(),$=!0),e.beginPath(),e.moveTo(W[0],W[1]),e.lineTo(W[2],W[3]),e.lineTo(W[4],W[5]),e.lineTo(W[6],W[7]),e.moveTo(he[6],he[7]),e.lineTo(he[4],he[5]),e.lineTo(he[2],he[3]),e.lineTo(he[0],he[1]),e.clip())}E.push(W),b.push(p)}for(let Z=0,ae=I.length;Z<ae;++Z)I[Z].execute(e,1,D,h,s,l);$&&e.restore()}e.globalAlpha=a,this.ready=S,super.postRender(e,t)}renderFeature(e,t,n,s,r){if(!n)return!1;let o=!1;if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)o=tc(s,e,n[a],t,this.boundHandleStyleImageChange_,void 0,r)||o;else o=tc(s,e,n,t,this.boundHandleStyleImageChange_,void 0,r);return o}tileImageNeedsRender_(e){const t=this.getLayer();if(t.getRenderMode()==="vector")return!1;const n=e.getReplayState(t),s=t.getRevision(),r=e.wantedResolution;return n.renderedTileResolution!==r||n.renderedTileRevision!==s}renderTileImage_(e,t){const n=this.getLayer(),s=e.getReplayState(n),r=n.getRevision(),o=e.executorGroups[je(n)];s.renderedTileRevision=r;const a=e.wrappedTileCoord,l=a[0],u=n.getSource();let h=t.pixelRatio;const m=t.viewState.projection,y=u.getTileGridForProjection(m),v=y.getResolution(e.tileCoord[0]),E=t.pixelRatio/e.wantedResolution*v,b=y.getResolution(l),S=e.getContext(n);h=Math.round(Math.max(h,E/h));const A=u.getTilePixelSize(l,h,m);S.canvas.width=A[0],S.canvas.height=A[1];const R=h/E;if(R!==1){const $=$g(this.tmpTransform_);Ol($,R,R),S.setTransform.apply(S,$)}const I=y.getTileCoordExtent(a,this.tmpExtent),D=E/b,p=$g(this.tmpTransform_);Ol(p,D,-D),Ux(p,-I[0],-I[3]);for(let $=0,W=o.length;$<W;++$)o[$].execute(S,R,p,0,!0,nb[n.getRenderMode()]);s.renderedTileResolution=e.wantedResolution}}const ob=rb,ls={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class ab extends J_{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un;const n=e.renderMode||"hybrid";$e(n=="hybrid"||n=="vector",28),this.renderMode_=n,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new ob(this)}getFeatures(e){return super.getFeatures(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(ls.PRELOAD)}getUseInterimTilesOnError(){return this.get(ls.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(ls.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(ls.USE_INTERIM_TILES_ON_ERROR,e)}}const Ry=ab;let lb=class extends Bc{constructor(e,t,n,s,r,o){super(e,t,o),this.extent=null,this.format_=s,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=r,this.url_=n,this.key=n}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==me.IDLE&&(this.setState(me.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(me.ERROR)}setFeatures(e){this.features_=e,this.setState(me.LOADED)}setLoader(e){this.loader_=e}};const cb=lb;class ub{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const n=this.entries_[e];return $e(n!==void 0,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(e){const t=this.entries_[e];return $e(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.key_;return e}getValues(){const e=new Array(this.count_);let t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){$e(!(e in this.entries_),16);const n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}setSize(e){this.highWaterMark=e}}const Ph=ub;function Ip(i,e,t,n){return n!==void 0?(n[0]=i,n[1]=e,n[2]=t,n):[i,e,t]}function yo(i,e,t){return i+"/"+e+"/"+t}function Ay(i){return yo(i[0],i[1],i[2])}function hb(i){const[e,t,n]=i.substring(i.lastIndexOf("/")+1,i.length).split(",").map(Number);return yo(e,t,n)}function Iy(i){return i.split("/").map(Number)}function Qd(i){return(i[1]<<i[0])+i[2]}function db(i,e){const t=i[0],n=i[1],s=i[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const r=e.getFullTileRange(t);return r?r.containsXY(n,s):!0}class fb extends Ph{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),n=Iy(e)[0];this.forEach(s=>{s.tileCoord[0]!==n&&(this.remove(Ay(s.tileCoord)),s.release())})}}const ef=fb,Ly=42,tf=256,wr=[0,0,0],Jn=5;class gb{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,$e(Mx(this.resolutions_,function(s,r){return r-s},!0),17);let t;if(!e.origins){for(let s=0,r=this.resolutions_.length-1;s<r;++s)if(!t)t=this.resolutions_[s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this.resolutions_[s+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,$e(this.origins_.length==this.resolutions_.length,20));const n=e.extent;n!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Ts(n)),$e(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,$e(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:tf,$e(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=n!==void 0?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,r){const o=new by(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(n){const a=this.getTileRangeForExtentAndZ(n,r);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o},this):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){const s=this.getTileRangeForExtentAndZ(e,t);for(let r=s.minX,o=s.maxX;r<=o;++r)for(let a=s.minY,l=s.maxY;a<=l;++a)n([t,r,a])}forEachTileCoordParentTileRange(e,t,n,s){let r,o,a,l=null,u=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,s);u>=this.minZoom;){if(this.zoomFactor_===2?(o=Math.floor(o/2),a=Math.floor(a/2),r=Tr(o,o,a,a,n)):r=this.getTileRangeForExtentAndZ(l,u,n),t(u,r))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const r=e[1]*2,o=e[2]*2;return Tr(r,r+1,o,o+1,t)}const s=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;const s=e[0],r=e[1],o=e[2];if(t===s)return Tr(r,o,r,o,n);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,t-s),u=Math.floor(r*l),h=Math.floor(o*l);if(t<s)return Tr(u,u,h,h,n);const f=Math.floor(l*(r+1))-1,m=Math.floor(l*(o+1))-1;return Tr(u,f,h,m,n)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,n)}getTileRangeExtent(e,t,n){const s=this.getOrigin(e),r=this.getResolution(e),o=Wt(this.getTileSize(e),this.tmpSize_),a=s[0]+t.minX*o[0]*r,l=s[0]+(t.maxX+1)*o[0]*r,u=s[1]+t.minY*o[1]*r,h=s[1]+(t.maxY+1)*o[1]*r;return Ji(a,u,l,h,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,wr);const s=wr[1],r=wr[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,wr);const o=wr[1],a=wr[2];return Tr(s,o,r,a,n)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),n=this.getResolution(e[0]),s=Wt(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*s[0]*n,t[1]-(e[2]+.5)*s[1]*n]}getTileCoordExtent(e,t){const n=this.getOrigin(e[0]),s=this.getResolution(e[0]),r=Wt(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*r[0]*s,a=n[1]-(e[2]+1)*r[1]*s,l=o+r[0]*s,u=a+r[1]*s;return Ji(o,a,l,u,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,s,r){const o=this.getZForResolution(n),a=n/this.getResolution(o),l=this.getOrigin(o),u=Wt(this.getTileSize(o),this.tmpSize_);let h=a*(e-l[0])/n/u[0],f=a*(l[1]-t)/n/u[1];return s?(h=rs(h,Jn)-1,f=rs(f,Jn)-1):(h=Nr(h,Jn),f=Nr(f,Jn)),Ip(o,h,f,r)}getTileCoordForXYAndZ_(e,t,n,s,r){const o=this.getOrigin(n),a=this.getResolution(n),l=Wt(this.getTileSize(n),this.tmpSize_);let u=(e-o[0])/a/l[0],h=(o[1]-t)/a/l[1];return s?(u=rs(u,Jn)-1,h=rs(h,Jn)-1):(u=Nr(u,Jn),h=Nr(h,Jn)),Ip(n,u,h,r)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const n=Sc(this.resolutions_,e,t||0);return Dt(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return F_(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,n=new Array(t);for(let s=this.minZoom;s<t;++s)n[s]=this.getTileRangeForExtentAndZ(e,s);this.fullTileRanges_=n}}const nf=gb,Nu={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function sf(i){let e=i.getDefaultTileGrid();return e||(e=_b(i),i.setDefaultTileGrid(e)),e}function pb(i,e,t){const n=e[0],s=i.getTileCoordCenter(e),r=zc(t);if(!Aa(r,s)){const o=et(r),a=Math.ceil((r[0]-s[0])/o);return s[0]+=o*a,i.getTileCoordForCoordAndZ(s,n)}return e}function mb(i,e,t,n){n=n!==void 0?n:"top-left";const s=Oy(i,e,t);return new nf({extent:i,origin:Jx(i,n),resolutions:s,tileSize:t})}function oc(i){const e=i||{},t=e.extent||yt("EPSG:3857").getExtent(),n={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Oy(t,e.maxZoom,e.tileSize,e.maxResolution)};return new nf(n)}function Oy(i,e,t,n){e=e!==void 0?e:Ly,t=Wt(t!==void 0?t:tf);const s=Ot(i),r=et(i);n=n>0?n:Math.max(r/t[0],s/t[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=n/Math.pow(2,l);return a}function _b(i,e,t,n){const s=zc(i);return mb(s,e,t,n)}function zc(i){i=yt(i);let e=i.getExtent();if(!e){const t=180*aa.degrees/i.getMetersPerUnit();e=Ji(-t,-t,t,t)}return e}class yb extends Yd{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&Wt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new ef(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const n=this.getTileCacheForProjection(e);n&&n.expireCache(t)}forEachLoadedTile(e,t,n,s){const r=this.getTileCacheForProjection(e);if(!r)return!1;let o=!0,a,l,u;for(let h=n.minX;h<=n.maxX;++h)for(let f=n.minY;f<=n.maxY;++f)l=yo(t,h,f),u=!1,r.containsKey(l)&&(a=r.get(l),u=a.getState()===me.LOADED,u&&(u=s(a)!==!1)),u||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,n,s,r){return Le()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:sf(e)}getTileCacheForProjection(e){const t=this.getProjection();return $e(t===null||In(t,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){const s=this.getTileGridForProjection(n),r=this.getTilePixelRatio(t),o=Wt(s.getTileSize(e),this.tmpSize);return r==1?o:Nd(o,r,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();const n=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=pb(n,e,t)),db(e,n)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const n=this.getTileCacheForProjection(t);e>n.highWaterMark&&(n.highWaterMark=e)}useTile(e,t,n,s){}}class vb extends gn{constructor(e,t){super(e),this.tile=t}}const Py=yb;function Cb(i,e){const t=/\{z\}/g,n=/\{x\}/g,s=/\{y\}/g,r=/\{-y\}/g;return function(o,a,l){if(o)return i.replace(t,o[0].toString()).replace(n,o[1].toString()).replace(s,o[2].toString()).replace(r,function(){const u=o[0],h=e.getFullTileRange(u);return $e(h,55),(h.getHeight()-o[2]-1).toString()})}}function My(i,e){const t=i.length,n=new Array(t);for(let s=0;s<t;++s)n[s]=Cb(i[s],e);return Eb(n)}function Eb(i){return i.length===1?i[0]:function(e,t,n){if(!e)return;const s=Qd(e),r=fs(s,i.length);return i[r](e,t,n)}}function xb(i){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(i);if(t){const n=t[1].charCodeAt(0),s=t[2].charCodeAt(0);let r;for(r=n;r<=s;++r)e.push(i.replace(t[0],String.fromCharCode(r)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(i),t){const n=parseInt(t[2],10);for(let s=parseInt(t[1],10);s<=n;s++)e.push(i.replace(t[0],s.toString()));return e}return e.push(i),e}class rf extends Py{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===rf.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,n=je(t),s=t.getState();let r;s==me.LOADING?(this.tileLoadingKeys_[n]=!0,r=Nu.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],r=s==me.ERROR?Nu.TILELOADERROR:s==me.LOADED?Nu.TILELOADEND:void 0),r!=null&&this.dispatchEvent(new vb(r,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=xb(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(My(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}useTile(e,t,n){const s=yo(e,t,n);this.tileCache.containsKey(s)&&this.tileCache.get(s)}}const Dy=rf,Lp=[];class Tb extends Bc{constructor(e,t,n,s){super(e,t,{transition:0}),this.context_={},this.executorGroups={},this.declutterExecutorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=s.bind(void 0,this),this.wrappedTileCoord=n}getContext(e){const t=je(e);return t in this.context_||(this.context_[t]=Ht(1,1,Lp)),this.context_[t]}hasContext(e){return je(e)in this.context_}getImage(e){return this.hasContext(e)?this.getContext(e).canvas:null}getReplayState(e){const t=je(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){for(const e in this.context_){const t=this.context_[e];Oa(t),Lp.push(t.canvas),delete this.context_[e]}super.release()}}const wb=Tb;class bb extends Dy{constructor(e){const t=e.projection||"EPSG:3857",n=e.extent||zc(t),s=e.tileGrid||oc({extent:n,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:t,state:e.state,tileGrid:s,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Rb,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.sourceTileCache=new ef(this.tileCache.highWaterMark),this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:cb,this.tileGrids_={}}getFeaturesInExtent(e){const t=[],n=this.tileCache;if(n.getCount()===0)return t;const s=Iy(n.peekFirstKey())[0],r=this.tileGrid;return n.forEach(function(o){if(o.tileCoord[0]!==s||o.getState()!==me.LOADED)return;const a=o.getSourceTiles();for(let l=0,u=a.length;l<u;++l){const h=a[l],f=h.tileCoord;if(St(e,r.getTileCoordExtent(f))){const m=h.getFeatures();if(m)for(let y=0,v=m.length;y<v;++y){const E=m[y],b=E.getGeometry();St(e,b.getExtent())&&t.push(E)}}}}),t}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(e,t){const n=this.getTileCacheForProjection(e),s=Object.keys(t).reduce((r,o)=>{const a=hb(o),l=n.peek(a);if(l){const u=l.sourceTiles;for(let h=0,f=u.length;h<f;++h)r[u[h].getKey()]=!0}return r},{});super.expireCache(e,t),this.sourceTileCache.expireCache(s)}getSourceTiles(e,t,n){if(n.getState()===me.IDLE){n.setState(me.LOADING);const s=n.wrappedTileCoord,r=this.getTileGridForProjection(t),o=r.getTileCoordExtent(s),a=s[0],l=r.getResolution(a);qi(o,-l,o);const u=this.tileGrid,h=u.getExtent();h&&Mn(o,h,o);const f=u.getZForResolution(l,this.zDirection);u.forEachTileCoord(o,f,m=>{const y=this.tileUrlFunction(m,e,t),v=this.sourceTileCache.containsKey(y)?this.sourceTileCache.get(y):new this.tileClass(m,y?me.IDLE:me.EMPTY,y,this.format_,this.tileLoadFunction);n.sourceTiles.push(v);const E=v.getState();if(E<me.LOADED){const b=S=>{this.handleTileChange(S);const A=v.getState();if(A===me.LOADED||A===me.ERROR){const R=v.getKey();R in n.errorTileKeys?v.getState()===me.LOADED&&delete n.errorTileKeys[R]:n.loadingSourceTiles--,A===me.ERROR?n.errorTileKeys[R]=!0:v.removeEventListener(Me.CHANGE,b),n.loadingSourceTiles===0&&n.setState(or(n.errorTileKeys)?me.LOADED:me.ERROR)}};v.addEventListener(Me.CHANGE,b),n.loadingSourceTiles++}E===me.IDLE&&(v.extent=u.getTileCoordExtent(m),v.projection=t,v.resolution=u.getResolution(m[0]),this.sourceTileCache.set(y,v),v.load())}),n.loadingSourceTiles||n.setState(n.sourceTiles.some(m=>m.getState()===me.ERROR)?me.ERROR:me.LOADED)}return n.sourceTiles}getTile(e,t,n,s,r){const o=yo(e,t,n),a=this.getKey();let l;if(this.tileCache.containsKey(o)&&(l=this.tileCache.get(o),l.key===a))return l;const u=[e,t,n];let h=this.getTileCoordForTileUrlFunction(u,r);const f=this.getTileGrid().getExtent(),m=this.getTileGridForProjection(r);if(h&&f){const E=m.getTileCoordExtent(h);qi(E,-m.getResolution(e),E),St(f,E)||(h=null)}let y=!0;if(h!==null){const E=this.tileGrid,b=m.getResolution(e),S=E.getZForResolution(b,1),A=m.getTileCoordExtent(h);qi(A,-b,A),E.forEachTileCoord(A,S,R=>{y=y&&!this.tileUrlFunction(R,s,r)})}const v=new wb(u,y?me.EMPTY:me.IDLE,h,this.getSourceTiles.bind(this,s,r));return v.key=a,l?(v.interimTile=l,v.refreshInterimChain(),this.tileCache.replace(o,v)):this.tileCache.set(o,v),v}getTileGridForProjection(e){const t=e.getCode();let n=this.tileGrids_[t];if(!n){const s=this.tileGrid,r=s.getResolutions().slice(),o=r.map(function(u,h){return s.getOrigin(h)}),a=r.map(function(u,h){return s.getTileSize(h)}),l=Ly+1;for(let u=r.length;u<l;++u)r.push(r[u-1]/2),o.push(o[u-1]),a.push(a[u-1]);n=new nf({extent:s.getExtent(),origins:o,resolutions:r,tileSizes:a}),this.tileGrids_[t]=n}return n}getTilePixelRatio(e){return e}getTilePixelSize(e,t,n){const s=this.getTileGridForProjection(n),r=Wt(s.getTileSize(e),this.tmpSize);return[Math.round(r[0]*t),Math.round(r[1]*t)]}updateCacheSize(e,t){super.updateCacheSize(e*2,t),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(t).highWaterMark}}const Sb=bb;function Rb(i,e){i.setLoader(function(t,n,s){ay(e,i.getFormat(),t,n,s,i.onLoad.bind(i),i.onError.bind(i))})}class Ab extends cy{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(gl(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(gl(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return Le()}readFeaturesFromObject(e,t){return Le()}readGeometry(e,t){return this.readGeometryFromObject(gl(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return Le()}readProjection(e){return this.readProjectionFromObject(gl(e))}readProjectionFromObject(e){return Le()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return Le()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return Le()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return Le()}}function gl(i){if(typeof i=="string"){const e=JSON.parse(i);return e||null}else if(i!==null)return i;return null}const Ib=Ab;class Lb extends ld{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Le()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,s=e.pixelToCoordinateTransform;Zi(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Lc(s,n)}forEachFeatureAtCoordinate(e,t,n,s,r,o,a,l){let u;const h=t.viewState;function f(I,D,p,$){return r.call(o,D,I?p:null,$)}const m=h.projection,y=Ed(e.slice(),m),v=[[0,0]];if(m.canWrapX()&&s){const I=m.getExtent(),D=et(I);v.push([-D,0],[D,0])}const E=t.layerStatesArray,b=E.length,S=[],A=[];for(let I=0;I<v.length;I++)for(let D=b-1;D>=0;--D){const p=E[D],$=p.layer;if($.hasRenderer()&&Wd(p,h)&&a.call(l,$)){const W=$.getRenderer(),Z=$.getSource();if(W&&Z){const ae=Z.getWrapX()?y:e,he=f.bind(null,p.managed);A[0]=ae[0]+v[I][0],A[1]=ae[1]+v[I][1],u=W.forEachFeatureAtCoordinate(A,t,n,he,S)}if(u)return u}}if(S.length===0)return;const R=1/S.length;return S.forEach((I,D)=>I.distanceSq+=D*R),S.sort((I,D)=>I.distanceSq-D.distanceSq),S.some(I=>u=I.callback(I.feature,I.layer,I.geometry)),u}hasFeatureAtCoordinate(e,t,n,s,r,o){return this.forEachFeatureAtCoordinate(e,t,n,s,ra,this,r,o)!==void 0}getMap(){return this.map_}renderFrame(e){Le()}scheduleExpireIconCache(e){Jl.canExpireCache()&&e.postRenderFunctions.push(Ob)}}function Ob(i,e){Jl.expire()}const Pb=Lb;class Mb extends Pb{constructor(e){super(e),this.fontChangeListenerKey_=qe(Tn,eo.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=jc+" ol-layers";const n=e.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const s=new ey(e,void 0,t);n.dispatchEvent(s)}}disposeInternal(){pt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(ds.PRECOMPOSE,e);const t=e.layerStatesArray.sort(function(o,a){return o.zIndex-a.zIndex}),n=e.viewState;this.children_.length=0;const s=[];let r=null;for(let o=0,a=t.length;o<a;++o){const l=t[o];e.layerIndex=o;const u=l.layer,h=u.getSourceState();if(!Wd(l,n)||h!="ready"&&h!="undefined"){u.unrender();continue}const f=u.render(e,r);f&&(f!==r&&(this.children_.push(f),r=f),"getDeclutter"in u&&s.push(u))}for(let o=s.length-1;o>=0;--o)s[o].renderDeclutter(e);U1(this.element_,this.children_),this.dispatchRenderEvent(ds.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}}const Db=Mb;class Fb extends gn{constructor(e,t,n){super(e),this.map=t,this.frameState=n!==void 0?n:null}}const Or=Fb;class Nb extends Or{constructor(e,t,n,s,r,o){super(e,t,r),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0?s:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const ts=Nb,Rt={SINGLECLICK:"singleclick",CLICK:Me.CLICK,DBLCLICK:Me.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Mh={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class kb extends Ra{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=qe(n,Mh.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=qe(n,Mh.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Me.TOUCHMOVE,this.boundHandleTouchMove_,y_?{passive:!1}:!1)}emulateClick_(e){let t=new ts(Rt.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new ts(Rt.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const n=new ts(Rt.SINGLECLICK,this.map_,e);this.dispatchEvent(n)},250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==Rt.POINTERUP||t.type==Rt.POINTERCANCEL){delete this.trackedTouches_[n];for(const s in this.trackedTouches_)if(this.trackedTouches_[s].target!==t.target){delete this.trackedTouches_[s];break}}else(t.type==Rt.POINTERDOWN||t.type==Rt.POINTERMOVE)&&(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new ts(Rt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(pt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new ts(Rt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.down_={};for(const n in e){const s=e[n];this.down_[n]=typeof s=="function"?rr:s}if(this.dragListenerKeys_.length===0){const n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(qe(n,Rt.POINTERMOVE,this.handlePointerMove_,this),qe(n,Rt.POINTERUP,this.handlePointerUp_,this),qe(this.element_,Rt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(qe(this.element_.getRootNode(),Rt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new ts(Rt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new ts(Rt.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(pt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Me.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(pt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(pt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Gb=kb,bn={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Kt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ac=1/0;class jb{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Sa(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const s=this.keyFunction_(n);return delete this.queuedElements_[s],n}enqueue(e){$e(!(this.keyFunction_(e)in this.queuedElements_),31);const t=this.priorityFunction_(e);return t!=ac?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,s=t.length,r=t[e],o=n[e],a=e;for(;e<s>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),h=u<s&&n[u]<n[l]?u:l;t[e]=t[h],n[e]=n[h],e=h}t[e]=r,n[e]=o,this.siftDown_(a,e)}siftDown_(e,t){const n=this.elements_,s=this.priorities_,r=n[t],o=s[t];for(;t>e;){const a=this.getParentIndex_(t);if(s[a]>o)n[t]=n[a],s[t]=s[a],t=a;else break}n[t]=r,s[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let s=0;const r=t.length;let o,a,l;for(a=0;a<r;++a)o=t[a],l=e(o),l==ac?delete this.queuedElements_[this.keyFunction_(o)]:(n[s]=l,t[s++]=o);t.length=s,n.length=s,this.heapify_()}}const $b=jb;class Vb extends $b{constructor(e,t){super(function(n){return e.apply(null,n)},function(n){return n[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Me.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(n===me.LOADED||n===me.ERROR||n===me.EMPTY){n!==me.ERROR&&t.removeEventListener(Me.CHANGE,this.boundHandleTileChange_);const s=t.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n=0,s,r,o;for(;this.tilesLoading_<e&&n<t&&this.getCount()>0;)r=this.dequeue()[0],o=r.getKey(),s=r.getState(),s===me.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++n,r.load())}}const Wb=Vb;function Bb(i,e,t,n,s){if(!i||!(t in i.wantedTiles)||!i.wantedTiles[t][e.getKey()])return ac;const r=i.viewState.center,o=n[0]-r[0],a=n[1]-r[1];return 65536*Math.log(s)+Math.sqrt(o*o+a*a)/s}const $i={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Op(i,e,t){return function(n,s,r,o,a){if(!n)return;if(!s&&!e)return n;const l=e?0:r[0]*s,u=e?0:r[1]*s,h=a?a[0]:0,f=a?a[1]:0;let m=i[0]+l/2+h,y=i[2]-l/2+h,v=i[1]+u/2+f,E=i[3]-u/2+f;m>y&&(m=(y+m)/2,y=m),v>E&&(v=(E+v)/2,E=v);let b=Dt(n[0],m,y),S=Dt(n[1],v,E);if(o&&t&&s){const A=30*s;b+=-A*Math.log(1+Math.max(0,m-n[0])/A)+A*Math.log(1+Math.max(0,n[0]-y)/A),S+=-A*Math.log(1+Math.max(0,v-n[1])/A)+A*Math.log(1+Math.max(0,n[1]-E)/A)}return[b,S]}}function zb(i){return i}function of(i,e,t,n){const s=et(e)/t[0],r=Ot(e)/t[1];return n?Math.min(i,Math.max(s,r)):Math.min(i,Math.min(s,r))}function af(i,e,t){let n=Math.min(i,e);const s=50;return n*=Math.log(1+s*Math.max(0,i/e-1))/s+1,t&&(n=Math.max(n,t),n/=Math.log(1+s*Math.max(0,t/i-1))/s+1),Dt(n,t/2,e*2)}function Hb(i,e,t,n){return e=e!==void 0?e:!0,function(s,r,o,a){if(s!==void 0){const l=i[0],u=i[i.length-1],h=t?of(l,t,o,n):l;if(a)return e?af(s,h,u):Dt(s,u,h);const f=Math.min(h,s),m=Math.floor(Sc(i,f,r));return i[m]>h&&m<i.length-1?i[m+1]:i[m]}}}function Yb(i,e,t,n,s,r){return n=n!==void 0?n:!0,t=t!==void 0?t:0,function(o,a,l,u){if(o!==void 0){const h=s?of(e,s,l,r):e;if(u)return n?af(o,h,t):Dt(o,t,h);const f=1e-9,m=Math.ceil(Math.log(e/h)/Math.log(i)-f),y=-a*(.5-f)+.5,v=Math.min(h,o),E=Math.floor(Math.log(e/v)/Math.log(i)+y),b=Math.max(m,E),S=e/Math.pow(i,b);return Dt(S,t,h)}}}function Pp(i,e,t,n,s){return t=t!==void 0?t:!0,function(r,o,a,l){if(r!==void 0){const u=n?of(i,n,a,s):i;return!t||!l?Dt(r,e,u):af(r,u,e)}}}function lf(i){if(i!==void 0)return 0}function Mp(i){if(i!==void 0)return i}function Ub(i){const e=2*Math.PI/i;return function(t,n){if(n)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function Xb(i){return i=i||Ur(5),function(e,t){if(t)return e;if(e!==void 0)return Math.abs(e)<=i?0:e}}const ku=0;class Kb extends Mi{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Td(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&y1(),e.center&&(e.center=xn(e.center,this.projection_)),e.extent&&(e.extent=ln(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const a in $i)delete t[a];this.setProperties(t,!0);const n=Zb(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const s=qb(e),r=n.constraint,o=Jb(e);this.constraints_={center:s,resolution:r,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenter();if(n){const s=e||[0,0,0,0];t=t||[0,0,0,0];const r=this.getResolution(),o=r/2*(s[3]-t[3]+t[1]-s[1]),a=r/2*(s[0]-t[0]+t[2]-s[2]);this.setCenterInternal([n[0]+o,n[1]-a])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let n=0;n<t.length;++n){let s=arguments[n];s.center&&(s=Object.assign({},s),s.center=xn(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=xn(s.anchor,this.getProjection())),t[n]=s}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,n;t>1&&typeof arguments[t-1]=="function"&&(n=arguments[t-1],--t);let s=0;for(;s<t&&!this.isDef();++s){const h=arguments[s];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(s===t){n&&pl(n,!0);return}let r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const u=[];for(;s<t;++s){const h=arguments[s],f={start:r,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||Lh,callback:n};if(h.center&&(f.sourceCenter=o,f.targetCenter=h.center.slice(),o=f.targetCenter),h.zoom!==void 0?(f.sourceResolution=a,f.targetResolution=this.getResolutionForZoom(h.zoom),a=f.targetResolution):h.resolution&&(f.sourceResolution=a,f.targetResolution=h.resolution,a=f.targetResolution),h.rotation!==void 0){f.sourceRotation=l;const m=fs(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=l+m,l=f.targetRotation}Qb(f)?f.complete=!0:r+=f.duration,u.push(f)}this.animations_.push(u),this.setHint(xt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[xt.ANIMATING]>0}getInteracting(){return this.hints_[xt.INTERACTING]>0}cancelAnimations(){this.setHint(xt.ANIMATING,-this.hints_[xt.ANIMATING]);let e;for(let t=0,n=this.animations_.length;t<n;++t){const s=this.animations_[t];if(s[0].callback&&pl(s[0].callback,!1),!e)for(let r=0,o=s.length;r<o;++r){const a=s[r];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const s=this.animations_[n];let r=!0;for(let o=0,a=s.length;o<a;++o){const l=s[o];if(l.complete)continue;const u=e-l.start;let h=l.duration>0?u/l.duration:1;h>=1?(l.complete=!0,h=1):r=!1;const f=l.easing(h);if(l.sourceCenter){const m=l.sourceCenter[0],y=l.sourceCenter[1],v=l.targetCenter[0],E=l.targetCenter[1];this.nextCenter_=l.targetCenter;const b=m+f*(v-m),S=y+f*(E-y);this.targetCenter_=[b,S]}if(l.sourceResolution&&l.targetResolution){const m=f===1?l.targetResolution:l.sourceResolution+f*(l.targetResolution-l.sourceResolution);if(l.anchor){const y=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(m,0,y,!0);this.targetCenter_=this.calculateCenterZoom(v,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=m,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const m=f===1?fs(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+f*(l.targetRotation-l.sourceRotation);if(l.anchor){const y=this.constraints_.rotation(m,!0);this.targetCenter_=this.calculateCenterRotate(y,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=m}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(r){this.animations_[n]=null,this.setHint(xt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=s[0].callback;o&&pl(o,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const s=this.getCenterInternal();return s!==void 0&&(n=[s[0]-t[0],s[1]-t[1]],Cd(n,e-this.getRotation()),w_(n,t)),n}calculateCenterZoom(e,t){let n;const s=this.getCenterInternal(),r=this.getResolution();if(s!==void 0&&r!==void 0){const o=t[0]-e*(t[0]-s[0])/r,a=t[1]-e*(t[1]-s[1])/r;n=[o,a]}return n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],s=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(s*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(s*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Eh(e,this.getProjection())}getCenterInternal(){return this.get($i.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return bd(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();$e(t,1);const n=this.getResolution();$e(n!==void 0,2);const s=this.getRotation();return $e(s!==void 0,3),Hr(t,n,s,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get($i.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(ln(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=et(e)/t[0],s=Ot(e)/t[1];return Math.max(n,s)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,s=Math.log(t/n)/Math.log(e);return function(r){return t/Math.pow(e,r*s)}}getRotation(){return this.get($i.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(n/s)/t;return function(o){return Math.log(n/o)/t/r}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let s=this.getCenterInternal();const r=this.padding_;if(r){const o=this.getViewportSizeMinusPadding_();s=Gu(s,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],t,n)}return{center:s.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,n,s;if(this.resolutions_){const r=Sc(this.resolutions_,e,1);t=r,n=this.resolutions_[r],r==this.resolutions_.length-1?s=2:s=n/this.resolutions_[r+1]}else n=this.maxResolution_,s=this.zoomFactor_;return t+Math.log(n/e)/Math.log(s)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=Dt(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,Dt(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if($e(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){$e(!Fc(e),25);const s=ln(e,this.getProjection());n=Ep(s)}else if(e.getType()==="Circle"){const s=ln(e.getExtent(),this.getProjection());n=Ep(s),n.rotate(this.getRotation(),Oi(s))}else n=e;this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),s=Math.sin(-t),r=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,u=-1/0,h=-1/0;for(let f=0,m=r.length;f<m;f+=o){const y=r[f]*n-r[f+1]*s,v=r[f]*s+r[f+1]*n;a=Math.min(a,y),l=Math.min(l,v),u=Math.max(u,y),h=Math.max(h,v)}return[a,l,u,h]}fitInternal(e,t){t=t||{};let n=t.size;n||(n=this.getViewportSizeMinusPadding_());const s=t.padding!==void 0?t.padding:[0,0,0,0],r=t.nearest!==void 0?t.nearest:!1;let o;t.minResolution!==void 0?o=t.minResolution:t.maxZoom!==void 0?o=this.getResolutionForZoom(t.maxZoom):o=0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,r?0:1);const u=this.getRotation(),h=Math.sin(u),f=Math.cos(u),m=Oi(a);m[0]+=(s[1]-s[3])/2*l,m[1]+=(s[0]-s[2])/2*l;const y=m[0]*f-m[1]*h,v=m[1]*f+m[0]*h,E=this.getConstrainedCenter([y,v],l),b=t.callback?t.callback:rr;t.duration!==void 0?this.animateInternal({resolution:l,center:E,duration:t.duration,easing:t.easing},b):(this.targetResolution_=l,this.targetCenter_=E,this.applyTargetState_(!1,!0),pl(b,!0))}centerOn(e,t,n){this.centerOnInternal(xn(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(Gu(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,s){let r;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-n),l=Gu(e,s,[a[0]/2+o[3],a[1]/2+o[0]],t,n);r=[e[0]-l[0],e[1]-l[1]]}return r}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=Eh(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&xn(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,s,n);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=xn(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(s,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&xn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,s=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,0,r,n),a=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,s,r));this.get($i.ROTATION)!==s&&this.set($i.ROTATION,s),this.get($i.RESOLUTION)!==o&&(this.set($i.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get($i.CENTER)||!Bl(this.get($i.CENTER),a))&&this.set($i.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=e!==void 0?e:200;const s=t||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,s,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,r,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=l,this.applyTargetState_();return}n=n||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==r||!this.getCenterInternal()||!Bl(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:a,duration:e,easing:_o,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(xt.INTERACTING,1)}endInteraction(e,t,n){n=n&&xn(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.setHint(xt.INTERACTING,-1),this.resolveConstraints(e,t,n)}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}function pl(i,e){setTimeout(function(){i(e)},0)}function qb(i){if(i.extent!==void 0){const t=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return Op(i.extent,i.constrainOnlyCenter,t)}const e=Td(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,Op(t,!1,!1)}return zb}function Zb(i){let e,t,n,o=i.minZoom!==void 0?i.minZoom:ku,a=i.maxZoom!==void 0?i.maxZoom:28;const l=i.zoomFactor!==void 0?i.zoomFactor:2,u=i.multiWorld!==void 0?i.multiWorld:!1,h=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,f=i.showFullExtent!==void 0?i.showFullExtent:!1,m=Td(i.projection,"EPSG:3857"),y=m.getExtent();let v=i.constrainOnlyCenter,E=i.extent;if(!u&&!E&&m.isGlobal()&&(v=!1,E=y),i.resolutions!==void 0){const b=i.resolutions;t=b[o],n=b[a]!==void 0?b[a]:b[b.length-1],i.constrainResolution?e=Hb(b,h,!v&&E,f):e=Pp(t,n,h,!v&&E,f)}else{const S=(y?Math.max(et(y),Ot(y)):360*aa.degrees/m.getMetersPerUnit())/tf/Math.pow(2,ku),A=S/Math.pow(2,28-ku);t=i.maxResolution,t!==void 0?o=0:t=S/Math.pow(l,o),n=i.minResolution,n===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?n=t/Math.pow(l,a):n=S/Math.pow(l,a):n=A),a=o+Math.floor(Math.log(t/n)/Math.log(l)),n=t/Math.pow(l,a-o),i.constrainResolution?e=Yb(l,t,n,h,!v&&E,f):e=Pp(t,n,h,!v&&E,f)}return{constraint:e,maxResolution:t,minResolution:n,minZoom:o,zoomFactor:l}}function Jb(i){if(i.enableRotation!==void 0?i.enableRotation:!0){const t=i.constrainRotation;return t===void 0||t===!0?Xb():t===!1?Mp:typeof t=="number"?Ub(t):Mp}return lf}function Qb(i){return!(i.sourceCenter&&i.targetCenter&&!Bl(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function Gu(i,e,t,n,s){const r=Math.cos(-s);let o=Math.sin(-s),a=i[0]*r-i[1]*o,l=i[1]*r+i[0]*o;a+=(e[0]/2-t[0])*n,l+=(t[1]-e[1]/2)*n,o=-o;const u=a*r-l*o,h=l*r+a*o;return[u,h]}const ss=Kb;class eS extends Mi{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){Xl(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&Xl(this.element);for(let t=0,n=this.listenerKeys.length;t<n;++t)pt(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==rr&&this.listenerKeys.push(qe(e,bn.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}const cf=eS;class tS extends cf{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const t=e.className!==void 0?e.className:"ol-attribution",n=e.tipLabel!==void 0?e.tipLabel:"Attributions",s=e.expandClassName!==void 0?e.expandClassName:t+"-expand",r=e.collapseLabel!==void 0?e.collapseLabel:"›",o=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=o):this.collapseLabel_=r;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=s):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Me.CLICK,this.handleClick_.bind(this),!1);const u=t+" "+jc+" "+Gd+(this.collapsed_&&this.collapsible_?" "+np:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=u,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t={},n=[];let s=!0;const r=e.layerStatesArray;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(!Wd(l,e.viewState))continue;const u=l.layer.getSource();if(!u)continue;const h=u.getAttributions();if(!h)continue;const f=h(e);if(f)if(s=s&&u.getAttributionsCollapsible()!==!1,Array.isArray(f))for(let m=0,y=f.length;m<y;++m)f[m]in t||(n.push(f[m]),t[f[m]]=!0);else f in t||(n.push(f),t[f]=!0)}return this.overrideCollapsible_||this.setCollapsible(s),n}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=this.collectSourceAttributions_(e),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!xs(t,this.renderedAttributions_)){V_(this.ulElement_);for(let s=0,r=t.length;s<r;++s){const o=document.createElement("li");o.innerHTML=t[s],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(np),this.collapsed_?ip(this.collapseLabel_,this.label_):ip(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}const iS=tS;class nS extends cf{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",n=e.label!==void 0?e.label:"⇧",s=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof n=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(s));const r=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),o.addEventListener(Me.CLICK,this.handleClick_.bind(this),!1);const a=t+" "+jc+" "+Gd,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ll)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const n=t.getRotation();n!==void 0&&(this.duration_>0&&n%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:_o}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const s="rotate("+n+"rad)";if(this.autoHide_){const r=this.element.classList.contains(ll);!r&&n===0?this.element.classList.add(ll):r&&n!==0&&this.element.classList.remove(ll)}this.label_.style.transform=s}this.rotation_=n}}const sS=nS;class rS extends cf{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",n=e.delta!==void 0?e.delta:1,s=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",r=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=l,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(Me.CLICK,this.handleClick_.bind(this,n),!1);const f=document.createElement("button");f.className=r,f.setAttribute("type","button"),f.title=u,f.appendChild(typeof a=="string"?document.createTextNode(a):a),f.addEventListener(Me.CLICK,this.handleClick_.bind(this,-n),!1);const m=t+" "+jc+" "+Gd,y=this.element;y.className=m,y.appendChild(h),y.appendChild(f),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const n=this.getMap().getView();if(!n)return;const s=n.getZoom();if(s!==void 0){const r=n.getConstrainedZoom(s+e);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:r,duration:this.duration_,easing:_o})):n.setZoom(r)}}}const oS=rS;function aS(i){i=i||{};const e=new an;return(i.zoom!==void 0?i.zoom:!0)&&e.push(new oS(i.zoomOptions)),(i.rotate!==void 0?i.rotate:!0)&&e.push(new sS(i.rotateOptions)),(i.attribution!==void 0?i.attribution:!0)&&e.push(new iS(i.attributionOptions)),e}const Dp={ACTIVE:"active"};class lS extends Mi{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Dp.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Dp.ACTIVE,e)}setMap(e){this.map_=e}}function cS(i,e,t){const n=i.getCenterInternal();if(n){const s=[n[0]+e[0],n[1]+e[1]];i.animateInternal({duration:t!==void 0?t:250,easing:vy,center:i.getConstrainedCenter(s)})}}function uf(i,e,t,n){const s=i.getZoom();if(s===void 0)return;const r=i.getConstrainedZoom(s+e),o=i.getResolutionForZoom(r);i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:o,anchor:t,duration:n!==void 0?n:250,easing:_o})}const Da=lS;class uS extends Da{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==Rt.DBLCLICK){const n=e.originalEvent,s=e.map,r=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_,a=s.getView();uf(a,o,r,this.duration_),n.preventDefault(),t=!0}return!t}}const hS=uS;class dS extends Da{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Rt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Rt.POINTERUP){const n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==Rt.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==Rt.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function hf(i){const e=i.length;let t=0,n=0;for(let s=0;s<e;s++)t+=i[s].clientX,n+=i[s].clientY;return{clientX:t/e,clientY:n/e}}const Fa=dS;function Dh(i){const e=arguments;return function(t){let n=!0;for(let s=0,r=e.length;s<r&&(n=n&&e[s](t),!!n);++s);return n}}const fS=function(i){const e=i.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},gS=function(i){const e=i.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},pS=function(i){const e=i.map.getTargetElement(),t=i.map.getOwnerDocument().activeElement;return e.contains(t)},Fy=function(i){return i.map.getTargetElement().hasAttribute("tabindex")?pS(i):!0},mS=ra,Ny=function(i){const e=i.originalEvent;return e.button==0&&!(Wx&&Bx&&e.ctrlKey)},ky=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},_S=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Gy=function(i){const e=i.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},ju=function(i){const e=i.originalEvent;return $e(e!==void 0,56),e.pointerType=="mouse"},yS=function(i){const e=i.originalEvent;return $e(e!==void 0,56),e.isPrimary&&e.button===0};class vS extends Fa{constructor(e){super({stopDown:Rc}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Dh(ky,yS);this.condition_=e.onFocusOnly?Dh(Fy,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,s=t.getEventPixel(hf(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const r=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],a=e.map.getView();b_(r,a.getResolution()),Cd(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),l=t.getCoordinateFromPixelInternal([a[0]-s*Math.cos(r),a[1]-s*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(l),duration:500,easing:_o})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const n=e.map.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const CS=vS;class ES extends Fa{constructor(e){e=e||{},super({stopDown:Rc}),this.condition_=e.condition?e.condition:gS,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!ju(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===lf)return;const s=t.getSize(),r=e.pixel,o=Math.atan2(s[1]/2-r[1],r[0]-s[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return ju(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return ju(e)&&Ny(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}const xS=ES;class TS extends ld{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",s=this.element_.style;s.left=Math.min(e[0],t[0])+n,s.top=Math.min(e[1],t[1])+n,s.width=Math.abs(t[0]-e[0])+n,s.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,s=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);s[4]=s[0].slice(),this.geometry_?this.geometry_.setCoordinates([s]):this.geometry_=new no([s])}getGeometry(){return this.geometry_}}const wS=TS,ml={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class $u extends gn{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}class bS extends Fa{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new wS(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Ny,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const s=n[0]-t[0],r=n[1]-t[1];return s*s+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new $u(ml.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new $u(t?ml.BOXEND:ml.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new $u(ml.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}const SS=bS;class RS extends SS{constructor(e){e=e||{};const t=e.condition?e.condition:_S;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const n=this.getMap().getView();let s=this.getGeometry();if(this.out_){const r=n.rotatedExtentForGeometry(s),o=n.getResolutionForExtentInternal(r),a=n.getResolution()/o;s=s.clone(),s.scale(a*a)}n.fitInternal(s,{duration:this.duration_,easing:_o})}}const AS=RS,js={LEFT:37,UP:38,RIGHT:39,DOWN:40};class IS extends Da{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return ky(t)&&Gy(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Me.KEYDOWN){const n=e.originalEvent,s=n.keyCode;if(this.condition_(e)&&(s==js.DOWN||s==js.LEFT||s==js.RIGHT||s==js.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,u=0;s==js.DOWN?u=-a:s==js.LEFT?l=-a:s==js.RIGHT?l=a:u=a;const h=[l,u];Cd(h,o.getRotation()),cS(o,h,this.duration_),n.preventDefault(),t=!0}}return!t}}const LS=IS;class OS extends Da{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:Gy,this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Me.KEYDOWN||e.type==Me.KEYPRESS){const n=e.originalEvent,s=n.charCode;if(this.condition_(e)&&(s=="+".charCodeAt(0)||s=="-".charCodeAt(0))){const r=e.map,o=s=="+".charCodeAt(0)?this.delta_:-this.delta_,a=r.getView();uf(a,o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}const PS=OS;class MS{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const s=this.points_[t+2]-this.points_[n+2];if(s<1e3/60)return!1;const r=this.points_[t]-this.points_[n],o=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/s,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const DS=MS;class FS extends Da{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:mS;this.condition_=e.onFocusOnly?Dh(Fy,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Me.WHEEL)return!0;const n=e.map,s=e.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let r;if(e.type==Me.WHEEL&&(r=s.deltaY,$x&&s.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=hd),s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),r===0)return!1;this.lastDelta_=r;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const a=n.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=r;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),l),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-Dt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),uf(t,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}const NS=FS;class kS extends Fa{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Rc),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],s=this.targetPointers[1],r=Math.atan2(s.clientY-n.clientY,s.clientX-n.clientX);if(this.lastAngle_!==void 0){const l=r-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=r;const o=e.map,a=o.getView();a.getConstraints().rotation!==lf&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(hf(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}const GS=kS;class jS extends Fa{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Rc),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],s=this.targetPointers[1],r=n.clientX-s.clientX,o=n.clientY-s.clientY,a=Math.sqrt(r*r+o*o);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,u=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(hf(this.targetPointers))),l.render(),u.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const n=e.map.getView(),s=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,s),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}const $S=jS;function VS(i){i=i||{};const e=new an,t=new DS(-.005,.05,100);return(i.altShiftDragRotate!==void 0?i.altShiftDragRotate:!0)&&e.push(new xS),(i.doubleClickZoom!==void 0?i.doubleClickZoom:!0)&&e.push(new hS({delta:i.zoomDelta,duration:i.zoomDuration})),(i.dragPan!==void 0?i.dragPan:!0)&&e.push(new CS({onFocusOnly:i.onFocusOnly,kinetic:t})),(i.pinchRotate!==void 0?i.pinchRotate:!0)&&e.push(new GS),(i.pinchZoom!==void 0?i.pinchZoom:!0)&&e.push(new $S({duration:i.zoomDuration})),(i.keyboard!==void 0?i.keyboard:!0)&&(e.push(new LS),e.push(new PS({delta:i.zoomDelta,duration:i.zoomDuration}))),(i.mouseWheelZoom!==void 0?i.mouseWheelZoom:!0)&&e.push(new NS({onFocusOnly:i.onFocusOnly,duration:i.zoomDuration})),(i.shiftDragZoom!==void 0?i.shiftDragZoom:!0)&&e.push(new AS({duration:i.zoomDuration})),e}function jy(i){if(i instanceof mo){i.setMapInternal(null);return}i instanceof lr&&i.getLayers().forEach(jy)}function $y(i,e){if(i instanceof mo){i.setMapInternal(e);return}if(i instanceof lr){const t=i.getLayers().getArray();for(let n=0,s=t.length;n<s;++n)$y(t[n],e)}}let WS=class extends Mi{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=BS(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:hd,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Ei(),this.pixelToCoordinateTransform_=Ei(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||aS(),this.interactions=t.interactions||VS({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Wb(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Kt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Kt.VIEW,this.handleViewChanged_),this.addChangeListener(Kt.SIZE,this.handleSizeChanged_),this.addChangeListener(Kt.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const n=this;e.view&&!(e.view instanceof ss)&&e.view.then(function(s){n.setView(new ss(s))}),this.controls.addEventListener(fi.ADD,s=>{s.element.setMap(this)}),this.controls.addEventListener(fi.REMOVE,s=>{s.element.setMap(null)}),this.interactions.addEventListener(fi.ADD,s=>{s.element.setMap(this)}),this.interactions.addEventListener(fi.REMOVE,s=>{s.element.setMap(null)}),this.overlays_.addEventListener(fi.ADD,s=>{this.addOverlayInternal_(s.element)}),this.overlays_.addEventListener(fi.REMOVE,s=>{const r=s.element.getId();r!==void 0&&delete this.overlayIdIndex_[r.toString()],s.element.setMap(null)}),this.controls.forEach(s=>{s.setMap(this)}),this.interactions.forEach(s=>{s.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){$y(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,n){if(!this.frameState_||!this.renderer_)return;const s=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const r=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.layerFilter!==void 0?n.layerFilter:ra,a=n.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(s,this.frameState_,r,a,t,null,o,null)}getFeaturesAtPixel(e,t){const n=[];return this.forEachFeatureAtPixel(e,function(s){n.push(s)},t),n}getAllLayers(){const e=[];function t(n){n.forEach(function(s){s instanceof lr?t(s.getLayers()):e.push(s)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const s=t.layerFilter!==void 0?t.layerFilter:ra,r=t.hitTolerance!==void 0?t.hitTolerance:0,o=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,s,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const n=this.viewport_.getBoundingClientRect(),s=this.getSize(),r=n.width/s[0],o=n.height/s[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-n.left)/r,(a.clientY-n.top)/o]}getTarget(){return this.get(Kt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Eh(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?Mt(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Kt.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof an){t.setLayers(e);return}const n=t.getLayers();n.clear(),n.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const s=e[t];if(!s.visible)continue;const r=s.layer.getRenderer();if(r&&!r.ready)return!0;const o=s.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const t=xn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?Mt(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Kt.SIZE)}getView(){return this.get(Kt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,n,s){return Bb(this.frameState_,e,t,n,s)}handleBrowserEvent(e,t){t=t||e.type;const n=new ts(t,this,e);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,n=t.type;if(n===Mh.POINTERDOWN||n===Me.WHEEL||n===Me.KEYDOWN){const s=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():s,o=t.target;if(this.overlayContainerStopEvent_.contains(o)||!(r===s?s.documentElement:r).contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const s=this.getInteractions().getArray().slice();for(let r=s.length-1;r>=0;r--){const o=s[r];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let s=this.maxTilesLoading_,r=s;if(e){const o=e.viewHints;if(o[xt.ANIMATING]||o[xt.INTERACTING]){const a=Date.now()-e.time>8;s=a?0:8,r=a?0:2}}t.getTilesLoading()<s&&(t.reprioritize(),t.loadMoreTiles(s,r))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(ds.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(ds.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Or(bn.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Or(bn.LOADSTART,this,e))));const n=this.postRenderFunctions_;for(let s=0,r=n.length;s<r;++s)n[s](this,e);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let n=0,s=this.targetChangeHandlerKeys_.length;n<s;++n)pt(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Me.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Me.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Xl(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Db(this)),this.mapBrowserEventHandler_=new Gb(this,this.moveTolerance_);for(const r in Rt)this.mapBrowserEventHandler_.addEventListener(Rt[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Me.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Me.WHEEL,this.boundHandleBrowserEvent_,y_?{passive:!1}:!1);const n=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[qe(n,Me.KEYDOWN,this.handleBrowserEvent,this),qe(n,Me.KEYPRESS,this.handleBrowserEvent,this)];const s=t.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(pt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(pt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=qe(e,eo.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=qe(e,Me.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(pt),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new ns("addlayer",e)),this.layerGroupPropertyListenerKeys_=[qe(e,eo.PROPERTYCHANGE,this.render,this),qe(e,Me.CHANGE,this.render,this),qe(e,"addlayer",this.handleLayerAdd_,this),qe(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const s=e[t].layer;s.hasRenderer()&&s.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){jy(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),n=this.getView(),s=this.frameState_;let r=null;if(t!==void 0&&ep(t)&&n&&n.isDef()){const o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Hr(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:je(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;r.nextExtent=Hr(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),s&&(!this.previousExtent_||!Fc(this.previousExtent_)&&!ar(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Or(bn.MOVESTART,this,s)),this.previousExtent_=Oc(this.previousExtent_)),this.previousExtent_&&!r.viewHints[xt.ANIMATING]&&!r.viewHints[xt.INTERACTING]&&!ar(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Or(bn.MOVEEND,this,r)),C_(r.extent,this.previousExtent_))),this.dispatchEvent(new Or(bn.POSTRENDER,this,r)),this.renderComplete_=this.hasListener(bn.LOADSTART)||this.hasListener(bn.LOADEND)||this.hasListener(ds.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new ns("removelayer",t)),this.set(Kt.LAYERGROUP,e)}setSize(e){this.set(Kt.SIZE,e)}setTarget(e){this.set(Kt.TARGET,e)}setView(e){if(!e||e instanceof ss){this.set(Kt.VIEW,e);return}this.set(Kt.VIEW,new ss);const t=this;e.then(function(n){t.setView(new ss(n))})}updateSize(){const e=this.getTargetElement();let t;if(e){const s=getComputedStyle(e),r=e.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),o=e.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth);!isNaN(r)&&!isNaN(o)&&(t=[r,o],!ep(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&A_("No map visible because the map container's width or height are 0."))}const n=this.getSize();t&&(!n||!xs(t,n))&&(this.setSize(t),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let t;const n=getComputedStyle(this.viewport_);n.width&&n.height&&(t=[parseInt(n.width,10),parseInt(n.height,10)]),e.setViewportSize(t)}}};function BS(i){let e=null;i.keyboardEventTarget!==void 0&&(e=typeof i.keyboardEventTarget=="string"?document.getElementById(i.keyboardEventTarget):i.keyboardEventTarget);const t={},n=i.layers&&typeof i.layers.getLayers=="function"?i.layers:new lr({layers:i.layers});t[Kt.LAYERGROUP]=n,t[Kt.TARGET]=i.target,t[Kt.VIEW]=i.view instanceof ss?i.view:new ss;let s;i.controls!==void 0&&(Array.isArray(i.controls)?s=new an(i.controls.slice()):($e(typeof i.controls.getArray=="function",47),s=i.controls));let r;i.interactions!==void 0&&(Array.isArray(i.interactions)?r=new an(i.interactions.slice()):($e(typeof i.interactions.getArray=="function",48),r=i.interactions));let o;return i.overlays!==void 0?Array.isArray(i.overlays)?o=new an(i.overlays.slice()):($e(typeof i.overlays.getArray=="function",49),o=i.overlays):o=new an,{controls:s,interactions:r,keyboardEventTarget:e,overlays:o,values:t}}const Hs=WS;class zS extends q_{constructor(e,t,n,s,r,o,a){const l=e.getExtent(),u=t.getExtent(),h=u?Mn(n,u):n,f=Oi(h),m=Ca(e,t,f,s),y=Ey,v=new xy(e,t,h,l,m*y,s),E=v.calculateSourceExtent(),b=o(E,m,r),S=b?ze.IDLE:ze.EMPTY,A=b?b.getPixelRatio():1;super(n,s,A,S),this.targetProj_=t,this.maxSourceExtent_=l,this.triangulation_=v,this.targetResolution_=s,this.targetExtent_=n,this.sourceImage_=b,this.sourcePixelRatio_=A,this.interpolate_=a,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==ze.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==ze.LOADED){const t=et(this.targetExtent_)/this.targetResolution_,n=Ot(this.targetExtent_)/this.targetResolution_;this.canvas_=Ty(t,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e,this.changed()}load(){if(this.state==ze.IDLE){this.state=ze.LOADING,this.changed();const e=this.sourceImage_.getState();e==ze.LOADED||e==ze.ERROR?this.reproject_():(this.sourceListenerKey_=qe(this.sourceImage_,Me.CHANGE,function(t){const n=this.sourceImage_.getState();(n==ze.LOADED||n==ze.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}unlistenSource_(){pt(this.sourceListenerKey_),this.sourceListenerKey_=null}}const HS=zS,Vu={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class YS extends gn{constructor(e,t){super(e),this.image=t}}class Vy extends Yd{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const n=Sc(t,e,0);e=t[n]}return e}getImage(e,t,n,s){const r=this.getProjection();if(!r||!s||In(r,s))return r&&(s=r),this.getImageInternal(e,t,n,s);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&In(this.reprojectedImage_.getProjection(),s)&&this.reprojectedImage_.getResolution()==t&&ar(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new HS(r,s,e,t,n,(o,a,l)=>this.getImageInternal(o,a,l,r),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,s){return Le()}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case ze.LOADING:this.loading=!0,n=Vu.IMAGELOADSTART;break;case ze.LOADED:this.loading=!1,n=Vu.IMAGELOADEND;break;case ze.ERROR:this.loading=!1,n=Vu.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new YS(n,t))}}function df(i,e){i.getImage().src=e}class US extends mo{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(ls.PRELOAD)}setPreload(e){this.set(ls.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(ls.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(ls.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const XS=US;class KS extends XS{constructor(e){super(e)}createRenderer(){return new Sy(this)}}const Xo=KS;class qS extends Dy{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ZS,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Cy,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const n=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==n?t:{});for(const s in this.tileCacheForProjection){const r=this.tileCacheForProjection[s];r.expireCache(r==n?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!In(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!In(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||In(t,e)))return this.tileGrid;const n=je(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=sf(e)),this.tileGridForProjection[n]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||In(t,e))return this.tileCache;const n=je(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new ef(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}createTile_(e,t,n,s,r,o){const a=[e,t,n],l=this.getTileCoordForTileUrlFunction(a,r),u=l?this.tileUrlFunction(l,s,r):void 0,h=new this.tileClass(a,u!==void 0?me.IDLE:me.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(Me.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,t,n,s,r){const o=this.getProjection();if(!o||!r||In(o,r))return this.getTileInternal(e,t,n,s,o||r);const a=this.getTileCacheForProjection(r),l=[e,t,n];let u;const h=Ay(l);a.containsKey(h)&&(u=a.get(h));const f=this.getKey();if(u&&u.key==f)return u;const m=this.getTileGridForProjection(o),y=this.getTileGridForProjection(r),v=this.getTileCoordForTileUrlFunction(l,r),E=new Oh(o,m,r,y,l,v,this.getTilePixelRatio(s),this.getGutter(),(b,S,A,R)=>this.getTileInternal(b,S,A,R,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return E.key=f,u?(E.interimTile=u,E.refreshInterimChain(),a.replace(h,E)):a.set(h,E),E}getTileInternal(e,t,n,s,r){let o=null;const a=yo(e,t,n),l=this.getKey();if(!this.tileCache.containsKey(a))o=this.createTile_(e,t,n,s,r,l),this.tileCache.set(a,o);else if(o=this.tileCache.get(a),o.key!=l){const u=o;o=this.createTile_(e,t,n,s,r,l),u.getState()==me.IDLE?o.interimTile=u.interimTile:o.interimTile=u,o.refreshInterimChain(),this.tileCache.replace(a,o)}return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const n=yt(e);if(n){const s=je(n);s in this.tileGridForProjection||(this.tileGridForProjection[s]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function ZS(i,e){i.getImage().src=e}const Hc=qS;const JS={props:{onClose:{type:Function,default:()=>{}},onChangLayerVisible:{type:Function,default:()=>{}},onDeleteLayer:{type:Function,default:()=>{}},onLockLayer:{type:Function,default:()=>{}},onChangeOrderLayer:{type:Function,default:()=>{}},currentLayers:{type:Array,default:[]},selectLock:{type:Boolean,default:!1}},setup(i,{emit:e}){const t=fn({lock:!1});return{props:i,state:t}}},Wn=i=>(td("data-v-34b01027"),i=i(),id(),i),QS={class:"rounded-4 bg-white"},eR={class:"row mx-0 align-items-center flex-nowrap text-center p-2 fw-bold"},tR=Wn(()=>Y("p",{class:"mb-0"},"已選擇的圖層",-1)),iR=Wn(()=>Y("svg",{width:"32",height:"32",viewBox:"0 0 24 24"},[Y("path",{fill:"currentColor",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10zm0-11.414L9.172 7.757L7.757 9.172L10.586 12l-2.829 2.828l1.415 1.415L12 13.414l2.828 2.829l1.415-1.415L13.414 12l2.829-2.828l-1.415-1.415L12 10.586z"})],-1)),nR=[iR],sR=Wn(()=>Y("hr",{class:"my-0"},null,-1)),rR={class:"py-3 px-4 content"},oR={class:"allControl d-flex align-items-center justify-content-end mb-0"},aR=Wn(()=>Y("svg",{viewBox:"0 0 25 24",fill:"currentColor"},[Y("path",{d:"M8.02381 9.33333H14.881V7.80952C14.881 7.1746 14.6587 6.63492 14.2143 6.19048C13.7698 5.74603 13.2302 5.52381 12.5952 5.52381C11.9603 5.52381 11.4206 5.74603 10.9762 6.19048C10.5317 6.63492 10.3095 7.1746 10.3095 7.80952H8.78571C8.78571 6.75556 9.15727 5.85702 9.90038 5.1139C10.643 4.3713 11.5413 4 12.5952 4C13.6492 4 14.5477 4.3713 15.2909 5.1139C16.0335 5.85702 16.4048 6.75556 16.4048 7.80952V9.33333H17.1667C17.5857 9.33333 17.9446 9.48241 18.2432 9.78057C18.5414 10.0792 18.6905 10.4381 18.6905 10.8571V18.4762C18.6905 18.8952 18.5414 19.2541 18.2432 19.5528C17.9446 19.8509 17.5857 20 17.1667 20H8.02381C7.60476 20 7.24616 19.8509 6.948 19.5528C6.64933 19.2541 6.5 18.8952 6.5 18.4762V10.8571C6.5 10.4381 6.64933 10.0792 6.948 9.78057C7.24616 9.48241 7.60476 9.33333 8.02381 9.33333ZM12.5952 16.1905C13.0143 16.1905 13.3731 16.0414 13.6718 15.7432C13.97 15.4446 14.119 15.0857 14.119 14.6667C14.119 14.2476 13.97 13.8888 13.6718 13.5901C13.3731 13.2919 13.0143 13.1429 12.5952 13.1429C12.1762 13.1429 11.8176 13.2919 11.5194 13.5901C11.2208 13.8888 11.0714 14.2476 11.0714 14.6667C11.0714 15.0857 11.2208 15.4446 11.5194 15.7432C11.8176 16.0414 12.1762 16.1905 12.5952 16.1905Z"})],-1)),lR=Wn(()=>Y("svg",{viewBox:"0 0 25 24",fill:"currentColor"},[Y("path",{d:"M7.5 21C6.95 21 6.47933 20.8043 6.088 20.413C5.696 20.021 5.5 19.55 5.5 19V6H4.5V4H9.5V3H15.5V4H20.5V6H19.5V19C19.5 19.55 19.3043 20.021 18.913 20.413C18.521 20.8043 18.05 21 17.5 21H7.5ZM9.5 17H11.5V8H9.5V17ZM13.5 17H15.5V8H13.5V17Z"})],-1)),cR={class:"list-unstyled d-flex flex-wrap flex-column-reverse"},uR={key:0,class:"d-flex justify-content-between align-items-center border-bottom py-2"},hR={class:"tool"},dR=["onClick"],fR=Wn(()=>Y("svg",{viewBox:"0 0 25 24",fill:"currentColor"},[Y("path",{d:"M9.49991 19.84H15.4999V11.84H20.3399L12.4999 4.00003L4.65991 11.84H9.49991V19.84Z",fill:"#808080"})],-1)),gR=[fR],pR=["onClick"],mR=Wn(()=>Y("svg",{viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Y("path",{d:"M9.49991 4H15.4999V12H20.3399L12.4999 19.84L4.65991 12H9.49991V4Z",fill:"#808080"})],-1)),_R=[mR],yR=["onClick"],vR=Wn(()=>Y("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[Y("path",{d:"M12.3333 10C11.8029 10 11.2942 10.2107 10.9191 10.5858C10.544 10.9609 10.3333 11.4696 10.3333 12C10.3333 12.5304 10.544 13.0391 10.9191 13.4142C11.2942 13.7893 11.8029 14 12.3333 14C12.8638 14 13.3725 13.7893 13.7475 13.4142C14.1226 13.0391 14.3333 12.5304 14.3333 12C14.3333 11.4696 14.1226 10.9609 13.7475 10.5858C13.3725 10.2107 12.8638 10 12.3333 10ZM12.3333 15.3333C11.4493 15.3333 10.6014 14.9821 9.97631 14.357C9.35119 13.7319 9 12.8841 9 12C9 11.1159 9.35119 10.2681 9.97631 9.64298C10.6014 9.01786 11.4493 8.66667 12.3333 8.66667C13.2174 8.66667 14.0652 9.01786 14.6904 9.64298C15.3155 10.2681 15.6667 11.1159 15.6667 12C15.6667 12.8841 15.3155 13.7319 14.6904 14.357C14.0652 14.9821 13.2174 15.3333 12.3333 15.3333ZM12.3333 7C9 7 6.15333 9.07333 5 12C6.15333 14.9267 9 17 12.3333 17C15.6667 17 18.5133 14.9267 19.6667 12C18.5133 9.07333 15.6667 7 12.3333 7Z",fill:"#808080"})],-1)),CR=[vR],ER=["onClick"],xR=Wn(()=>Y("svg",{viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Y("path",{d:"M7.5 21C6.95 21 6.47933 20.8043 6.088 20.413C5.696 20.021 5.5 19.55 5.5 19V6H4.5V4H9.5V3H15.5V4H20.5V6H19.5V19C19.5 19.55 19.3043 20.021 18.913 20.413C18.521 20.8043 18.05 21 17.5 21H7.5ZM9.5 17H11.5V8H9.5V17ZM13.5 17H15.5V8H13.5V17Z",fill:"#808080"})],-1)),TR=[xR];function wR(i,e,t,n,s,r){return it(),ot("div",QS,[Y("div",eR,[tR,Y("a",{href:"",class:"closeBtn position-absolute col-auto",onClick:e[0]||(e[0]=It((...o)=>n.props.onClose&&n.props.onClose(...o),["prevent"]))},nR)]),sR,Y("div",rR,[Y("div",oR,[Y("a",{href:"",class:Yi(["d-flex align-items-center text-decoration-none me-4",{lockUp:n.props.selectLock,unlock:!n.props.selectLock}]),onClick:e[1]||(e[1]=It(()=>{n.props.onLockLayer()},["prevent"]))},[aR,Sn(" 鎖定圖層 ")],2),Y("a",{href:"",class:Yi(["d-flex align-items-center text-decoration-none",{disabled:n.props.currentLayers.length<=1}]),onClick:e[2]||(e[2]=It(()=>{n.props.currentLayers.length>0&&n.props.onDeleteLayer({action:"selectLayerMode",value:{layerName:"all"}})},["prevent"]))},[lR,Sn(" 全部刪除 ")],2)]),Y("ul",cR,[(it(!0),ot(Ii,null,sd(n.props.currentLayers,(o,a)=>(it(),ot("li",null,[a!==0?(it(),ot("div",uR,[Y("div",null,Jo(a)+" "+Jo(o==null?void 0:o.name),1),Y("div",hR,[Y("a",{href:"",onClick:It(l=>n.props.onChangeOrderLayer({action:"changeOrder",value:{movement:"up",key:a}}),["prevent"])},gR,8,dR),Y("a",{href:"",onClick:It(l=>n.props.onChangeOrderLayer({action:"changeOrder",value:{movement:"down",key:a}}),["prevent"])},_R,8,pR),Y("a",{href:"",class:Yi({Invisible:!(o!=null&&o.visible)}),onClick:It(()=>{n.props.onChangLayerVisible({action:"changeLayerVisible",value:{key:a}})},["prevent"])},CR,10,yR),Y("a",{href:"",onClick:It(l=>n.props.onDeleteLayer({action:"selectLayerMode",value:{layerName:o==null?void 0:o.name}}),["prevent"])},TR,8,ER)])])):di("",!0)]))),256))])])])}const bR=Es(JS,[["render",wR],["__scopeId","data-v-34b01027"]]),SR="/Map_Demo/assets/coreLayerIcon-aa4fdbad.svg",RR="/Map_Demo/assets/satelliteImageryIcon-f29d1640.svg",AR="/Map_Demo/assets/aerialPhotoIcon-30b5fbcf.svg",IR="/Map_Demo/assets/aerialLayerIcon-55d99ce0.svg",LR="/Map_Demo/assets/landBoundary-ed4f0b44.svg",OR="/Map_Demo/assets/landMark-229c2f50.svg";const PR={props:{onClose:{type:Function,default:()=>{}},mapLayers:{type:Array,default:[]},currentLayers:{type:Array,default:[]}},setup(i,{emit:e}){const t=fn({currentConditionPage:"coreLayer"});function n(o,a){e("onMapControl",{action:o,value:a})}function s(o,a,l){e("onLayerControl",{action:o,value:a,layerName:l})}function r(o){Rr(`.${o} .title`).find("svg").hasClass("openTitle")?(Rr(`.${o} .wrap`).slideUp(),Rr(`.${o} .title`).find("svg").removeClass("openTitle")):(Rr(`.${o} .wrap`).slideDown(),Rr(`.${o} .title`).find("svg").addClass("openTitle"))}return{props:i,state:t,onMapControl:n,onLayerControl:s,open:r}}},pn=i=>(td("data-v-25a75894"),i=i(),id(),i),MR={class:"rounded-4 bg-white"},DR={class:"row mx-0 align-items-center flex-nowrap text-center p-2 fw-bold"},FR=pn(()=>Y("p",{class:"mb-0"},"圖層選項",-1)),NR=pn(()=>Y("svg",{width:"32",height:"32",viewBox:"0 0 24 24"},[Y("path",{fill:"currentColor",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10zm0-11.414L9.172 7.757L7.757 9.172L10.586 12l-2.829 2.828l1.415 1.415L12 13.414l2.828 2.829l1.415-1.415L13.414 12l2.829-2.828l-1.415-1.415L12 10.586z"})],-1)),kR=[NR],GR={class:"LayerType row flex-nowrap mx-0"},jR=pn(()=>Y("img",{src:SR,alt:"zoomIn"},null,-1)),$R=pn(()=>Y("img",{src:RR,alt:"zoomIn"},null,-1)),VR=pn(()=>Y("img",{src:AR,alt:"zoomIn"},null,-1)),WR=pn(()=>Y("img",{src:IR,alt:"zoomIn"},null,-1)),BR={class:"py-3 px-4 content"},zR={key:0},HR={class:"mb-2 landBoundary"},YR=pn(()=>Y("img",{src:LR,alt:""},null,-1)),UR=pn(()=>Y("svg",{viewBox:"0 0 24 24"},[Y("path",{fill:"currentColor",d:"M8 5v14l11-7z"})],-1)),XR={class:"wrap"},KR=["name","id","checked","onChange"],qR=["for"],ZR={class:"mb-2 landMark"},JR=pn(()=>Y("img",{src:OR,alt:""},null,-1)),QR=pn(()=>Y("svg",{viewBox:"0 0 24 24"},[Y("path",{fill:"currentColor",d:"M8 5v14l11-7z"})],-1)),eA=LE('<div class="wrap" data-v-25a75894><div data-v-25a75894><input type="checkbox" data-v-25a75894><label for="" data-v-25a75894>高鐵</label></div><div data-v-25a75894><input type="checkbox" data-v-25a75894><label for="" data-v-25a75894>台鐵</label></div><div data-v-25a75894><input type="checkbox" data-v-25a75894><label for="" data-v-25a75894>台鐵車站</label></div><div data-v-25a75894><input type="checkbox" data-v-25a75894><label for="" data-v-25a75894>捷運</label></div><div data-v-25a75894><input type="checkbox" data-v-25a75894><label for="" data-v-25a75894>路網地名混合圖</label></div><div data-v-25a75894><input type="checkbox" data-v-25a75894><label for="" data-v-25a75894>原住民部落聯絡道</label></div></div>',1),tA={key:1},iA={key:2},nA={key:3};function sA(i,e,t,n,s,r){return it(),ot("div",MR,[Y("div",DR,[FR,Y("a",{href:"",class:"closeBtn position-absolute col-auto",onClick:e[0]||(e[0]=It((...o)=>n.props.onClose&&n.props.onClose(...o),["prevent"]))},kR)]),Y("div",GR,[Y("button",{onClick:e[1]||(e[1]=o=>n.state.currentConditionPage="coreLayer"),class:"border-0 py-2 px-2 col text-center text-white text-decoration-none col-3"},[jR,Sn(" 核心圖層 ")]),Y("button",{onClick:e[2]||(e[2]=o=>n.state.currentConditionPage="satelliteImagery"),class:"border-0 py-2 px-2 col text-center text-white text-decoration-none col-3"},[$R,Sn(" 衛星影像 ")]),Y("button",{onClick:e[3]||(e[3]=o=>n.state.currentConditionPage="aerialPhoto"),class:"border-0 py-2 px-2 col text-center text-white text-decoration-none col-3"},[VR,Sn(" 航空照片 ")]),Y("button",{onClick:e[4]||(e[4]=o=>n.state.currentConditionPage="aerialLayer"),class:"border-0 py-2 px-2 col text-center text-white text-decoration-none col-3"},[WR,Sn(" 空拍圖層 ")])]),Y("div",BR,[n.state.currentConditionPage==="coreLayer"?(it(),ot("div",zR,[Y("div",HR,[Y("div",{class:"title d-flex align-items-center fw-bold text-black order-1 mb-0 text-decoration-none",onClick:e[5]||(e[5]=o=>n.open("landBoundary"))},[YR,Sn(" 行政及土地區界 "),UR]),Y("div",XR,[Y("div",null,[Y("div",{class:"text-blue",onClick:e[6]||(e[6]=It(o=>n.onMapControl("moveTo",{xAxis:-87.359296,yAxis:35.00118}),["prevent"]))},"go前往區域範例 ")]),Y("div",null,[Y("div",{class:"text-blue",onClick:e[7]||(e[7]=It(o=>n.onMapControl("moveTo",{xAxis:-98.144457,yAxis:26.178938}),["prevent"]))},"go前往示範案例(america) ")]),(it(!0),ot(Ii,null,sd(n.props.mapLayers,(o,a)=>(it(),ot("div",null,[Y("input",{type:"checkbox",name:`example${a}`,id:`example${a}`,checked:n.props.currentLayers.some(l=>l.name===o),onChange:l=>{n.onLayerControl("layerMode",{checked:l.target.checked,layerName:o})}},null,40,KR),Y("label",{for:`example${a}`},Jo(o),9,qR)]))),256))])]),Y("div",ZR,[Y("div",{class:"title d-flex align-items-center fw-bold text-black order-1 mb-0 text-decoration-none",onClick:e[8]||(e[8]=o=>n.open("landMark"))},[JR,Sn(" 路網與地標 "),QR]),eA])])):di("",!0),n.state.currentConditionPage==="satelliteImagery"?(it(),ot("div",tA,"2")):di("",!0),n.state.currentConditionPage==="aerialPhoto"?(it(),ot("div",iA,"3")):di("",!0),n.state.currentConditionPage==="aerialLayer"?(it(),ot("div",nA,"4")):di("",!0)])])}const rA=Es(PR,[["render",sA],["__scopeId","data-v-25a75894"]]),oA="/Map_Demo/assets/zoomIn-c80b5dd3.svg",aA="/Map_Demo/assets/zoomOut-88993246.svg",lA="/Map_Demo/assets/compass-1c1efd7a.svg",cA="/Map_Demo/assets/location-b52d62b2.svg",uA="/Map_Demo/assets/zoom-8acdf5b3.svg",hA={props:{id:{Type:String,default:0},map:{}},setup(i,{emit:e}){function t(n){e("onMapControl",{action:n})}return{onMapControl:t}}},dA={class:"d-flex flex-nowrap flex-column"},fA=Y("img",{src:oA,alt:"zoomIn"},null,-1),gA=[fA],pA=Y("img",{src:aA,alt:"zoomOut"},null,-1),mA=[pA],_A=Y("img",{src:lA,alt:"compass"},null,-1),yA=[_A],vA=Y("img",{src:cA,alt:"location"},null,-1),CA=[vA],EA=Y("img",{src:uA,alt:"zoom"},null,-1),xA=[EA];function TA(i,e,t,n,s,r){return it(),ot("div",dA,[Y("a",{href:"",class:"asideTool-btn order-1 mb-0",onClick:e[0]||(e[0]=It(o=>n.onMapControl("In"),["prevent"]))},gA),Y("a",{href:"",class:"asideTool-btn order-1 mb-2",onClick:e[1]||(e[1]=It(o=>n.onMapControl("Out"),["prevent"]))},mA),Y("a",{href:"",class:"asideTool-btn order-1 mb-2",onClick:e[2]||(e[2]=It(o=>n.onMapControl("toNorth"),["prevent"]))},yA),Y("a",{href:"",class:"asideTool-btn order-1 mb-2",onClick:e[3]||(e[3]=It(o=>n.onMapControl("moveTo"),["prevent"]))},CA),Y("a",{href:"",class:"asideTool-btn order-1 mb-2",onClick:e[4]||(e[4]=It(o=>n.onMapControl("fullScreen"),["prevent"]))},xA)])}const wA=Es(hA,[["render",TA]]);const bA={props:{baseMapsOptions:{type:Array,default:[]},onChangeBaseMaps:{type:Function,default:()=>{}}},setup(i,{emit:e}){const t=fn({selectMap:i.baseMapsOptions[0]});function n(s){let r="baseMap",o={checked:!0,layerName:t.selectMap};e("onChangeBaseMaps",{action:r,value:o})}return{state:t,props:i,onChangeBaseMaps:n}}},SA=["value"];function RA(i,e,t,n,s,r){return it(),ot("div",null,[aE(Y("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=o=>n.state.selectMap=o),onChange:e[1]||(e[1]=o=>{n.onChangeBaseMaps()})},[(it(!0),ot(Ii,null,sd(n.props.baseMapsOptions,(o,a)=>(it(),ot("option",{value:o.name},Jo(o.label),9,SA))),256))],544),[[sx,n.state.selectMap]])])}const AA=Es(bA,[["render",RA],["__scopeId","data-v-485263dd"]]),IA="/Map_Demo/assets/twoDimensional-a98be995.svg",LA="/Map_Demo/assets/threeDimensional-53ca5816.svg",OA="/Map_Demo/assets/baseLayer-bfe09163.svg",Wy="/Map_Demo/assets/singleWindow-a5fb901a.svg",By="/Map_Demo/assets/doubleWindows-dfb5c9e8.svg";const PA={props:{currentLayers:{type:Array,default:[]},mapCount:{type:Number,default:1},dimensionMapStatus:{type:Boolean,default:!1}},setup(i,{emit:e}){const t=fn({toolSwitch:{threeDimensionalBtn:!1,layerConditionBtn:!1,splitWindowBtn:!1},targetNum:1});function n(a,l){Object.keys(t.toolSwitch).forEach(u=>{u===a?t.toolSwitch[a]?t.toolSwitch[a]=!1:t.toolSwitch[a]=!0:t.toolSwitch[u]=!1})}function s(a,l){a==="changeMapCount"&&(t.toolSwitch.splitWindowBtn=!1),e("onLayerControl",{action:a,value:l})}function r(){e("conditionWrap")}function o(a){t.targetNum=a,e("onChangeTarget",a)}return{props:i,state:t,toolSwitch:n,onLayerControl:s,conditionWrap:r,onChangeTarget:o}}},MA={class:"list-unstyled d-flex align-items-center flex-nowrap"},DA={class:"me-4 position-relative"},FA={class:"MapFeatureBtn text-white"},NA=Y("img",{src:IA},null,-1),kA=[NA],GA=Y("img",{src:LA},null,-1),jA=[GA],$A={class:"me-4 position-relative"},VA=Y("img",{src:OA,alt:""},null,-1),WA=[VA],BA={class:"me-4 position-relative"},zA={key:0,src:Wy,alt:""},HA={key:1,src:By,alt:""},YA={key:0,class:"list-unstyled position-absolute start-0 top-100 p-0"},UA={class:"mt-2"},XA=Y("img",{src:Wy,alt:""},null,-1),KA=[XA],qA={class:"mt-2"},ZA=Y("img",{src:By,alt:""},null,-1),JA=[ZA],QA={class:"switchControl d-flex position-fixed rounded-pill translate-middle-x p-2",id:"switchControl",style:{"z-index":"99"}};function eI(i,e,t,n,s,r){return it(),ot("div",null,[Y("ul",MA,[Y("li",DA,[Y("div",FA,[n.props.dimensionMapStatus?(it(),ot("a",{key:0,href:"",onClick:e[0]||(e[0]=It(o=>(n.toolSwitch("threeDimensionalBtn"),n.onLayerControl("changeDimensionMap","3D")),["prevent"]))},kA)):(it(),ot("a",{key:1,href:"",onClick:e[1]||(e[1]=It(o=>(n.toolSwitch("threeDimensionalBtn"),n.onLayerControl("changeDimensionMap","2D")),["prevent"]))},jA))])]),Y("li",$A,[Y("a",{href:"",class:"MapFeatureBtn text-white",onClick:e[2]||(e[2]=It(o=>(n.toolSwitch("layerConditionBtn"),n.conditionWrap()),["prevent"]))},WA)]),Y("li",BA,[Y("a",{href:"",class:"MapFeatureBtn text-white",onClick:e[3]||(e[3]=It(o=>n.toolSwitch("splitWindowBtn"),["prevent"]))},[n.props.mapCount===1?(it(),ot("img",zA)):di("",!0),n.props.mapCount===2?(it(),ot("img",HA)):di("",!0)]),n.state.toolSwitch.splitWindowBtn?(it(),ot("ul",YA,[Y("li",UA,[Y("a",{href:"",class:"text-white MapFeatureBtn",onClick:e[4]||(e[4]=It(o=>n.onLayerControl("changeMapCount",1),["prevent"]))},KA)]),Y("li",qA,[Y("a",{href:"",class:"text-white MapFeatureBtn",onClick:e[5]||(e[5]=It(o=>n.onLayerControl("changeMapCount",2),["prevent"]))},JA)])])):di("",!0)])]),Y("div",QA,[Y("div",{class:Yi(["fs-3 text-white rounded-pill",{active:n.state.targetNum===1}]),onClick:e[6]||(e[6]=()=>{n.onChangeTarget(1)})},"左",2),Y("div",{class:Yi(["fs-3 text-white rounded-pill",{active:n.state.targetNum===2}]),onClick:e[7]||(e[7]=()=>{n.onChangeTarget(2)})},"右",2)])])}const tI=Es(PA,[["render",eI]]),Xt={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class iI extends Mi{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+X1,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Xt.ELEMENT,this.handleElementChanged),this.addChangeListener(Xt.MAP,this.handleMapChanged),this.addChangeListener(Xt.OFFSET,this.handleOffsetChanged),this.addChangeListener(Xt.POSITION,this.handlePositionChanged),this.addChangeListener(Xt.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Xt.ELEMENT)}getId(){return this.id}getMap(){return this.get(Xt.MAP)||null}getOffset(){return this.get(Xt.OFFSET)}getPosition(){return this.get(Xt.POSITION)}getPositioning(){return this.get(Xt.POSITIONING)}handleElementChanged(){V_(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(Xl(this.element),pt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=qe(e,bn.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Xt.ELEMENT,e)}setMap(e){this.set(Xt.MAP,e)}setOffset(e){this.set(Xt.OFFSET,e)}setPosition(e){this.set(Xt.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Xt.POSITION))return;const n=this.getRect(t.getTargetElement(),t.getSize()),s=this.getElement(),r=this.getRect(s,[H1(s),Y1(s)]);e=e||{};const o=e.margin===void 0?20:e.margin;if(!zi(n,r)){const a=r[0]-n[0],l=n[2]-r[2],u=r[1]-n[1],h=n[3]-r[3],f=[0,0];if(a<0?f[0]=a-o:l<0&&(f[0]=Math.abs(l)+o),u<0?f[1]=u-o:h<0&&(f[1]=Math.abs(h)+o),f[0]!==0||f[1]!==0){const m=t.getView().getCenterInternal(),y=t.getPixelFromCoordinateInternal(m);if(!y)return;const v=[y[0]+f[0],y[1]+f[1]],E=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(v),duration:E.duration,easing:E.easing})}}}getRect(e,t){const n=e.getBoundingClientRect(),s=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[s,r,s+t[0],r+t[1]]}setPositioning(e){this.set(Xt.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const n=e.getPixelFromCoordinate(t),s=e.getSize();this.updateRenderedPosition(n,s)}updateRenderedPosition(e,t){const n=this.element.style,s=this.getOffset(),r=this.getPositioning();this.setVisible(!0);const o=Math.round(e[0]+s[0])+"px",a=Math.round(e[1]+s[1])+"px";let l="0%",u="0%";r=="bottom-right"||r=="center-right"||r=="top-right"?l="-100%":(r=="bottom-center"||r=="center-center"||r=="top-center")&&(l="-50%"),r=="bottom-left"||r=="bottom-center"||r=="bottom-right"?u="-100%":(r=="center-left"||r=="center-center"||r=="center-right")&&(u="-50%");const h=`translate(${l}, ${u}) translate(${o}, ${a})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,n.transform=h)}getOptions(){return this.options}}const lc=iI;class nI extends Hc{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",n=e.tileGrid!==void 0?e.tileGrid:oc({extent:zc(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const Ea=nI,sI='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class rI extends Ea{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[sI];const n=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",s=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:n,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:s,wrapX:e.wrapX,zDirection:e.zDirection})}}const oI=rI,cs="1.3.0";function xa(i,e){const t=[];Object.keys(e).forEach(function(s){e[s]!==null&&e[s]!==void 0&&t.push(s+"="+encodeURIComponent(e[s]))});const n=t.join("&");return i=i.replace(/[?&]$/,""),i+=i.includes("?")?"&":"?",i+n}class aI extends Hc{constructor(e){e=e||{};const t=Object.assign({},e.params),n="TRANSPARENT"in t?t.TRANSPARENT:!0;super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:!n,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=si(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,n,s){const r=yt(n),o=this.getProjection();let a=this.getTileGrid();a||(a=this.getTileGridForProjection(r));const l=a.getZForResolution(t,this.zDirection),u=a.getTileCoordForCoordAndZ(e,l);if(a.getResolutions().length<=u[0])return;let h=a.getResolution(u[0]),f=a.getTileCoordExtent(u,this.tmpExtent_),m=Wt(a.getTileSize(u[0]),this.tmpSize);const y=this.gutter_;y!==0&&(m=Qg(m,y,this.tmpSize),f=qi(f,h*y,f)),o&&o!==r&&(h=Ca(o,r,e,h),f=L_(f,r,o),e=kc(e,r,o));const v={SERVICE:"WMS",VERSION:cs,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(v,this.params_,s);const E=Math.floor((e[0]-f[0])/h),b=Math.floor((f[3]-e[1])/h);return v[this.v13_?"I":"X"]=E,v[this.v13_?"J":"Y"]=b,this.getRequestUrl_(u,m,f,1,o||r,v)}getLegendUrl(e,t){if(this.urls[0]===void 0)return;const n={SERVICE:"WMS",VERSION:cs,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(t===void 0||t.LAYER===void 0){const s=this.params_.LAYERS;if(!(!Array.isArray(s)||s.length===1))return;n.LAYER=s}if(e!==void 0){const s=this.getProjection()?this.getProjection().getMetersPerUnit():1,r=28e-5;n.SCALE=e*s/r}return Object.assign(n,t),xa(this.urls[0],n)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,n,s,r,o){const a=this.urls;if(!a)return;if(o.WIDTH=t[0],o.HEIGHT=t[1],o[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(o.STYLES=""),s!=1)switch(this.serverType_){case"geoserver":const f=90*s+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+f:o.FORMAT_OPTIONS="dpi:"+f;break;case"mapserver":o.MAP_RESOLUTION=90*s;break;case"carmentaserver":case"qgis":o.DPI=90*s;break;default:$e(!1,52);break}const l=r.getAxisOrientation(),u=n;if(this.v13_&&l.substr(0,2)=="ne"){let f;f=n[0],u[0]=n[1],u[1]=f,f=n[2],u[2]=n[3],u[3]=f}o.BBOX=u.join(",");let h;if(a.length==1)h=a[0];else{const f=fs(Qd(e),a.length);h=a[f]}return xa(h,o)}getTilePixelRatio(e){return!this.hidpi_||this.serverType_===void 0?1:e}getKeyForParams_(){let e=0;const t=[];for(const n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const e=this.params_.VERSION||cs;this.v13_=T_(e,"1.3")>=0}tileUrlFunction(e,t,n){let s=this.getTileGrid();if(s||(s=this.getTileGridForProjection(n)),s.getResolutions().length<=e[0])return;t!=1&&(!this.hidpi_||this.serverType_===void 0)&&(t=1);const r=s.getResolution(e[0]);let o=s.getTileCoordExtent(e,this.tmpExtent_),a=Wt(s.getTileSize(e[0]),this.tmpSize);const l=this.gutter_;l!==0&&(a=Qg(a,l,this.tmpSize),o=qi(o,r*l,o)),t!=1&&(a=Nd(a,t,this.tmpSize));const u={SERVICE:"WMS",VERSION:cs,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object.assign(u,this.params_),this.getRequestUrl_(e,a,o,t,n,u)}}const lI=aI;class cI extends Pn{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(t){const n=t.getGeometry();return $e(n.getType()=="Point",10),n},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,t,n){this.source.loadFeatures(e,t,n),t!==this.resolution&&(this.resolution=t,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(Me.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(Me.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,t){const n=e===0?0:Math.min(t,e)/e,s=e!==this.distance||this.interpolationRatio!==n;this.distance=e,this.minDistance=t,this.interpolationRatio=n,s&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=si(),t=this.distance*this.resolution,n=this.source.getFeatures(),s={};for(let r=0,o=n.length;r<o;r++){const a=n[r];if(!(je(a)in s)){const l=this.geometryFunction(a);if(l){const u=l.getCoordinates();md(u,e),qi(e,t,e);const h=this.source.getFeaturesInExtent(e).filter(function(f){const m=je(f);return m in s?!1:(s[m]=!0,!0)});this.features.push(this.createCluster(h,e))}}}}createCluster(e,t){const n=[0,0];for(let a=e.length-1;a>=0;--a){const l=this.geometryFunction(e[a]);l?w_(n,l.getCoordinates()):e.splice(a,1)}b_(n,1/e.length);const s=Oi(t),r=this.interpolationRatio,o=new Hi([n[0]*(1-r)+s[0]*r,n[1]*(1-r)+s[1]*r]);return this.createCustomCluster_?this.createCustomCluster_(o,e):new oa({geometry:o,features:e})}}const zy=cI;class uI extends Vy{constructor(e){const t=e.crossOrigin!==void 0?e.crossOrigin:null,n=e.imageLoadFunction!==void 0?e.imageLoadFunction:df;super({attributions:e.attributions,interpolate:e.interpolate,projection:yt(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image_=new Z_(this.imageExtent_,void 0,1,this.url_,t,n),this.imageSize_=e.imageSize?e.imageSize:null,this.image_.addEventListener(Me.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,t,n,s){return St(e,this.image_.getExtent())?this.image_:null}getUrl(){return this.url_}handleImageChange(e){if(this.image_.getState()==ze.LOADED){const t=this.image_.getExtent(),n=this.image_.getImage();let s,r;this.imageSize_?(s=this.imageSize_[0],r=this.imageSize_[1]):(s=n.width,r=n.height);const o=et(t),a=Ot(t),l=o/s,u=a/r;let h=s,f=r;if(l>u?h=Math.round(o/u):f=Math.round(a/l),h!==s||f!==r){const m=Ht(h,f);this.getInterpolate()||(m.imageSmoothingEnabled=!1);const y=m.canvas;m.drawImage(n,0,0,s,r,0,0,y.width,y.height),this.image_.setImage(y)}}super.handleImageChange(e)}}const hI=uI,Qn=4,Fp=[101,101];class dI extends Vy{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:df,this.params_=Object.assign({},e.params),this.v13_=!0,this.updateV13_(),this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5}getFeatureInfoUrl(e,t,n,s){if(this.url_===void 0)return;const r=yt(n),o=this.getProjection();o&&o!==r&&(t=Ca(o,r,e,t),e=kc(e,r,o));const a=Hr(e,t,0,Fp),l={SERVICE:"WMS",VERSION:cs,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(l,this.params_,s);const u=Nr((e[0]-a[0])/t,Qn),h=Nr((a[3]-e[1])/t,Qn);return l[this.v13_?"I":"X"]=u,l[this.v13_?"J":"Y"]=h,this.getRequestUrl_(a,Fp,1,o||r,l)}getLegendUrl(e,t){if(this.url_===void 0)return;const n={SERVICE:"WMS",VERSION:cs,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(t===void 0||t.LAYER===void 0){const s=this.params_.LAYERS;if(!(!Array.isArray(s)||s.length===1))return;n.LAYER=s}if(e!==void 0){const s=this.getProjection()?this.getProjection().getMetersPerUnit():1,r=28e-5;n.SCALE=e*s/r}return Object.assign(n,t),xa(this.url_,n)}getParams(){return this.params_}getImageInternal(e,t,n,s){if(this.url_===void 0)return null;t=this.findNearestResolution(t),n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);const r=t/n,o=Oi(e),a=rs(et(e)/r,Qn),l=rs(Ot(e)/r,Qn),u=Hr(o,r,0,[a,l]),h=rs(this.ratio_*et(e)/r,Qn),f=rs(this.ratio_*Ot(e)/r,Qn),m=Hr(o,r,0,[h,f]),y=this.image_;if(y&&this.renderedRevision_==this.getRevision()&&y.getResolution()==t&&y.getPixelRatio()==n&&zi(y.getExtent(),u))return y;const v={SERVICE:"WMS",VERSION:cs,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object.assign(v,this.params_),this.imageSize_[0]=Yg(et(m)/r,Qn),this.imageSize_[1]=Yg(Ot(m)/r,Qn);const E=this.getRequestUrl_(m,this.imageSize_,n,s,v);return this.image_=new Z_(m,t,n,E,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(Me.CHANGE,this.handleImageChange.bind(this)),this.image_}getImageLoadFunction(){return this.imageLoadFunction_}getRequestUrl_(e,t,n,s,r){if($e(this.url_!==void 0,9),r[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(r.STYLES=""),n!=1)switch(this.serverType_){case"geoserver":const l=90*n+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+l:r.FORMAT_OPTIONS="dpi:"+l;break;case"mapserver":r.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":r.DPI=90*n;break;default:$e(!1,8);break}r.WIDTH=t[0],r.HEIGHT=t[1];const o=s.getAxisOrientation();let a;return this.v13_&&o.substr(0,2)=="ne"?a=[e[1],e[0],e[3],e[2]]:a=e,r.BBOX=a.join(","),xa(this.url_,r)}getUrl(){return this.url_}setImageLoadFunction(e){this.image_=null,this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.image_=null,this.changed()}updateV13_(){const e=this.params_.VERSION||cs;this.v13_=T_(e,"1.3")>=0}}const fI=dI;class gI extends Hc{constructor(e){e=e||{},super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.params_=e.params||{},this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=si(),this.setKey(this.getKeyForParams_())}getKeyForParams_(){let e=0;const t=[];for(const n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")}getParams(){return this.params_}getRequestUrl_(e,t,n,s,r,o){const a=this.urls;if(!a)return;const l=r.getCode().split(/:(?=\d+$)/).pop();o.SIZE=t[0]+","+t[1],o.BBOX=n.join(","),o.BBOXSR=l,o.IMAGESR=l,o.DPI=Math.round(o.DPI?o.DPI*s:90*s);let u;if(a.length==1)u=a[0];else{const f=fs(Qd(e),a.length);u=a[f]}const h=u.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return xa(h,o)}getTilePixelRatio(e){return this.hidpi_?e:1}updateParams(e){Object.assign(this.params_,e),this.setKey(this.getKeyForParams_())}tileUrlFunction(e,t,n){let s=this.getTileGrid();if(s||(s=this.getTileGridForProjection(n)),s.getResolutions().length<=e[0])return;t!=1&&!this.hidpi_&&(t=1);const r=s.getTileCoordExtent(e,this.tmpExtent_);let o=Wt(s.getTileSize(e[0]),this.tmpSize);t!=1&&(o=Nd(o,t,this.tmpSize));const a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object.assign(a,this.params_),this.getRequestUrl_(e,o,r,t,n,a)}}const pI=gI;window.ol&&ol.ext&&!ol.ext.input&&(ol.ext.input={});var mI=class extends Mi{constructor(e){e=e||{},super();var t=this.input=e.input;t||(t=this.input=document.createElement("INPUT"),e.type&&t.setAttribute("type",e.type),e.min!==void 0&&t.setAttribute("min",e.min),e.max!==void 0&&t.setAttribute("max",e.max),e.step!==void 0&&t.setAttribute("step",e.step),e.parent&&e.parent.appendChild(t)),e.disabled&&(t.disabled=!0),e.checked!==void 0&&(t.checked=!!e.checked),e.val!==void 0&&(t.value=e.val),e.hidden&&(t.style.display="none"),t.addEventListener("focus",function(){this.element&&this.element.classList.add("ol-focus")}.bind(this));var n;t.addEventListener("focusout",function(){this.element&&(n&&clearTimeout(n),n=setTimeout(function(){this.element.classList.remove("ol-focus")}.bind(this),0))}.bind(this))}_listenDrag(e,t){var n=function(s){this.moving=!0,this.element.classList.add("ol-moving");var r=function(o){o.type==="pointerup"&&(document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",r),document.removeEventListener("pointercancel",r),setTimeout(function(){this.moving=!1,this.element.classList.remove("ol-moving")}.bind(this))),o.target===e&&t(o),o.stopPropagation(),o.preventDefault()}.bind(this);document.addEventListener("pointermove",r,!1),document.addEventListener("pointerup",r,!1),document.addEventListener("pointercancel",r,!1),s.stopPropagation(),s.preventDefault()}.bind(this);e.addEventListener("mousedown",n,!1),e.addEventListener("touchstart",n,!1)}setValue(e){e!==void 0&&(this.input.value=e),this.input.dispatchEvent(new Event("change"))}getValue(){return this.input.value}getInputElement(){return this.input}},ff=class extends mI{constructor(e){e=e||{},super(e);var t=this.element=document.createElement("LABEL");e.html instanceof Element?t.appendChild(e.html):e.html!==void 0&&(t.innerHTML=e.html),t.className=("ol-ext-check ol-ext-checkbox "+(e.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(t,this.input),t.appendChild(this.input),t.appendChild(document.createElement("SPAN")),e.after&&t.appendChild(document.createTextNode(e.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))}isChecked(){return this.input.checked}},_I=class extends ff{constructor(e){e=e||{},super(e),this.element.className=("ol-ext-toggle-switch "+(e.className||"")).trim()}},yI=class extends ff{constructor(e){e=e||{},super(e),this.element.className=("ol-ext-check ol-ext-radio "+(e.className||"")).trim()}},Ye={};Ye.create=function(i,e){e=e||{};var t;if(i==="TEXT")t=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(t);else{t=document.createElement(i),/button/i.test(i)&&t.setAttribute("type","button");for(var n in e)switch(n){case"className":{e.className&&e.className.trim&&t.setAttribute("class",e.className.trim());break}case"text":{t.innerText=e.text;break}case"html":{e.html instanceof Element?t.appendChild(e.html):e.html!==void 0&&(t.innerHTML=e.html);break}case"parent":{e.parent&&e.parent.appendChild(t);break}case"options":{if(/select/i.test(i))for(var s in e.options)Ye.create("OPTION",{html:s,value:e.options[s],parent:t});break}case"style":{Ye.setStyle(t,e.style);break}case"change":case"click":{Ye.addListener(t,n,e[n]);break}case"on":{for(var r in e.on)Ye.addListener(t,r,e.on[r]);break}case"checked":{t.checked=!!e.checked;break}default:{t.setAttribute(n,e[n]);break}}}return t};Ye.createSwitch=function(i){var e=Ye.create("INPUT",{type:"checkbox",on:i.on,click:i.click,change:i.change,parent:i.parent}),t=Object.assign({input:e},i||{});return new _I(t),e};Ye.createCheck=function(i){var e=Ye.create("INPUT",{name:i.name,type:i.type==="radio"?"radio":"checkbox",on:i.on,parent:i.parent}),t=Object.assign({input:e},i||{});return i.type==="radio"?new yI(t):new ff(t),e};Ye.setHTML=function(i,e){e instanceof Element?i.appendChild(e):e!==void 0&&(i.innerHTML=e)};Ye.appendText=function(i,e){i.appendChild(document.createTextNode(e||""))};Ye.addListener=function(i,e,t,n){typeof e=="string"&&(e=e.split(" ")),e.forEach(function(s){i.addEventListener(s,t,n)})};Ye.removeListener=function(i,e,t){typeof e=="string"&&(e=e.split(" ")),e.forEach(function(n){i.removeEventListener(n,t)})};Ye.show=function(i){i.style.display=""};Ye.hide=function(i){i.style.display="none"};Ye.hidden=function(i){return Ye.getStyle(i,"display")==="none"};Ye.toggle=function(i){i.style.display=i.style.display==="none"?"":"none"};Ye.setStyle=function(i,e){for(var t in e)switch(t){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":{typeof e[t]=="number"?i.style[t]=e[t]+"px":i.style[t]=e[t];break}default:i.style[t]=e[t]}};Ye.getStyle=function(i,e){var t,n=(i.ownerDocument||document).defaultView;if(n&&n.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),t=n.getComputedStyle(i,null).getPropertyValue(e);else if(i.currentStyle&&(e=e.replace(/-(\w)/g,function(s,r){return r.toUpperCase()}),t=i.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(t)))return function(s){var r=i.style.left,o=i.runtimeStyle.left;return i.runtimeStyle.left=i.currentStyle.left,i.style.left=s||0,s=i.style.pixelLeft+"px",i.style.left=r,i.runtimeStyle.left=o,s}(t);return/px$/.test(t)?parseInt(t):t};Ye.outerHeight=function(i){return i.offsetHeight+Ye.getStyle(i,"marginBottom")};Ye.outerWidth=function(i){return i.offsetWidth+Ye.getStyle(i,"marginLeft")};Ye.offsetRect=function(i){var e=i.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};Ye.getFixedOffset=function(i){var e={left:0,top:0},t=function(n){if(!n)return e;if(Ye.getStyle(n,"position")==="absolute"&&Ye.getStyle(n,"transform")!=="none"){var s=n.getBoundingClientRect();return e.left+=s.left,e.top+=s.top,e}return t(n.offsetParent)};return t(i.offsetParent)};Ye.positionRect=function(i,e){var t=0,n=0,s=function(r){if(r)return t+=r.offsetLeft,n+=r.offsetTop,s(r.offsetParent);var o={top:i.offsetTop+n,left:i.offsetLeft+t};return e&&(o.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),o.bottom=o.top+i.offsetHeight,o.right=o.top+i.offsetWidth,o};return s(i.offsetParent)};Ye.scrollDiv=function(i,e){e=e||{};var t=!1,n=0,s,r=0,o=typeof e.onmove=="function"?e.onmove:function(){},a=e.vertical?"screenY":"screenX",l=e.vertical?"scrollTop":"scrollLeft",u=!1,h,f,m=0,y=function(){R&&(m++,setTimeout(v))},v=function(){if(R){if(m--,m)return;var $=i.clientHeight,W=i.scrollHeight;h=$/W,R.style.height=h*100+"%",R.style.top=i.scrollTop/W*100+"%",A.style.height=$+"px",$>W-.5?A.classList.add("ol-100pc"):A.classList.remove("ol-100pc")}},E=function($){$.target.classList.contains("ol-noscroll")||(u=!1,t=$[a],r=new Date,i.classList.add("ol-move"),$.preventDefault(),window.addEventListener("pointermove",b),Ye.addListener(window,["pointerup","pointercancel"],D))},b=function($){if(t!==!1){var W=(f?-1/h:1)*(t-$[a]);u=u||Math.round(W),i[l]+=W,s=new Date,s-r&&(n=(n+W/(s-r))/2),t=$[a],r=s,W&&o(!0)}else u=!0},S=function($){var W=$>0?Math.min(100,$/2):Math.max(-100,$/2);$-=W,i[l]+=W,-1<$&&$<1?(u?setTimeout(function(){i.classList.remove("ol-move")}):i.classList.remove("ol-move"),u=!1,o(!1)):setTimeout(function(){S($)},40)},A,R;if(e.vertical&&e.minibar){var I=function($){i.removeEventListener("pointermove",I),i.parentNode.classList.add("ol-miniscroll"),R=Ye.create("DIV"),A=Ye.create("DIV",{className:"ol-scroll",html:R}),i.parentNode.insertBefore(A,i),R.addEventListener("pointerdown",function(W){f=!0,E(W)}),e.mousewheel&&(Ye.addListener(A,["mousewheel","DOMMouseScroll","onmousewheel"],function(W){p(W)}),Ye.addListener(R,["mousewheel","DOMMouseScroll","onmousewheel"],function(W){p(W)})),i.parentNode.addEventListener("pointerenter",y),window.addEventListener("resize",y),$!==!1&&y()};i.parentNode?I(!1):i.addEventListener("pointermove",I),i.addEventListener("scroll",function(){y()})}i.style["touch-action"]="none",i.style.overflow="hidden",i.classList.add("ol-scrolldiv"),Ye.addListener(i,["pointerdown"],function($){f=!1,E($)}),i.addEventListener("click",function($){i.classList.contains("ol-move")&&($.preventDefault(),$.stopPropagation())},!0);var D=function($){r=new Date-r,r>100||f?n=0:r>0&&(n=((n||0)+(t-$[a])/r)/2),S(e.animate===!1?0:n*200),t=!1,n=0,r=0,i.classList.contains("ol-move")?i.classList.remove("ol-hasClick"):(i.classList.add("ol-hasClick"),setTimeout(function(){i.classList.remove("ol-hasClick")},500)),f=!1,window.removeEventListener("pointermove",b),Ye.removeListener(window,["pointerup","pointercancel"],D)},p=function($){var W=Math.max(-1,Math.min(1,$.wheelDelta||-$.detail));return i.classList.add("ol-move"),i[l]-=W*30,i.classList.remove("ol-move"),!1};return e.mousewheel&&Ye.addListener(i,["mousewheel","DOMMouseScroll","onmousewheel"],p),{refresh:y}};Ye.dispatchEvent=function(i,e){var t;try{t=new CustomEvent(i)}catch{t=document.createEvent("CustomEvent"),t.initCustomEvent(i,!0,!0,{})}e.dispatchEvent(t)};var bt={};bt.getTransform=function(i){var e=window.getComputedStyle(i,null),t=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform"),n=t.split("(")[1].split(")")[0].split(","),s=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],r,o;if(n.length===16)for(r=0;r<4;++r)for(o=0;o<4;++o)s[o][r]=+n[r*4+o];else for(r=0;r<3;++r)for(o=0;o<2;++o)s[o][r]=+n[r*2+o];return s};bt.getTransformOrigin=function(i){for(var e=window.getComputedStyle(i,null),t=e.getPropertyValue("-webkit-transform-origin")||e.getPropertyValue("-moz-transform-origin")||e.getPropertyValue("-ms-transform-origin")||e.getPropertyValue("-o-transform-origin")||e.getPropertyValue("transform-origin"),n=t.split(" "),s=[0,0,0,1],r=0;r<n.length;++r)s[r]=parseInt(n[r]);return s};bt.translateMatrix=function(i,e,t){return[[1,0,0,i],[0,1,0,e],[0,0,1,t],[0,0,0,1]]};bt.identity=function(){return[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]};bt.roundTo=function(i,e){e||(e=1e-10);for(var t=[[],[],[],[]],n=0;n<4;n++)for(var s=0;s<4;s++)t[n][s]=Math.round(i[n][s]/e)*e;return t};bt.multiply=function(i,e){for(var t=[[],[],[],[]],n=0;n<4;++n)for(var s=0;s<4;++s){for(var r=0,o=0;o<4;++o)r+=i[o][n]*e[s][o];t[s][n]=r}return t};bt.computeTransformMatrix=function(i,e){var t=bt.translateMatrix(-e[0],-e[1],-e[2]),n=bt.translateMatrix(e[0],e[1],e[2]),s=bt.multiply(t,i);return bt.multiply(s,n)};bt.transformVertex=function(i,e){for(var t=[e[0],e[1],0,1],n=[],s=0;s<4;++s){n[s]=0;for(var r=0;r<4;++r)n[s]+=+i[s][r]*t[r]}return n};bt.projectVertex=function(i){for(var e=[],t=0;t<4;++t)e[t]=i[t]/i[3];return e};bt.inverse=function(i){var e=i[0][0]*i[1][1]-i[1][0]*i[0][1],t=i[0][0]*i[1][2]-i[1][0]*i[0][2],n=i[0][0]*i[1][3]-i[1][0]*i[0][3],s=i[0][1]*i[1][2]-i[1][1]*i[0][2],r=i[0][1]*i[1][3]-i[1][1]*i[0][3],o=i[0][2]*i[1][3]-i[1][2]*i[0][3],a=i[2][2]*i[3][3]-i[3][2]*i[2][3],l=i[2][1]*i[3][3]-i[3][1]*i[2][3],u=i[2][1]*i[3][2]-i[3][1]*i[2][2],h=i[2][0]*i[3][3]-i[3][0]*i[2][3],f=i[2][0]*i[3][2]-i[3][0]*i[2][2],m=i[2][0]*i[3][1]-i[3][0]*i[2][1],y=1/(e*a-t*l+n*u+s*h-r*f+o*m);if(isNaN(y)||y===1/0)throw new Error("Inverse determinant attempted to divide by zero.");return[[(i[1][1]*a-i[1][2]*l+i[1][3]*u)*y,(-i[0][1]*a+i[0][2]*l-i[0][3]*u)*y,(i[3][1]*o-i[3][2]*r+i[3][3]*s)*y,(-i[2][1]*o+i[2][2]*r-i[2][3]*s)*y],[(-i[1][0]*a+i[1][2]*h-i[1][3]*f)*y,(i[0][0]*a-i[0][2]*h+i[0][3]*f)*y,(-i[3][0]*o+i[3][2]*n-i[3][3]*t)*y,(i[2][0]*o-i[2][2]*n+i[2][3]*t)*y],[(i[1][0]*l-i[1][1]*h+i[1][3]*m)*y,(-i[0][0]*l+i[0][1]*h-i[0][3]*m)*y,(i[3][0]*r-i[3][1]*n+i[3][3]*e)*y,(-i[2][0]*r+i[2][1]*n-i[2][3]*e)*y],[(-i[1][0]*u+i[1][1]*f-i[1][2]*m)*y,(i[0][0]*u-i[0][1]*f+i[0][2]*m)*y,(-i[3][0]*s+i[3][1]*t-i[3][2]*e)*y,(i[2][0]*s-i[2][1]*t+i[2][2]*e)*y]]};var vI=class extends Hs{constructor(e){var t=e.target instanceof Element?e.target:document.getElementById(e.target);window.getComputedStyle(t).position!=="absolute"&&(t.style.position="relative"),t.style.overflow="hidden";var n=Ye.create("DIV",{className:"ol-perspective-map",parent:t}),s={};Object.assign(s,e),s.target=n,super(s),this._tiltCondition=e.tiltCondition||fS}getPixelRatio(){return window.devicePixelRatio}setPerspective(e,t){t=t||{},e>30?e=30:e<0&&(e=0);var n=this._angle||0,s=Math.round(e*10)/10,r=this.getTarget().querySelector(".ol-layers").style;cancelAnimationFrame(this._animatedPerspective),requestAnimationFrame(function(o){this._animatePerpective(o,o,r,n,s,t.duration,t.easing||Lh)}.bind(this))}_animatePerpective(e,t,n,s,r,o,a){var l,u;o===0?(l=1,u=!0):(l=(t-e)/(o||500),u=l>=1),l=a(l);var h;u?h=this._angle=r:h=this._angle=s+(r-s)*l;var f=h/30;n.transform="translateY(-"+17*f+"%) perspective(200px) rotateX("+h+"deg) scaleY("+(1-f/2)+")",this.getMatrix3D(!0),this.render(),u||requestAnimationFrame(function(m){this._animatePerpective(e,m,n,s,r,o||500,a||Lh)}.bind(this)),this.dispatchEvent({type:"change:perspective",angle:h,animating:!u})}handleMapBrowserEvent(e){if(e.pixel=[e.originalEvent.offsetX/this.getPixelRatio(),e.originalEvent.offsetY/this.getPixelRatio()],e.coordinate=this.getCoordinateFromPixel(e.pixel),Hs.prototype.handleMapBrowserEvent.call(this,e),this._tiltCondition(e))switch(e.type){case"pointerdown":{this._dragging=e.originalEvent.offsetY;break}case"pointerup":{this._dragging=!1;break}case"pointerdrag":{if(this._dragging!==!1){var t=e.originalEvent.offsetY>this._dragging?.5:-.5;t&&this.setPerspective((this._angle||0)+t,{duration:0}),this._dragging=e.originalEvent.offsetY}break}}else this._dragging=!1}getMatrix3D(e){if(e){var t=this.getTarget().querySelector(".ol-layers"),n=bt.getTransform(t),s=bt.getTransformOrigin(t);this._matrixTransform=bt.computeTransformMatrix(n,s)}return this._matrixTransform||(this._matrixTransform=bt.identity()),this._matrixTransform}getPixelScreenFromCoordinate(e){var t=this.getPixelFromCoordinate(e),n=this.getMatrix3D(),s=bt.transformVertex(n,t);return s=bt.projectVertex(s),[s[0],s[1]]}getPixelFromPixelScreen(e){var t=bt.inverse(this.getMatrix3D()),n=bt.transformVertex(t,e);return n=bt.projectVertex(n),[n[0],n[1]]}};(function(){var i=lc.prototype.updatePixelPosition;lc.prototype.updatePixelPosition=function(){var e=this.getMap();if(e&&e instanceof vI){var t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}var n=e.getPixelScreenFromCoordinate(t),s=e.getSize();n[0]-=s[0]/4,n[1]-=s[1]/4,this.updateRenderedPosition(n,s)}else i.call(this)}})();const CI={Point:wI,LineString:bI,Polygon:II,MultiPoint:RI,MultiLineString:SI,MultiPolygon:AI},EI={Point:LI,LineString:OI,Polygon:PI,MultiPoint:DI,MultiLineString:MI,MultiPolygon:FI};class xI extends Ib{constructor(e){e=e||{},super(),this.geometryName_=e.geometryName}readFeatureFromObject(e,t,n){const s=e,r=Np(s.geometry,t),o=new oa;if(this.geometryName_&&o.setGeometryName(this.geometryName_),o.setGeometry(r),s.attributes){o.setProperties(s.attributes,!0);const a=s.attributes[n];a!==void 0&&o.setId(a)}return o}readFeaturesFromObject(e,t){if(t=t||{},e.features){const n=e,s=[],r=n.features;for(let o=0,a=r.length;o<a;++o)s.push(this.readFeatureFromObject(r[o],t,e.objectIdFieldName));return s}return[this.readFeatureFromObject(e,t)]}readGeometryFromObject(e,t){return Np(e,t)}readProjectionFromObject(e){if(e.spatialReference&&e.spatialReference.wkid!==void 0){const n=e.spatialReference.wkid;return yt("EPSG:"+n)}return null}writeGeometryObject(e,t){return kp(e,this.adaptOptions(t))}writeFeatureObject(e,t){t=this.adaptOptions(t);const n={};if(!e.hasProperties())return n.attributes={},n;const s=e.getProperties(),r=e.getGeometry();if(r){n.geometry=kp(r,t);const o=t&&(t.dataProjection||t.featureProjection);o&&(n.geometry.spatialReference={wkid:Number(yt(o).getCode().split(":").pop())}),delete s[e.getGeometryName()]}return or(s)?n.attributes={}:n.attributes=s,n}writeFeaturesObject(e,t){t=this.adaptOptions(t);const n=[];for(let s=0,r=e.length;s<r;++s)n.push(this.writeFeatureObject(e[s],t));return{features:n}}}function Np(i,e){if(!i)return null;let t;if(typeof i.x=="number"&&typeof i.y=="number")t="Point";else if(i.points)t="MultiPoint";else if(i.paths)i.paths.length===1?t="LineString":t="MultiLineString";else if(i.rings){const s=i,r=vo(s),o=TI(s.rings,r);o.length===1?(t="Polygon",i=Object.assign({},i,{rings:o[0]})):(t="MultiPolygon",i=Object.assign({},i,{rings:o}))}const n=CI[t];return Xd(n(i),!1,e)}function TI(i,e){const t=[],n=[],s=[];let r,o;for(r=0,o=i.length;r<o;++r)t.length=0,La(t,0,i[r],e.length),Vc(t,0,t.length,e.length)?n.push([i[r]]):s.push(i[r]);for(;s.length;){const a=s.shift();let l=!1;for(r=n.length-1;r>=0;r--){const u=n[r][0];if(zi(new sc(u).getExtent(),new sc(a).getExtent())){n[r].push(a),l=!0;break}}l||n.push([a.reverse()])}return n}function wI(i){let e;return i.m!==void 0&&i.z!==void 0?e=new Hi([i.x,i.y,i.z,i.m],"XYZM"):i.z!==void 0?e=new Hi([i.x,i.y,i.z],"XYZ"):i.m!==void 0?e=new Hi([i.x,i.y,i.m],"XYM"):e=new Hi([i.x,i.y]),e}function bI(i){const e=vo(i);return new Yl(i.paths[0],e)}function SI(i){const e=vo(i);return new uy(i.paths,e)}function vo(i){let e="XY";return i.hasZ===!0&&i.hasM===!0?e="XYZM":i.hasZ===!0?e="XYZ":i.hasM===!0&&(e="XYM"),e}function RI(i){const e=vo(i);return new qd(i.points,e)}function AI(i){const e=vo(i);return new my(i.rings,e)}function II(i){const e=vo(i);return new no(i.rings,e)}function LI(i,e){const t=i.getCoordinates();let n;const s=i.getLayout();return s==="XYZ"?n={x:t[0],y:t[1],z:t[2]}:s==="XYM"?n={x:t[0],y:t[1],m:t[2]}:s==="XYZM"?n={x:t[0],y:t[1],z:t[2],m:t[3]}:s==="XY"?n={x:t[0],y:t[1]}:$e(!1,34),n}function Na(i){const e=i.getLayout();return{hasZ:e==="XYZ"||e==="XYZM",hasM:e==="XYM"||e==="XYZM"}}function OI(i,e){const t=Na(i);return{hasZ:t.hasZ,hasM:t.hasM,paths:[i.getCoordinates()]}}function PI(i,e){const t=Na(i);return{hasZ:t.hasZ,hasM:t.hasM,rings:i.getCoordinates(!1)}}function MI(i,e){const t=Na(i);return{hasZ:t.hasZ,hasM:t.hasM,paths:i.getCoordinates()}}function DI(i,e){const t=Na(i);return{hasZ:t.hasZ,hasM:t.hasM,points:i.getCoordinates()}}function FI(i,e){const t=Na(i),n=i.getCoordinates(!1),s=[];for(let r=0;r<n.length;r++)for(let o=n[r].length-1;o>=0;o--)s.push(n[r][o]);return{hasZ:t.hasZ,hasM:t.hasM,rings:s}}function kp(i,e){const t=EI[i.getType()];return t(Xd(i,!0,e),e)}const Gp=xI,Tt={};Tt.obj=function(i){return i};Tt.supportsImageRenderingPixelatedResult_=void 0;Tt.imageRenderingValueResult_=void 0;Tt.supportsImageRenderingPixelated=function(){if(Tt.supportsImageRenderingPixelatedResult_===void 0){const i=document.createElement("canvas");i.setAttribute("style","image-rendering: -moz-crisp-edges; image-rendering: pixelated;");const e=i.style.imageRendering;Tt.supportsImageRenderingPixelatedResult_=!!e,Tt.supportsImageRenderingPixelatedResult_&&(Tt.imageRenderingValueResult_=e)}return Tt.supportsImageRenderingPixelatedResult_};Tt.imageRenderingValue=function(){return Tt.supportsImageRenderingPixelated(),Tt.imageRenderingValueResult_||""};Tt.getSourceProjection=function(i){return i.get("olcs.projection")||i.getProjection()};function kr(i,e,t){return i.on(e,t)}let NI=0;function $t(i){return i.olcs_uid||(i.olcs_uid=++NI)}function kI(i,e){const t=i.length,n=Array(i.length);for(let s=0;s<t;s++)n[s]={index:s,value:i[s]};n.sort((s,r)=>e(s.value,r.value)||s.index-r.index);for(let s=0;s<i.length;s++)i[s]=n[s].value}function GI(i){return i&&i.parentNode?i.parentNode.removeChild(i):null}function jI(i){for(;i.lastChild;)i.removeChild(i.lastChild)}function Wu(i){const e=Cesium.GroundPolylinePrimitive;return e&&e.isSupported(i)}const $I=function(){const e=new Py({projection:"EPSG:3857",wrapX:!0}).getTileCoordForTileUrlFunction([6,-31,22]);return e&&e[1]===33&&e[2]===22}();class Hy{constructor(e,t,n){this.source_=t,this.projection_=null,this.fallbackProj_=n||null,this.ready_=!1,this.tilingScheme_=null,this.rectangle_=null,this.map_=e,this.shouldRequestNextLevel=!1;const s=this.source_.get("olcs.proxy");s&&(typeof s=="function"?this.proxy_={getURL:s}:typeof s=="string"&&(this.proxy_=new Cesium.DefaultProxy(s))),this.errorEvent_=new Cesium.Event,this.emptyCanvas_=document.createElement("canvas"),this.emptyCanvas_.width=1,this.emptyCanvas_.height=1,this.source_.on("change",r=>{this.handleSourceChanged_()}),this.handleSourceChanged_()}handleSourceChanged_(e){if(!this.ready_&&this.source_.getState()=="ready"){this.projection_=Tt.getSourceProjection(this.source_)||this.fallbackProj_;const t={numberOfLevelZeroTilesX:1,numberOfLevelZeroTilesY:1};if(this.source_.tileGrid!==null&&this.source_.tileGrid.forEachTileCoord(this.projection_.getExtent(),0,([n,s,r])=>{t.numberOfLevelZeroTilesX=s+1,t.numberOfLevelZeroTilesY=r+1}),this.projection_.getCode()==="EPSG:4326")this.shouldRequestNextLevel=t.numberOfLevelZeroTilesX===1&&t.numberOfLevelZeroTilesY===1,this.tilingScheme_=new Cesium.GeographicTilingScheme(t);else if(this.projection_.getCode()==="EPSG:3857")this.shouldRequestNextLevel=!1,this.tilingScheme_=new Cesium.WebMercatorTilingScheme(t);else return;this.rectangle_=this.tilingScheme_.rectangle,this.ready_=!0}}getTileCredits(e,t,n){const s=this.source_.getAttributions();if(!s)return[];const r=this.map_.getView().calculateExtent(this.map_.getSize()),o=this.map_.getView().getCenter(),a=this.shouldRequestNextLevel?n+1:n;return Yy(s,a,o,r)}requestImage(e,t,n){const s=this.source_.getTileUrlFunction();if(s&&this.projection_){const r=this.shouldRequestNextLevel?n+1:n;let o=t;$I||(o=-t-1);let a=s.call(this.source_,[r,e,o],1,this.projection_);return this.proxy_&&(a=this.proxy_.getURL(a)),a?Cesium.ImageryProvider.loadImage(this,a):this.emptyCanvas_}else return this.emptyCanvas_}}Object.defineProperties(Hy.prototype,{ready:{get:function(){return this.ready_}},rectangle:{get:function(){return this.rectangle_}},tileWidth:{get:function(){const i=this.source_.getTileGrid();return i?Array.isArray(i.getTileSize(0))?i.getTileSize(0)[0]:i.getTileSize(0):256}},tileHeight:{get:function(){const i=this.source_.getTileGrid();return i?Array.isArray(i.getTileSize(0))?i.getTileSize(0)[1]:i.getTileSize(0):256}},maximumLevel:{get:function(){const i=this.source_.getTileGrid();return i?i.getMaxZoom():18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this.tilingScheme_}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this.errorEvent_}},proxy:{get:function(){return this.proxy_}},hasAlphaChannel:{get:function(){return!0}},pickFeatures:{get:function(){}}});const VI=new Uw,WI=[new On({stroke:new ca({color:"blue",width:2})})];class BI{constructor(e){this.urls=e.urls,this.ready=!0,this.readyPromise=Promise.resolve(!0),this.tileWidth=256,this.tileHeight=256,this.maximumLevel=e.maximumLevel||20,this.minimumLevel=e.minimumLevel||0,this.tilingScheme=new Cesium.WebMercatorTilingScheme,this.rectangle=e.rectangle||this.tilingScheme.rectangle,this.errorEvent=new Cesium.Event,this.credit=e.credit,this.hasAlphaChannel=!0,this.styleFunction_=e.styleFunction||(()=>WI),this.projection_=yt("EPSG:3857"),this.emptyCanvas_=document.createElement("canvas"),this.emptyCanvas_.width=1,this.emptyCanvas_.height=1,this.tileRectangle_=new Cesium.Rectangle;const t=e.cacheSize!==void 0?e.cacheSize:50;this.tileCache=new Ph(t),this.featureCache=e.featureCache||new Ph(t);const n=sf(this.projection_);this.tileFunction_=My(this.urls,n)}getTileCredits(){return[]}pickFeatures(){}getTileFeatures(e,t,n){const s=this.getCacheKey_(e,t,n);let r;if(this.featureCache.containsKey(s)&&(r=this.featureCache.get(s)),!r){const o=this.getUrl_(e,t,n);if(r=fetch(o).then(a=>a.ok?a:Promise.reject(a)).then(a=>a.arrayBuffer()).then(a=>this.readFeaturesFromBuffer(a)),this.featureCache.set(s,r),this.featureCache.getCount()>2*this.featureCache.highWaterMark)for(;this.featureCache.canExpireCache();)this.featureCache.pop()}return r}readFeaturesFromBuffer(e){let t;const n=VI.readFeatures(e,t),s=this.tileWidth/4096;return n.forEach(r=>{const o=r.getFlatCoordinates();for(let a=0;a<o.length;++a)o[a]*=s}),n}getUrl_(e,t,n){return this.tileFunction_([e,t,n])}getCacheKey_(e,t,n){return`${e}_${t}_${n}`}requestImage(e,t,n,s){if(n<this.minimumLevel)return this.emptyCanvas_;try{const r=this.getCacheKey_(n,e,t);let o;if(this.tileCache.containsKey(r)&&(o=this.tileCache.get(r)),!o&&(o=this.getTileFeatures(n,e,t).then(a=>{this.tilingScheme.tileXYToNativeRectangle(e,t,n,this.tileRectangle_);const l=(this.tileRectangle_.east-this.tileRectangle_.west)/this.tileWidth;return this.rasterizeFeatures(a,this.styleFunction_,l)}),this.tileCache.set(r,o),this.tileCache.getCount()>2*this.tileCache.highWaterMark))for(;this.tileCache.canExpireCache();)this.tileCache.pop();return o}catch(r){console.trace(r),this.raiseEvent("could not render pbf to tile",r)}}rasterizeFeatures(e,t,n){const s=document.createElement("canvas"),r=uw(s.getContext("2d"),{size:[this.tileWidth,this.tileHeight]});return e.forEach(o=>{const a=t(o,n);a&&a.forEach(l=>{r.setStyle(l),r.drawGeometry(o)})}),s}}const xe={};xe.computePixelSizeAtCoordinate=function(i,e){const t=i.camera,n=i.canvas,s=t.frustum,r=Cesium.Cartesian3.magnitude(Cesium.Cartesian3.subtract(t.position,e,new Cesium.Cartesian3));return s.getPixelDimensions(n.clientWidth,n.clientHeight,r,i.pixelRatio,new Cesium.Cartesian2)};xe.computeBoundingBoxAtTarget=function(i,e,t){const n=xe.computePixelSizeAtCoordinate(i,e),s=Cesium.Transforms.eastNorthUpToFixedFrame(e),r=Cesium.Matrix4.multiplyByPoint(s,new Cesium.Cartesian3(-n.x*t,-n.y*t,0),new Cesium.Cartesian3),o=Cesium.Matrix4.multiplyByPoint(s,new Cesium.Cartesian3(n.x*t,n.y*t,0),new Cesium.Cartesian3);return Cesium.Ellipsoid.WGS84.cartesianArrayToCartographicArray([r,o])};xe.applyHeightOffsetToGeometry=function(i,e){i.applyTransform((t,n,s)=>{if(console.assert(t===n),s!==void 0&&s>=3)for(let r=0;r<n.length;r+=s)n[r+2]=n[r+2]+e;return n})};xe.createMatrixAtCoordinates=function(i,e=0,t=Cesium.Cartesian3.ZERO,n=new Cesium.Cartesian3(1,1,1)){const s=xe.ol4326CoordinateToCesiumCartesian(i),r=Cesium.Transforms.eastNorthUpToFixedFrame(s),o=Cesium.Quaternion.fromAxisAngle(Cesium.Cartesian3.UNIT_Z,-e),a=Cesium.Matrix4.fromTranslationQuaternionRotationScale(t,o,n);return Cesium.Matrix4.multiply(r,a,new Cesium.Matrix4)};xe.rotateAroundAxis=function(i,e,t,n,s){const r=Cesium.Math.clamp,o=Cesium.defaultValue,a=s||{},l=o(a.duration,500),u=o(a.easing,vy),h=a.callback;let f=0;const m=new Cesium.Matrix4,y=Date.now(),v=function(){const b=Date.now()-y,S=u(r(b/l,0,1));console.assert(S>=f),i.transform.clone(m);const A=(S-f)*e;f=S,i.lookAtTransform(n),i.rotate(t,A),i.lookAtTransform(m),S<1?window.requestAnimationFrame(v):h&&h()};window.requestAnimationFrame(v)};xe.setHeadingUsingBottomCenter=function(i,e,t,n){const s=i.camera,r=xe.computeAngleToZenith(i,t),o=s.right,a=Cesium.Quaternion.fromAxisAngle(o,r),l=Cesium.Matrix3.fromQuaternion(a),u=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(s.position,t,u);const h=new Cesium.Cartesian3;Cesium.Matrix3.multiplyByVector(l,u,h),Cesium.Cartesian3.add(h,t,h);const f=Cesium.Matrix4.fromTranslation(h),m=xe.rotateAroundAxis;m(s,e,h,f,n)};xe.pickOnTerrainOrEllipsoid=function(i,e){const t=i.camera.getPickRay(e);return i.globe.pick(t,i)||i.camera.pickEllipsoid(e)};xe.pickBottomPoint=function(i){const e=i.canvas,t=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight);return xe.pickOnTerrainOrEllipsoid(i,t)};xe.pickCenterPoint=function(i){const e=i.canvas,t=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight/2);return xe.pickOnTerrainOrEllipsoid(i,t)};xe.computeSignedTiltAngleOnGlobe=function(i){const e=i.camera,t=new Cesium.Ray(e.position,e.direction);let n=i.globe.pick(t,i);if(!n){const a=Cesium.Ellipsoid.WGS84,l=Cesium.IntersectionTests.rayEllipsoid(t,a);l&&(n=Cesium.Ray.getPoint(t,l.start))}if(!n)return;const s=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(n,s);const r=xe.signedAngleBetween,o=r(e.direction,s,e.right)-Math.PI;return Cesium.Math.convertLongitudeRange(o)};xe.bottomFovRay=function(i){const e=i.camera,t=e.frustum.fovy/2,n=e.direction,s=Cesium.Quaternion.fromAxisAngle(e.right,t),r=Cesium.Matrix3.fromQuaternion(s),o=new Cesium.Cartesian3;return Cesium.Matrix3.multiplyByVector(r,n,o),new Cesium.Ray(e.position,o)};xe.signedAngleBetween=function(i,e,t){const n=new Cesium.Cartesian3,s=new Cesium.Cartesian3,r=new Cesium.Cartesian3;Cesium.Cartesian3.normalize(i,n),Cesium.Cartesian3.normalize(e,s),Cesium.Cartesian3.cross(n,s,r);const o=Cesium.Cartesian3.dot(n,s),a=Cesium.Cartesian3.magnitude(r),l=Cesium.Cartesian3.dot(t,r),u=Math.atan2(a,o);return l>=0?u:-u};xe.computeAngleToZenith=function(i,e){const t=i.camera,n=t.frustum.fovy/2,s=xe.bottomFovRay(i),r=Cesium.Cartesian3.clone(s.direction);Cesium.Cartesian3.negate(r,r);const o=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(e,o);const a=new Cesium.Cartesian3;return Cesium.Cartesian3.negate(t.right,a),xe.signedAngleBetween(o,r,a)+n};xe.extentToRectangle=function(i,e){if(i&&e){const t=L_(i,e,"EPSG:4326");return Cesium.Rectangle.fromDegrees(t[0],t[1],t[2],t[3])}else return null};xe.sourceToImageryProvider=function(i,e,t,n){const s=e.get("olcs_skip");if(s)return null;let r=null;if(e instanceof fI&&e.getUrl()&&e.getImageLoadFunction()===df){const o={"olcs.proxy":e.get("olcs.proxy"),"olcs.extent":e.get("olcs.extent"),"olcs.projection":e.get("olcs.projection"),"olcs.imagesource":e};e=new lI({url:e.getUrl(),attributions:e.getAttributions(),projection:e.getProjection(),params:e.getParams()}),e.setProperties(o)}if(e instanceof Hc){let o=Tt.getSourceProjection(e);if(o||(o=t),xe.isCesiumProjection(o))r=new Hy(i,e,t);else return null}else if(e instanceof hI){let o=Tt.getSourceProjection(e);if(o||(o=t),xe.isCesiumProjection(o))r=new Cesium.SingleTileImageryProvider({url:e.getUrl(),rectangle:new Cesium.Rectangle.fromDegrees(e.getImageExtent()[0],e.getImageExtent()[1],e.getImageExtent()[2],e.getImageExtent()[3])});else return null}else if(e instanceof Sb){let o=Tt.getSourceProjection(e);if(o||(o=t),s===!1){const a=o.getCode().split(":")[1],l=e.urls.map(E=>E.replace(a,"3857")),u=n.getExtent(),h=xe.extentToRectangle(u,o),f=e.get("olcs_minimumLevel"),m=e.getAttributions(),y=n.getStyleFunction();let v;if(u&&m){const E=Oi(u);v=Yy(m,0,E,u)[0]}return r=new BI({credit:v,rectangle:h,minimumLevel:f,styleFunction:y,urls:l}),r}return null}else return null;return r};xe.tileLayerToImageryLayer=function(i,e,t){if(!(e instanceof Xo)&&!(e instanceof ly)&&!(e instanceof Ry))return null;const n=e.getSource();if(!n)return null;let s=n.get("olcs_provider");if(s||(s=this.sourceToImageryProvider(i,n,t,e)),!s)return null;const r={},a=e.get("olcs.extent")||e.getExtent();return a&&(r.rectangle=xe.extentToRectangle(a,t)),new Cesium.ImageryLayer(s,r)};xe.updateCesiumLayerProperties=function(i,e){let t=1,n=!0;[i.layer].concat(i.parents).forEach(s=>{const r=s.getOpacity();r!==void 0&&(t*=r);const o=s.getVisible();o!==void 0&&(n&=o)}),e.alpha=t,e.show=n};xe.ol4326CoordinateToCesiumCartesian=function(i){const e=i;return e.length>2?Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]):Cesium.Cartesian3.fromDegrees(e[0],e[1])};xe.ol4326CoordinateArrayToCsCartesians=function(i){console.assert(i!==null);const e=xe.ol4326CoordinateToCesiumCartesian,t=[];for(let n=0;n<i.length;++n)t.push(e(i[n]));return t};xe.olGeometryCloneTo4326=function(i,e){console.assert(e);const t=yt("EPSG:4326"),n=yt(e);if(n.getCode()!==t.getCode()){const s=i.getProperties();i=i.clone(),i.transform(n,t),i.setProperties(s)}return i};xe.convertColorToCesium=function(i){if(i=i||"black",Array.isArray(i))return new Cesium.Color(Cesium.Color.byteToFloat(i[0]),Cesium.Color.byteToFloat(i[1]),Cesium.Color.byteToFloat(i[2]),i[3]);if(typeof i=="string")return Cesium.Color.fromCssColorString(i);if(i instanceof CanvasPattern||i instanceof CanvasGradient){const e=document.createElement("canvas"),t=e.getContext("2d");return e.width=e.height=256,t.fillStyle=i,t.fillRect(0,0,e.width,e.height),new Cesium.ImageMaterialProperty({image:e})}console.assert(!1,"impossible")};xe.convertUrlToCesium=function(i){let e="";const t=/\{(\d|[a-z])-(\d|[a-z])\}/,n=t.exec(i);if(n){i=i.replace(t,"{s}");const s=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let o;for(o=s;o<=r;++o)e+=String.fromCharCode(o)}return{url:i,subdomains:e}};xe.resetToNorthZenith=function(i,e){return new Promise((t,n)=>{const s=e.camera,r=xe.pickBottomPoint(e);if(!r){n("Could not get bottom pivot");return}const o=i.getView().getRotation();if(o===void 0){n("The view is not initialized");return}const a=xe.computeAngleToZenith(e,r);xe.setHeadingUsingBottomCenter(e,o,r);const l=Cesium.Matrix4.fromTranslation(r),u=s.right,h={callback:()=>{const f=i.getView();xe.normalizeView(f),t()}};xe.rotateAroundAxis(s,-a,u,l,h)})};xe.rotateAroundBottomCenter=function(i,e){return new Promise((t,n)=>{const s=i.camera,r=xe.pickBottomPoint(i);if(!r){n("could not get bottom pivot");return}const o={callback:t},a=Cesium.Matrix4.fromTranslation(r),l=s.right,u=xe.rotateAroundAxis;u(s,-e,l,a,o)})};xe.normalizeView=function(i,e=0){const t=i.getResolution();i.setRotation(e),i.constrainResolution?i.setResolution(i.constrainResolution(t)):i.setResolution(i.getConstrainedResolution(t))};xe.isCesiumProjection=function(i){const e=i.getCode()==="EPSG:3857",t=i.getCode()==="EPSG:4326";return e||t};function Yy(i,e,t,n){const s={viewState:{zoom:e,center:t},extent:n};if(!i)return[];let r=i(s);return Array.isArray(r)||(r=[r]),r.map(o=>new Cesium.Credit(o,!0))}function zI(i,e,t,n){const s=t.canvas,o=t.camera.frustum.fovy;console.assert(!isNaN(o));const a=n.getMetersPerUnit(),l=i*s.clientHeight,u=Math.cos(Math.abs(e));return l*a*u/2/Math.tan(o/2)}function HI(i,e,t,n){const s=t.canvas,o=t.camera.frustum.fovy;console.assert(!isNaN(o));const a=n.getMetersPerUnit(),l=2*i*Math.tan(o/2),u=Math.cos(Math.abs(e));return l/a/u/s.clientHeight}class YI{constructor(e){this.ol3d=e,this.scene_=e.getCesiumScene(),this.canvas_=this.scene_.canvas,this._boundNotifyRepaintRequired=this.notifyRepaintRequired.bind(this),this.repaintEventNames_=["mousemove","mousedown","mouseup","touchstart","touchend","touchmove","pointerdown","pointerup","pointermove","wheel"],this.enable()}enable(){this.scene_.requestRenderMode=!0,this.scene_.maximumRenderTimeChange=1e3;for(const e of this.repaintEventNames_)this.canvas_.addEventListener(e,this._boundNotifyRepaintRequired,!1);window.addEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().on("change",this._boundNotifyRepaintRequired)}disable(){for(const e of this.repaintEventNames_)this.canvas_.removeEventListener(e,this._boundNotifyRepaintRequired,!1);window.removeEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().un("change",this._boundNotifyRepaintRequired),this.scene_.requestRenderMode=!1}restartRenderLoop(){this.notifyRepaintRequired()}notifyRepaintRequired(){this.scene_.requestRender()}}function _l(i){return i*180/Math.PI}function No(i){return i*Math.PI/180}class Gr{constructor(e,t){this.scene_=e,this.cam_=e.camera,this.map_=t,this.view_=null,this.viewListenKey_=null,this.toLonLat_=Gr.identityProjection,this.fromLonLat_=Gr.identityProjection,this.tilt_=0,this.distance_=0,this.lastCameraViewMatrix_=null,this.viewUpdateInProgress_=!1,this.map_.on("change:view",n=>{this.setView_(this.map_.getView())}),this.setView_(this.map_.getView())}static identityProjection(e,t,n){const s=n||e.length;if(t)for(let r=0;r<s;++r)t[r]=e[r];return e}setView_(e){if(this.view_&&(An(this.viewListenKey_),this.viewListenKey_=null),this.view_=e,e){const t=_s(e.getProjection(),"EPSG:4326"),n=_s("EPSG:4326",e.getProjection());console.assert(t&&n),this.toLonLat_=t,this.fromLonLat_=n,this.viewListenKey_=e.on("propertychange",s=>this.handleViewEvent_(s)),this.readFromView()}else this.toLonLat_=Gr.identityProjection,this.fromLonLat_=Gr.identityProjection}handleViewEvent_(e){this.viewUpdateInProgress_||this.readFromView()}setHeading(e){this.view_&&this.view_.setRotation(e)}getHeading(){return this.view_?this.view_.getRotation()||0:void 0}setTilt(e){this.tilt_=e,this.updateCamera_()}getTilt(){return this.tilt_}setDistance(e){this.distance_=e,this.updateCamera_(),this.updateView()}getDistance(){return this.distance_}setCenter(e){this.view_&&this.view_.setCenter(e)}getCenter(){if(this.view_)return this.view_.getCenter()}setPosition(e){if(!this.toLonLat_)return;const t=this.toLonLat_(e);console.assert(t);const n=new Cesium.Cartographic(No(t[0]),No(t[1]),this.getAltitude());this.cam_.setView({destination:Cesium.Ellipsoid.WGS84.cartographicToCartesian(n)}),this.updateView()}getPosition(){if(!this.fromLonLat_)return;const e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position),t=this.fromLonLat_([_l(e.longitude),_l(e.latitude)]);return console.assert(t),t}setAltitude(e){const t=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);t.height=e,this.cam_.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(t),this.updateView()}getAltitude(){return Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position).height}updateCamera_(){if(!this.view_||!this.toLonLat_)return;const e=this.view_.getCenter();if(!e)return;const t=this.toLonLat_(e);console.assert(t);const n=new Cesium.Cartographic(No(t[0]),No(t[1]));if(this.scene_.globe){const o=this.scene_.globe.getHeight(n);n.height=o||0}const s=Cesium.Ellipsoid.WGS84.cartographicToCartesian(n),r={pitch:this.tilt_-Cesium.Math.PI_OVER_TWO,heading:-this.view_.getRotation(),roll:void 0};this.cam_.setView({destination:s,orientation:r}),this.cam_.moveBackward(this.distance_),this.checkCameraChange(!0)}readFromView(){if(!this.view_||!this.toLonLat_)return;const e=this.view_.getCenter();if(e==null)return;const t=this.toLonLat_(e);console.assert(t);const n=this.view_.getResolution();this.distance_=this.calcDistanceForResolution(n||0,No(t[1])),this.updateCamera_()}updateView(){if(!this.view_||!this.fromLonLat_)return;this.viewUpdateInProgress_=!0;const e=Cesium.Ellipsoid.WGS84,t=this.scene_,n=xe.pickCenterPoint(t);let s=n;if(!s){const o=t.globe,a=this.cam_.positionCartographic.clone(),l=o.getHeight(a);a.height=l||0,s=Cesium.Ellipsoid.WGS84.cartographicToCartesian(a)}this.distance_=Cesium.Cartesian3.distance(s,this.cam_.position);const r=e.cartesianToCartographic(s);if(this.view_.setCenter(this.fromLonLat_([_l(r.longitude),_l(r.latitude)])),this.view_.setResolution(this.calcResolutionForDistance(this.distance_,r?r.latitude:0)),n){const o=this.cam_.position,a=new Cesium.Cartesian3;e.geocentricSurfaceNormal(n,a);const l=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(o,n,l),Cesium.Cartesian3.normalize(l,l);const u=this.cam_.up,h=this.cam_.right,f=new Cesium.Cartesian3(-n.y,n.x,0),m=Cesium.Cartesian3.angleBetween(h,f),v=Cesium.Cartesian3.cross(n,u,new Cesium.Cartesian3).z;this.view_.setRotation(v<0?m:-m);const E=Math.acos(Cesium.Cartesian3.dot(a,l));this.tilt_=isNaN(E)?0:E}else this.view_.setRotation(this.cam_.heading),this.tilt_=-this.cam_.pitch+Math.PI/2;this.viewUpdateInProgress_=!1}checkCameraChange(e){const t=this.lastCameraViewMatrix_,n=this.cam_.viewMatrix;(!t||!Cesium.Matrix4.equalsEpsilon(t,n,1e-5))&&(this.lastCameraViewMatrix_=n.clone(),e!==!0&&this.updateView())}calcDistanceForResolution(e,t){return zI(e,t,this.scene_,this.view_.getProjection())}calcResolutionForDistance(e,t){return HI(e,t,this.scene_,this.view_.getProjection())}}class Uy{constructor(e,t){this.map=e,this.view=e.getView(),this.scene=t,this.olLayers=e.getLayerGroup().getLayers(),this.mapLayerGroup=e.getLayerGroup(),this.layerMap={},this.olLayerListenKeys={},this.olGroupListenKeys_={}}synchronize(){this.destroyAll(),this.addLayers_(this.mapLayerGroup)}orderLayers(){}addLayers_(e){const t=[{layer:e,parents:[]}];for(;t.length>0;){const n=t.splice(0,1)[0],s=n.layer,r=$t(s).toString();this.olLayerListenKeys[r]=[],console.assert(!this.layerMap[r]);let o=null;if(s instanceof lr)this.listenForGroupChanges_(s),s!==this.mapLayerGroup&&(o=this.createSingleLayerCounterparts(n)),o||s.getLayers().forEach(a=>{if(a){const l={layer:a,parents:s===this.mapLayerGroup?[]:[n.layer].concat(n.parents)};t.push(l)}});else if(o=this.createSingleLayerCounterparts(n),!o){const a=r,l=n,u=h=>{const f=this.createSingleLayerCounterparts(l);f&&(l.layer.un("change",u),this.addCesiumObjects_(f,a,l.layer),this.orderLayers())};this.olLayerListenKeys[r].push(kr(l.layer,"change",u))}o&&this.addCesiumObjects_(o,r,s)}this.orderLayers()}addCesiumObjects_(e,t,n){this.layerMap[t]=e,this.olLayerListenKeys[t].push(kr(n,"change:zIndex",()=>this.orderLayers())),e.forEach(s=>{this.addCesiumObject(s)})}removeAndDestroySingleLayer_(e){const t=$t(e).toString(),n=this.layerMap[t];return n&&(n.forEach(s=>{this.removeSingleCesiumObject(s,!1),this.destroyCesiumObject(s)}),this.olLayerListenKeys[t].forEach(An),delete this.olLayerListenKeys[t]),delete this.layerMap[t],!!n}unlistenSingleGroup_(e){if(e===this.mapLayerGroup)return;const t=$t(e).toString();this.olGroupListenKeys_[t].forEach(s=>{An(s)}),delete this.olGroupListenKeys_[t],delete this.layerMap[t]}removeLayer_(e){if(e){const t=[e];for(;t.length>0;){const n=t.splice(0,1)[0],s=this.removeAndDestroySingleLayer_(n);n instanceof lr&&(this.unlistenSingleGroup_(n),s||n.getLayers().forEach(r=>{t.push(r)}))}}}listenForGroupChanges_(e){const t=$t(e).toString();console.assert(this.olGroupListenKeys_[t]===void 0);const n=[];this.olGroupListenKeys_[t]=n;let s=[];const r=function(){const o=e.getLayers();o&&(s=[o.on("add",a=>{this.addLayers_(a.element)}),o.on("remove",a=>{this.removeLayer_(a.element)})],n.push(...s))}.bind(this);r(),n.push(e.on("change:layers",o=>{s.forEach(a=>{const l=n.indexOf(a);l>=0&&n.splice(l,1),An(a)}),r()}))}destroyAll(){this.removeAllCesiumObjects(!0);let e;for(e in this.olGroupListenKeys_)this.olGroupListenKeys_[e].forEach(An);for(e in this.olLayerListenKeys)this.olLayerListenKeys[e].forEach(An);this.olGroupListenKeys_={},this.olLayerListenKeys={},this.layerMap={}}addCesiumObject(e){}destroyCesiumObject(e){}removeSingleCesiumObject(e,t){}removeAllCesiumObjects(e){}createSingleLayerCounterparts(e){}}class UI extends Uy{constructor(e,t){super(e,t),this.cesiumLayers_=t.imageryLayers,this.ourLayers_=new Cesium.ImageryLayerCollection}addCesiumObject(e){this.cesiumLayers_.add(e),this.ourLayers_.add(e)}destroyCesiumObject(e){e.destroy()}removeSingleCesiumObject(e,t){this.cesiumLayers_.remove(e,t),this.ourLayers_.remove(e,!1)}removeAllCesiumObjects(e){for(let t=0;t<this.ourLayers_.length;++t)this.cesiumLayers_.remove(this.ourLayers_.get(t),e);this.ourLayers_.removeAll(!1)}convertLayerToCesiumImageries(e,t){const n=xe.tileLayerToImageryLayer(this.map,e,t);return n?[n]:null}createSingleLayerCounterparts(e){const t=e.layer,n=$t(t).toString(),s=this.view.getProjection();console.assert(s);const r=this.convertLayerToCesiumImageries(t,s);if(r){const o=[];if([e.layer].concat(e.parents).forEach(a=>{o.push(a.on(["change:opacity","change:visible"],()=>{console.assert(r);for(let l=0;l<r.length;++l)xe.updateCesiumLayerProperties(e,r[l])}))}),t.getStyleFunction){let a=t.getStyleFunction();o.push(t.on("change",()=>{const l=t.getStyleFunction();if(a!==l){a=l;for(let u=0;u<r.length;++u){const h=r[u];h._imageryCache&&h.imageryProvider.cache_&&(h._imageryCache={},h.imageryProvider.cache_={},h.imageryProvider.styleFunction_=l)}this.scene.requestRender()}}))}for(let a=0;a<r.length;++a)xe.updateCesiumLayerProperties(e,r[a]);o.push(t.on("change:extent",a=>{for(let l=0;l<r.length;++l)this.cesiumLayers_.remove(r[l],!0),this.ourLayers_.remove(r[l],!1);delete this.layerMap[$t(t)],this.synchronize()})),o.push(t.on("change",a=>{for(let l=0;l<r.length;++l){const u=this.cesiumLayers_.indexOf(r[l]);u>=0&&(this.cesiumLayers_.remove(r[l],!1),this.cesiumLayers_.add(r[l],u))}})),this.olLayerListenKeys[n].push(...o)}return Array.isArray(r)?r:null}orderLayers(){const e=[],t={},n=[this.mapLayerGroup];for(;n.length>0;){const s=n.splice(0,1)[0];if(e.push(s),t[$t(s)]=s.getZIndex()||0,s instanceof lr){const r=s.getLayers();r&&n.unshift(...r.getArray())}}kI(e,(s,r)=>t[$t(s)]-t[$t(r)]),e.forEach(s=>{const r=$t(s).toString(),o=this.layerMap[r];o&&o.forEach(a=>{this.raiseToTop(a)})})}raiseToTop(e){this.cesiumLayers_.raiseToTop(e)}}class XI{constructor(e,t){const n=new Cesium.BillboardCollection({scene:t}),s=new Cesium.PrimitiveCollection;this.olListenKeys=[],this.rootCollection_=new Cesium.PrimitiveCollection,this.context={projection:e,billboards:n,featureToCesiumMap:{},primitives:s},this.rootCollection_.add(n),this.rootCollection_.add(s)}destroy(){this.olListenKeys.forEach(An),this.olListenKeys.length=0}getRootPrimitive(){return this.rootCollection_}}class KI{constructor(e){this.scene=e,this.boundOnRemoveOrClearFeatureListener_=this.onRemoveOrClearFeature_.bind(this),this.defaultBillboardEyeOffset_=new Cesium.Cartesian3(0,0,10)}onRemoveOrClearFeature_(e){const t=e.target;console.assert(t instanceof Pn);const n=Tt.obj(t).olcs_cancellers;if(n){const s=e.feature;if(s){const r=$t(s),o=n[r];o&&(o(),delete n[r])}else{for(const r in n)n.hasOwnProperty(r)&&n[r]();Tt.obj(t).olcs_cancellers={}}}}setReferenceForPicking(e,t,n){n.olLayer=e,n.olFeature=t}createColoredPrimitive(e,t,n,s,r,o){const a=function(m,y){const v=new Cesium.GeometryInstance({geometry:m});return y&&!(y instanceof Cesium.ImageMaterialProperty)&&(v.attributes={color:Cesium.ColorGeometryInstanceAttribute.fromColor(y)}),v},l={flat:!0,renderState:{depthTest:{enabled:!0}}};o!==void 0&&(l.renderState||(l.renderState={}),l.renderState.lineWidth=o);const u=a(s,r),h=this.getHeightReference(e,t,n);let f;if(h===Cesium.HeightReference.CLAMP_TO_GROUND){const m=u.geometry.constructor;if(m&&!m.createShadowVolume)return null;f=new Cesium.GroundPrimitive({geometryInstances:u})}else f=new Cesium.Primitive({geometryInstances:u});if(r instanceof Cesium.ImageMaterialProperty){const m=r.image.getValue().toDataURL();f.appearance=new Cesium.MaterialAppearance({flat:!0,renderState:{depthTest:{enabled:!0}},material:new Cesium.Material({fabric:{type:"Image",uniforms:{image:m}}})})}else f.appearance=new Cesium.PerInstanceColorAppearance(l);return this.setReferenceForPicking(e,t,f),f}extractColorFromOlStyle(e,t){const n=e.getFill()?e.getFill().getColor():null,s=e.getStroke()?e.getStroke().getColor():null;let r="black";return s&&t?r=s:n&&(r=n),xe.convertColorToCesium(r)}extractLineWidthFromOlStyle(e){const t=e.getStroke()?e.getStroke().getWidth():void 0;return t!==void 0?t:1}wrapFillAndOutlineGeometries(e,t,n,s,r,o){const a=this.extractColorFromOlStyle(o,!1),l=this.extractColorFromOlStyle(o,!0),u=new Cesium.PrimitiveCollection;if(o.getFill()){const h=this.createColoredPrimitive(e,t,n,s,a);console.assert(!!h),u.add(h)}if(o.getStroke()&&r){const h=this.extractLineWidthFromOlStyle(o),f=this.createColoredPrimitive(e,t,n,r,l,h);f&&u.add(f)}return u}addTextStyle(e,t,n,s,r){let o;if(r instanceof Cesium.PrimitiveCollection?o=r:(o=new Cesium.PrimitiveCollection,o.add(r)),!s.getText())return o;const a=s.getText(),l=this.olGeometry4326TextPartToCesium(e,t,n,a);return l&&o.add(l),o}csAddBillboard(e,t,n,s,r,o){t.eyeOffset||(t.eyeOffset=this.defaultBillboardEyeOffset_);const a=e.add(t);return this.setReferenceForPicking(n,s,a),a}olCircleGeometryToCesium(e,t,n,s,r){n=xe.olGeometryCloneTo4326(n,s),console.assert(n.getType()=="Circle");let o=n.getCenter();const a=o.length==3?o[2]:0;let l=o.slice();l[0]+=n.getRadius(),o=xe.ol4326CoordinateToCesiumCartesian(o),l=xe.ol4326CoordinateToCesiumCartesian(l);const u=Cesium.Cartesian3.distance(o,l),h=new Cesium.CircleGeometry({center:o,radius:u,height:a});let f,m;if(this.getHeightReference(e,t,n)===Cesium.HeightReference.CLAMP_TO_GROUND){const v=this.extractLineWidthFromOlStyle(r);if(v){const E=Ew(n.getCenter(),u),b=xe.ol4326CoordinateArrayToCsCartesians(E.getLinearRing(0).getCoordinates());if(Wu(this.scene))f=new Cesium.GroundPolylinePrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.GroundPolylineGeometry({positions:b,width:v})}),appearance:new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,r,!0)}),classificationType:Cesium.ClassificationType.TERRAIN}),f.readyPromise.then(()=>{this.setReferenceForPicking(e,t,f._primitive)});else{const S=this.extractColorFromOlStyle(r,!0);f=this.createStackedGroundCorridors(e,t,v,S,b)}}}else m=new Cesium.CircleOutlineGeometry({center:o,radius:u,extrudedHeight:a,height:a});const y=this.wrapFillAndOutlineGeometries(e,t,n,h,m,r);return f&&y.add(f),this.addTextStyle(e,t,n,r,y)}createStackedGroundCorridors(e,t,n,s,r){Array.isArray(r[0])||(r=[r]),n=Math.max(3,n);const o=[];let a=0;for(const l of[1e3,4e3,16e3,64e3,254e3,1e6,1e7]){n*=2.14;const u={width:n,vertexFormat:Cesium.VertexFormat.POSITION_ONLY};for(const h of r)u.positions=h,o.push(new Cesium.GeometryInstance({geometry:new Cesium.CorridorGeometry(u),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(s),distanceDisplayCondition:new Cesium.DistanceDisplayConditionGeometryInstanceAttribute(a,l-1)}}));a=l}return new Cesium.GroundPrimitive({geometryInstances:o})}olLineStringGeometryToCesium(e,t,n,s,r){n=xe.olGeometryCloneTo4326(n,s),console.assert(n.getType()=="LineString");const o=xe.ol4326CoordinateArrayToCsCartesians(n.getCoordinates()),a=this.extractLineWidthFromOlStyle(r);let l;const u=this.getHeightReference(e,t,n);if(u===Cesium.HeightReference.CLAMP_TO_GROUND&&!Wu(this.scene)){const h=this.extractColorFromOlStyle(r,!0);l=this.createStackedGroundCorridors(e,t,a,h,o)}else{const h=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,r,!0)}),f={positions:o,width:a},m={appearance:h};if(u===Cesium.HeightReference.CLAMP_TO_GROUND){const y=new Cesium.GroundPolylineGeometry(f);m.geometryInstances=new Cesium.GeometryInstance({geometry:y}),l=new Cesium.GroundPolylinePrimitive(m),l.readyPromise.then(()=>{this.setReferenceForPicking(e,t,l._primitive)})}else{f.vertexFormat=h.vertexFormat;const y=new Cesium.PolylineGeometry(f);m.geometryInstances=new Cesium.GeometryInstance({geometry:y}),l=new Cesium.Primitive(m)}}return this.setReferenceForPicking(e,t,l),this.addTextStyle(e,t,n,r,l)}olPolygonGeometryToCesium(e,t,n,s,r){n=xe.olGeometryCloneTo4326(n,s),console.assert(n.getType()=="Polygon");const o=this.getHeightReference(e,t,n);let a,l,u;if(n.getCoordinates()[0].length==5&&t.getGeometry().get("olcs.polygon_kind")==="rectangle"){const f=n.getCoordinates()[0],m=Vl(f),y=Cesium.Rectangle.fromDegrees(m[0],m[1],m[2],m[3]);let v=0;if(f[0].length==3)for(let E=0;E<f.length;E++)v=Math.max(v,f[E][2]);a=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:y,height:v}),l=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:y,height:v})}else{const f=n.getLinearRings(),m={},y=m;console.assert(f.length>0);for(let v=0;v<f.length;++v){const E=f[v].getCoordinates(),b=xe.ol4326CoordinateArrayToCsCartesians(E);console.assert(b&&b.length>0),v==0?m.positions=b:(m.holes||(m.holes=[]),m.holes.push({positions:b}))}if(a=new Cesium.PolygonGeometry({polygonHierarchy:y,perPositionHeight:!0}),o===Cesium.HeightReference.CLAMP_TO_GROUND){const v=this.extractLineWidthFromOlStyle(r);if(v>0){const E=[m.positions];if(m.holes)for(let b=0;b<m.holes.length;++b)E.push(m.holes[b].positions);if(Wu(this.scene)){const b=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,r,!0)}),S=[];for(const R of E){const I=new Cesium.GroundPolylineGeometry({positions:R,width:v});S.push(new Cesium.GeometryInstance({geometry:I}))}const A={appearance:b,geometryInstances:S};u=new Cesium.GroundPolylinePrimitive(A),u.readyPromise.then(()=>{this.setReferenceForPicking(e,t,u._primitive)})}else{const b=this.extractColorFromOlStyle(r,!0);u=this.createStackedGroundCorridors(e,t,v,b,E)}}}else l=new Cesium.PolygonOutlineGeometry({polygonHierarchy:m,perPositionHeight:!0})}const h=this.wrapFillAndOutlineGeometries(e,t,n,a,l,r);return u&&h.add(u),this.addTextStyle(e,t,n,r,h)}getHeightReference(e,t,n){let s=n.get("altitudeMode");s===void 0&&(s=t.get("altitudeMode")),s===void 0&&(s=e.get("altitudeMode"));let r=Cesium.HeightReference.NONE;return s==="clampToGround"?r=Cesium.HeightReference.CLAMP_TO_GROUND:s==="relativeToGround"&&(r=Cesium.HeightReference.RELATIVE_TO_GROUND),r}createBillboardFromImage(e,t,n,s,r,o,a,l){o instanceof ma&&o.load();const u=o.getImage(1),h=function(m){return m.src!=""&&m.naturalHeight!=0&&m.naturalWidth!=0&&m.complete},f=function(){if(!u||!(u instanceof HTMLCanvasElement||u instanceof Image||u instanceof HTMLImageElement))return;const m=n.getCoordinates(),y=xe.ol4326CoordinateToCesiumCartesian(m);let v;const E=o.getOpacity();E!==void 0&&(v=new Cesium.Color(1,1,1,E));const b=o.getScale(),S=this.getHeightReference(e,t,n),A={image:u,color:v,scale:b,heightReference:S,position:y};if(Object.assign(A,t.get("cesiumOptions")),o instanceof ma){const I=o.getAnchor();I&&(A.pixelOffset=new Cesium.Cartesian2((u.width/2-I[0])*b,(u.height/2-I[1])*b))}const R=this.csAddBillboard(a,A,e,t,n,r);l&&l(R)}.bind(this);if(u instanceof Image&&!h(u)){let m=!1;const y=e.getSource(),v=function(){m=!0};y.on(["removefeature","clear"],this.boundOnRemoveOrClearFeatureListener_);let E=Tt.obj(y).olcs_cancellers;E||(E=Tt.obj(y).olcs_cancellers={});const b=$t(t);E[b]&&E[b](),E[b]=v;const S=function(){u.removeEventListener("load",S),!a.isDestroyed()&&!m&&f()};u.addEventListener("load",S)}else f()}olPointGeometryToCesium(e,t,n,s,r,o,a){console.assert(n.getType()=="Point"),n=xe.olGeometryCloneTo4326(n,s);let l=null;const u=r.getImage();if(u){const h=n.get("olcs_model")||t.get("olcs_model");if(h){const f=h(),m=Object.assign({},{scene:this.scene},f.cesiumOptions),y=Cesium.Model.fromGltf(m);l=new Cesium.PrimitiveCollection,l.add(y),f.debugModelMatrix&&l.add(new Cesium.DebugModelMatrixPrimitive({modelMatrix:f.debugModelMatrix}))}else this.createBillboardFromImage(e,t,n,s,r,u,o,a)}return r.getText()?this.addTextStyle(e,t,n,r,l||new Cesium.Primitive):l}olMultiGeometryToCesium(e,t,n,s,r,o,a){const l=function(h,f){const m=new Cesium.PrimitiveCollection;return h.forEach(y=>{m.add(f(e,t,y,s,r))}),m};let u;switch(n.getType()){case"MultiPoint":if(n=n,u=n.getPoints(),r.getText()){const h=new Cesium.PrimitiveCollection;return u.forEach(f=>{console.assert(f);const m=this.olPointGeometryToCesium(e,t,f,s,r,o,a);m&&h.add(m)}),h}else return u.forEach(h=>{console.assert(h),this.olPointGeometryToCesium(e,t,h,s,r,o,a)}),null;case"MultiLineString":return n=n,u=n.getLineStrings(),l(u,this.olLineStringGeometryToCesium.bind(this));case"MultiPolygon":return n=n,u=n.getPolygons(),l(u,this.olPolygonGeometryToCesium.bind(this));default:console.assert(!1,`Unhandled multi geometry type${n.getType()}`)}}olGeometry4326TextPartToCesium(e,t,n,s){const r=s.getText();if(!r)return null;const o=new Cesium.LabelCollection({scene:this.scene}),a=Oi(n.getExtent());if(n instanceof Vn){const v=n.getFirstCoordinate();a[2]=v.length==3?v[2]:0}const l={};l.position=xe.ol4326CoordinateToCesiumCartesian(a),l.text=r,l.heightReference=this.getHeightReference(e,t,n);const u=s.getOffsetX(),h=s.getOffsetY();if(u!=0&&h!=0){const v=new Cesium.Cartesian2(u,h);l.pixelOffset=v}l.font=s.getFont()||"10px sans-serif";let f;s.getFill()&&(l.fillColor=this.extractColorFromOlStyle(s,!1),f=Cesium.LabelStyle.FILL),s.getStroke()&&(l.outlineWidth=this.extractLineWidthFromOlStyle(s),l.outlineColor=this.extractColorFromOlStyle(s,!0),f=Cesium.LabelStyle.OUTLINE),s.getFill()&&s.getStroke()&&(f=Cesium.LabelStyle.FILL_AND_OUTLINE),l.style=f;let m;switch(s.getTextAlign()){case"left":m=Cesium.HorizontalOrigin.LEFT;break;case"right":m=Cesium.HorizontalOrigin.RIGHT;break;case"center":default:m=Cesium.HorizontalOrigin.CENTER}if(l.horizontalOrigin=m,s.getTextBaseline()){let v;switch(s.getTextBaseline()){case"top":v=Cesium.VerticalOrigin.TOP;break;case"middle":v=Cesium.VerticalOrigin.CENTER;break;case"bottom":v=Cesium.VerticalOrigin.BOTTOM;break;case"alphabetic":v=Cesium.VerticalOrigin.TOP;break;case"hanging":v=Cesium.VerticalOrigin.BOTTOM;break;default:console.assert(!1,`unhandled baseline ${s.getTextBaseline()}`)}l.verticalOrigin=v}const y=o.add(l);return this.setReferenceForPicking(e,t,y),o}olStyleToCesium(e,t,n){const s=t.getFill(),r=t.getStroke();if(n&&!r||!n&&!s)return null;let o=n?r.getColor():s.getColor();return o=xe.convertColorToCesium(o),n&&r.getLineDash()?Cesium.Material.fromType("Stripe",{horizontal:!1,repeat:500,evenColor:o,oddColor:new Cesium.Color(0,0,0,0)}):Cesium.Material.fromType("Color",{color:o})}computePlainStyle(e,t,n,s){const r=t.getStyleFunction();let o=null;return r&&(o=r(t,s)),!o&&n&&(o=n(t,s)),o?Array.isArray(o)?o:[o]:null}getGeometryFromFeature(e,t,n){if(n)return n;const s=e.get("olcs.3d_geometry");if(s&&s instanceof xh)return s;if(t){const r=t.getGeometryFunction()(e);if(r instanceof xh)return r}return e.getGeometry()}olFeatureToCesium(e,t,n,s,r){let o=this.getGeometryFromFeature(t,n,r);if(!o)return null;const a=s.projection,l=function(u){const h=s.featureToCesiumMap[$t(t)];h instanceof Array?h.push(u):s.featureToCesiumMap[$t(t)]=[u]};switch(o.getType()){case"GeometryCollection":const u=new Cesium.PrimitiveCollection;return o.getGeometries().forEach(v=>{if(v){const E=this.olFeatureToCesium(e,t,n,s,v);E&&u.add(E)}}),u;case"Point":o=o;const f=s.billboards,m=this.olPointGeometryToCesium(e,t,o,a,n,f,l);return m||null;case"Circle":return o=o,this.olCircleGeometryToCesium(e,t,o,a,n);case"LineString":return o=o,this.olLineStringGeometryToCesium(e,t,o,a,n);case"Polygon":return o=o,this.olPolygonGeometryToCesium(e,t,o,a,n);case"MultiPoint":case"MultiLineString":case"MultiPolygon":const y=this.olMultiGeometryToCesium(e,t,o,a,n,s.billboards,l);return y||null;case"LinearRing":throw new Error("LinearRing should only be part of polygon.");default:throw new Error(`Ol geom type not handled : ${o.getType()}`)}}olVectorLayerToCesium(e,t,n){const s=t.getProjection(),r=t.getResolution();if(r===void 0||!s)throw console.assert(!1,"View not ready"),new Error("View not ready");let o=e.getSource();o instanceof zy&&(o=o.getSource()),console.assert(o instanceof Pn);const a=o.getFeatures(),l=new XI(s,this.scene),u=l.context;for(let h=0;h<a.length;++h){const f=a[h];if(!f)continue;const m=e.getStyleFunction(),y=this.computePlainStyle(e,f,m,r);if(!y||!y.length)continue;let v=null;for(let E=0;E<y.length;E++){const b=this.olFeatureToCesium(e,f,y[E],u);if(b){if(!v)v=b;else if(b){let S=0,A;for(;A=b.get(S);)v.add(A),S++}}}v&&(n[$t(f)]=v,l.getRootPrimitive().add(v))}return l}convert(e,t,n,s){const r=t.getProjection(),o=t.getResolution();if(o==null||!r)return null;const a=e.getStyleFunction(),l=this.computePlainStyle(e,n,a,o);if(!l||!l.length)return null;s.projection=r;let u=null;for(let h=0;h<l.length;h++){const f=this.olFeatureToCesium(e,n,l[h],s);if(!u)u=f;else if(f){let m=0,y;for(;y=f.get(m);)u.add(y),m++}}return u}}class qI extends Uy{constructor(e,t,n){super(e,t),this.converter=n||new KI(t),this.csAllPrimitives_=new Cesium.PrimitiveCollection,t.primitives.add(this.csAllPrimitives_),this.csAllPrimitives_.destroyPrimitives=!1}addCesiumObject(e){console.assert(e),e.getRootPrimitive().counterpart=e,this.csAllPrimitives_.add(e.getRootPrimitive())}destroyCesiumObject(e){e.getRootPrimitive().destroy()}removeSingleCesiumObject(e,t){e.destroy(),this.csAllPrimitives_.destroyPrimitives=t,this.csAllPrimitives_.remove(e.getRootPrimitive()),this.csAllPrimitives_.destroyPrimitives=!1}removeAllCesiumObjects(e){if(this.csAllPrimitives_.destroyPrimitives=e,e)for(let t=0;t<this.csAllPrimitives_.length;++t)this.csAllPrimitives_.get(t).counterpart.destroy();this.csAllPrimitives_.removeAll(),this.csAllPrimitives_.destroyPrimitives=!1}updateLayerVisibility(e,t){let n=!0;[e.layer].concat(e.parents).forEach(s=>{const r=s.getVisible();r!==void 0?n&=r:n=!1}),t.show=n}createSingleLayerCounterparts(e){const t=e.layer;if(!(t instanceof qs)||t instanceof Ry)return null;console.assert(t instanceof mo);let n=t.getSource();if(n instanceof zy&&(n=n.getSource()),!n)return null;console.assert(n instanceof Pn),console.assert(this.view);const s=this.view,r={},o=this.converter.olVectorLayerToCesium(t,s,r),a=o.getRootPrimitive(),l=o.olListenKeys;[e.layer].concat(e.parents).forEach(f=>{l.push(kr(f,"change:visible",()=>{this.updateLayerVisibility(e,a)}))}),this.updateLayerVisibility(e,a);const u=function(f){console.assert(t instanceof qs||t instanceof ly);const m=o.context,y=this.converter.convert(t,s,f,m);y&&(r[$t(f)]=y,a.add(y))}.bind(this),h=function(f){const m=$t(f),y=o.context,v=y.featureToCesiumMap[m];v&&(delete y.featureToCesiumMap[m],v.forEach(b=>{b instanceof Cesium.Billboard&&y.billboards.remove(b)}));const E=r[m];delete r[m],E&&a.remove(E)}.bind(this);return l.push(kr(n,"addfeature",f=>{console.assert(f.feature),u(f.feature)})),l.push(kr(n,"removefeature",f=>{console.assert(f.feature),h(f.feature)})),l.push(kr(n,"changefeature",f=>{const m=f.feature;console.assert(m),h(m),u(m)})),o?[o]:null}}class ZI extends lc{constructor(e){const t=e.parent;super(t.getOptions()),this.scenePostRenderListenerRemover_=null,this.scene_=e.scene,this.synchronizer_=e.synchronizer,this.parent_=t,this.positionWGS84_=void 0,this.observer_=new MutationObserver(this.handleElementChanged.bind(this)),this.attributeObserver_=[],this.listenerKeys_=[];const n=s=>this.setPropertyFromEvent_(s);this.listenerKeys_.push(this.parent_.on("change:position",n)),this.listenerKeys_.push(this.parent_.on("change:element",n)),this.listenerKeys_.push(this.parent_.on("change:offset",n)),this.listenerKeys_.push(this.parent_.on("change:position",n)),this.listenerKeys_.push(this.parent_.on("change:positioning",n)),this.setProperties(this.parent_.getProperties()),this.handleMapChanged(),this.handleElementChanged()}observeTarget_(e){if(this.observer_){this.observer_.disconnect(),this.observer_.observe(e,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),this.attributeObserver_.forEach(t=>{t.disconnect()}),this.attributeObserver_.length=0;for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(n.nodeType===1){const s=new MutationObserver(this.handleElementChanged.bind(this));s.observe(n,{attributes:!0,subtree:!0}),this.attributeObserver_.push(s)}}}}setPropertyFromEvent_(e){e.target&&e.key&&this.set(e.key,e.target.get(e.key))}getScene(){return this.scene_}handleMapChanged(){this.scenePostRenderListenerRemover_&&(this.scenePostRenderListenerRemover_(),GI(this.element)),this.scenePostRenderListenerRemover_=null;const e=this.getScene();if(e){this.scenePostRenderListenerRemover_=e.postRender.addEventListener(this.updatePixelPosition.bind(this)),this.updatePixelPosition();const t=this.stopEvent?this.synchronizer_.getOverlayContainerStopEvent():this.synchronizer_.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}}handlePositionChanged(){const e=this.getPosition();if(e){const t=this.parent_.getMap().getView().getProjection();this.positionWGS84_=kc(e,t,"EPSG:4326")}else this.positionWGS84_=void 0;this.updatePixelPosition()}handleElementChanged(){function e(n,s){const r=n.cloneNode();n.nodeName==="CANVAS"&&r.getContext("2d").drawImage(n,0,0),s&&s.appendChild(r),n.nodeType!=Node.TEXT_NODE&&r.addEventListener("click",a=>{n.dispatchEvent(new MouseEvent("click",a)),a.stopPropagation()});const o=n.childNodes;for(let a=0;a<o.length;a++)o[a]&&e(o[a],r);return r}jI(this.element);const t=this.getElement();if(t&&t.parentNode&&t.parentNode.childNodes)for(const n of t.parentNode.childNodes){const s=e(n,null);this.element.appendChild(s)}t.parentNode&&this.observeTarget_(t.parentNode)}updatePixelPosition(){const e=this.positionWGS84_;if(!this.scene_||!e){this.setVisible(!1);return}let t=0;if(e.length===2){const f=this.scene_.globe.getHeight(Cesium.Cartographic.fromDegrees(e[0],e[1]));f&&this.scene_.globe.tilesLoaded&&(e[2]=f),f&&(t=f)}else t=e[2];const n=Cesium.Cartesian3.fromDegrees(e[0],e[1],t),s=this.scene_.camera,r=new Cesium.BoundingSphere(new Cesium.Cartesian3,6356752);if(!new Cesium.Occluder(r,s.position).isPointVisible(n)){this.setVisible(!1);return}if(s.frustum.computeCullingVolume(s.position,s.direction,s.up).computeVisibility(new Cesium.BoundingSphere(n))!==1){this.setVisible(!1);return}this.setVisible(!0);const l=this.scene_.cartesianToCanvasCoordinates(n),u=[l.x,l.y],h=[this.scene_.canvas.width,this.scene_.canvas.height];this.updateRenderedPosition(u,h)}destroy(){this.scenePostRenderListenerRemover_&&this.scenePostRenderListenerRemover_(),this.observer_&&this.observer_.disconnect(),An(this.listenerKeys_),this.listenerKeys_.splice(0),this.element.removeNode?this.element.removeNode(!0):this.element.remove(),this.element=null}}class JI{constructor(e,t){this.map=e,this.overlays_=this.map.getOverlays(),this.scene=t,this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",["click","dblclick","mousedown","touchstart","MSPointerDown","pointerdown","mousewheel","wheel"].forEach(s=>{this.overlayContainerStopEvent_.addEventListener(s,r=>r.stopPropagation())}),this.scene.canvas.parentElement.appendChild(this.overlayContainerStopEvent_),this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.scene.canvas.parentElement.appendChild(this.overlayContainer_),this.overlayMap_={}}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOverlayContainer(){return this.overlayContainer_}synchronize(){this.destroyAll(),this.addOverlays(),this.overlays_.on("add",this.addOverlayFromEvent_.bind(this)),this.overlays_.on("remove",this.removeOverlayFromEvent_.bind(this))}addOverlayFromEvent_(e){const t=e.element;this.addOverlay(t)}addOverlays(){this.overlays_.forEach(e=>{this.addOverlay(e)})}addOverlay(e){if(!e)return;const t=new ZI({scene:this.scene,synchronizer:this,parent:e}),n=$t(e).toString();this.overlayMap_[n]=t}removeOverlayFromEvent_(e){const t=e.element;this.removeOverlay(t)}removeOverlay(e){const t=$t(e).toString(),n=this.overlayMap_[t];n&&(n.destroy(),delete this.overlayMap_[t])}destroyAll(){Object.keys(this.overlayMap_).forEach(e=>{this.overlayMap_[e].destroy(),delete this.overlayMap_[e]})}}class Ko{constructor(e){this.autoRenderLoop_=null,this.map_=e.map,this.time_=e.time||function(){return Cesium.JulianDate.now()},this.to4326Transform_=_s(this.map_.getView().getProjection(),"EPSG:4326"),this.resolutionScale_=1,this.canvasClientWidth_=0,this.canvasClientHeight_=0,this.resolutionScaleChanged_=!0;const t="position:absolute;top:0;left:0;width:100%;height:100%;";this.container_=document.createElement("DIV");const n=document.createAttribute("style");n.value=`${t}visibility:hidden;`,this.container_.setAttributeNode(n);let s=e.target||this.map_.getViewport();if(typeof s=="string"&&(s=document.getElementById(s)),s.appendChild(this.container_),this.isOverMap_=!e.target,this.isOverMap_&&e.stopOpenLayersEventsPropagation){const f=["click","dblclick","mousedown","touchstart","MSPointerDown","pointerdown","mousewheel","wheel"];for(let m=0,y=f.length;m<y;++m)this.container_.addEventListener(f[m],v=>v.stopPropagation())}this.canvas_=document.createElement("CANVAS");const r=document.createAttribute("style");r.value=t,this.canvas_.setAttributeNode(r),Tt.supportsImageRenderingPixelated()&&(this.canvas_.style.imageRendering=Tt.imageRenderingValue()),this.canvas_.oncontextmenu=function(){return!1},this.canvas_.onselectstart=function(){return!1},this.container_.appendChild(this.canvas_),this.enabled_=!1,this.pausedInteractions_=[],this.hiddenRootGroup_=null;const o=e.sceneOptions!==void 0?e.sceneOptions:{};o.canvas=this.canvas_,o.scene3DOnly=!0,this.scene_=new Cesium.Scene(o);const a=this.scene_.screenSpaceCameraController;a.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT}),a.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT}),a.enableLook=!1,this.scene_.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z,this.camera_=new Gr(this.scene_,this.map_),this.globe_=new Cesium.Globe(Cesium.Ellipsoid.WGS84),this.globe_.baseColor=Cesium.Color.WHITE,this.scene_.globe=this.globe_,this.scene_.skyAtmosphere=new Cesium.SkyAtmosphere;const l=new Cesium.SingleTileImageryProvider({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",rectangle:Cesium.Rectangle.fromDegrees(0,0,1,1)});this.globe_.imageryLayers.addImageryProvider(l,0),this.dataSourceCollection_=new Cesium.DataSourceCollection,this.dataSourceDisplay_=new Cesium.DataSourceDisplay({scene:this.scene_,dataSourceCollection:this.dataSourceCollection_});const u=e.createSynchronizers?e.createSynchronizers(this.map_,this.scene_,this.dataSourceCollection_):[new UI(this.map_,this.scene_),new qI(this.map_,this.scene_),new JI(this.map_,this.scene_)];this.handleResize_();for(let f=u.length-1;f>=0;--f)u[f].synchronize();this.lastFrameTime_=0,this.renderId_=void 0,this.targetFrameRate_=Number.POSITIVE_INFINITY,this.blockCesiumRendering_=!1,this.warmingUp_=!1,this.trackedFeature_=null,this.trackedEntity_=null,this.entityView_=null,this.needTrackedEntityUpdate_=!1,this.boundingSphereScratch_=new Cesium.BoundingSphere,new Cesium.EventHelper().add(this.scene_.postRender,Ko.prototype.updateTrackedEntity_,this),Cesium.Camera.enableSuspendTerrainAdjustment=!1}render_(){this.renderId_!==void 0&&(cancelAnimationFrame(this.renderId_),this.renderId_=void 0),(this.enabled_||this.warmingUp_)&&!this.blockCesiumRendering_&&(this.renderId_=requestAnimationFrame(this.onAnimationFrame_.bind(this)))}onAnimationFrame_(e){this.renderId_=void 0;const t=1e3/this.targetFrameRate_;if(e-this.lastFrameTime_<t){this.render_();return}this.lastFrameTime_=e;const s=this.time_();if(this.scene_.initializeFrame(),this.handleResize_(),this.dataSourceDisplay_.update(s),this.entityView_){const r=this.trackedEntity_;this.dataSourceDisplay_.getBoundingSphere(r,!1,this.boundingSphereScratch_)===Cesium.BoundingSphereState.DONE&&(this.boundingSphereScratch_.radius=1,this.entityView_.update(s,this.boundingSphereScratch_))}this.scene_.render(s),this.camera_.checkCameraChange(),this.render_()}updateTrackedEntity_(){if(!this.needTrackedEntityUpdate_)return;const e=this.trackedEntity_,t=this.scene_,n=this.dataSourceDisplay_.getBoundingSphere(e,!1,this.boundingSphereScratch_);if(n===Cesium.BoundingSphereState.PENDING)return;t.screenSpaceCameraController.enableTilt=!1;const s=n!==Cesium.BoundingSphereState.FAILED?this.boundingSphereScratch_:void 0;s&&(s.radius=1),this.entityView_=new Cesium.EntityView(e,t,t.mapProjection.ellipsoid),this.entityView_.update(this.time_(),s),this.needTrackedEntityUpdate_=!1}handleResize_(){let e=this.canvas_.clientWidth,t=this.canvas_.clientHeight;if(e===0|t===0||e===this.canvasClientWidth_&&t===this.canvasClientHeight_&&!this.resolutionScaleChanged_)return;let n=this.resolutionScale_;Tt.supportsImageRenderingPixelated()||(n*=window.devicePixelRatio||1),this.resolutionScaleChanged_=!1,this.canvasClientWidth_=e,this.canvasClientHeight_=t,e*=n,t*=n,this.canvas_.width=e,this.canvas_.height=t,this.scene_.camera.frustum.aspectRatio=e/t}getCamera(){return this.camera_}getOlMap(){return this.map_}getOlView(){const e=this.map_.getView();return console.assert(e),e}getCesiumScene(){return this.scene_}getDataSources(){return this.dataSourceCollection_}getDataSourceDisplay(){return this.dataSourceDisplay_}getEnabled(){return this.enabled_}setEnabled(e){if(this.enabled_===e)return;this.enabled_=e,this.container_.style.visibility=this.enabled_?"visible":"hidden";let t;if(this.enabled_){if(this.throwOnUnitializedMap_(),this.isOverMap_){t=this.map_.getInteractions(),t.forEach((s,r,o)=>{this.pausedInteractions_.push(s)}),t.clear(),this.map_.addInteraction=s=>this.pausedInteractions_.push(s),this.map_.removeInteraction=s=>this.pausedInteractions_=this.pausedInteractions_.filter(r=>r!==s);const n=this.map_.getLayerGroup();n.getVisible()&&(this.hiddenRootGroup_=n,this.hiddenRootGroup_.setVisible(!1)),this.map_.getOverlayContainer().classList.add("olcs-hideoverlay")}this.camera_.readFromView(),this.render_()}else this.isOverMap_&&(t=this.map_.getInteractions(),this.pausedInteractions_.forEach(n=>{t.push(n)}),this.pausedInteractions_.length=0,this.map_.addInteraction=n=>this.map_.getInteractions().push(n),this.map_.removeInteraction=n=>this.map_.getInteractions().remove(n),this.map_.getOverlayContainer().classList.remove("olcs-hideoverlay"),this.hiddenRootGroup_&&(this.hiddenRootGroup_.setVisible(!0),this.hiddenRootGroup_=null)),this.camera_.updateView()}warmUp(e,t){if(this.enabled_)return;this.throwOnUnitializedMap_(),this.camera_.readFromView();const n=this.globe_.ellipsoid,s=this.scene_.camera,r=n.cartesianToCartographic(s.position);r.height<e&&(r.height=e,s.position=n.cartographicToCartesian(r)),this.warmingUp_=!0,this.render_(),setTimeout(()=>{this.warmingUp_=!1},t)}setBlockCesiumRendering(e){this.blockCesiumRendering_!==e&&(this.blockCesiumRendering_=e,this.render_())}enableAutoRenderLoop(){this.autoRenderLoop_||(this.autoRenderLoop_=new YI(this))}getAutoRenderLoop(){return this.autoRenderLoop_}setResolutionScale(e){e=Math.max(0,e),e!==this.resolutionScale_&&(this.resolutionScale_=Math.max(0,e),this.resolutionScaleChanged_=!0,this.autoRenderLoop_&&this.autoRenderLoop_.restartRenderLoop())}setTargetFrameRate(e){this.targetFrameRate_!==e&&(this.targetFrameRate_=e,this.render_())}throwOnUnitializedMap_(){const t=this.map_.getView(),n=t.getCenter();if(!t.isDef()||isNaN(n[0])||isNaN(n[1]))throw new Error(`The OpenLayers map is not properly initialized: ${n} / ${t.getResolution()}`)}get trackedFeature(){return this.trackedFeature_}set trackedFeature(e){if(this.trackedFeature_!==e){const t=this.scene_;if(!e||!e.getGeometry()){this.needTrackedEntityUpdate_=!1,t.screenSpaceCameraController.enableTilt=!0,this.trackedEntity_&&this.dataSourceDisplay_.defaultDataSource.entities.remove(this.trackedEntity_),this.trackedEntity_=null,this.trackedFeature_=null,this.entityView_=null,t.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);return}this.trackedFeature_=e,this.needTrackedEntityUpdate_=!0;const n=this.to4326Transform_,s=function(){const o=e.getGeometry();console.assert(o instanceof Hi);const a=o.getCoordinates(),l=n(a,void 0,a.length);return xe.ol4326CoordinateToCesiumCartesian(l)},r={position:new Cesium.CallbackProperty((o,a)=>s(),!1),point:{pixelSize:1,color:Cesium.Color.TRANSPARENT}};this.trackedEntity_=this.dataSourceDisplay_.defaultDataSource.entities.add(r)}}}let QI=Rr.ajax({url:"https://api.edtest.site/layers",method:"GET",dataType:"",success:function(i){return console.log("res",i),i.map(e=>(console.log("res",e),e))},error:function(i){return console.log("err",i),i}});console.log("obj",QI);const ko={america:()=>new Xo({name:"america",className:"america",preload:1/0,source:new pI({url:"https://sampleserver6.arcgisonline.com/ArcGIS/rest/services/USA/MapServer"})}),EsriJSON:()=>{const i="https://services8.arcgis.com/jz4Cju60Wi6R7jAW/arcgis/rest/services/RIVERPOLY_(1)/FeatureServer/0",e=new On({fill:new zr,stroke:new ca({color:[0,38,115,1],width:.5})}),t=new Pn({format:new Gp,url:function(n,s,r){const o=r.getCode().split(/:(?=\d+$)/).pop();return i+"/query/?f=json&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry="+encodeURIComponent(`{"xmin":${n[0]},"ymin":${n[1]},"xmax":${n[2]},"ymax":${n[3]},"spatialReference":{"wkid":${o}}}`)+"&geometryType=esriGeometryEnvelope&inSR="+o+"&outFields=*&outSR="+o},strategy:yp(oc({tileSize:512}))});return new qs({name:"EsriJSON",source:t,style:function(n){const s=[0,38,115,1];return e.getFill().setColor(s),e},opacity:.7})},BsriJSON:()=>{const i="https://services8.arcgis.com/jz4Cju60Wi6R7jAW/arcgis/rest/services/河川支流/FeatureServer/0",e=new On({fill:new zr,stroke:new ca({color:[0,0,0,1],width:.5})}),t=new Pn({format:new Gp,url:function(n,s,r){const o=r.getCode().split(/:(?=\d+$)/).pop();return i+"/query/?f=json&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry="+encodeURIComponent(`{"xmin":${n[0]},"ymin":${n[1]},"xmax":${n[2]},"ymax":${n[3]},"spatialReference":{"wkid":${o}}}`)+"&geometryType=esriGeometryEnvelope&inSR="+o+"&outFields=*&outSR="+o},strategy:yp(oc({tileSize:512}))});return new qs({name:"BsriJSON",type:"BsriJSON",source:t,style:function(n){const s=[0,0,0,1];return e.getFill().setColor(s),e},opacity:1})},roads:()=>{const i="Gu2rcfenfMEKjKXgPF6H";return new Xo({name:"roads",type:"roads",source:new Ea({url:"https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key="+i,tileSize:512,maxZoom:22})})},imagery:()=>{const i="Gu2rcfenfMEKjKXgPF6H";return new Xo({name:"imagery",type:"imagery",source:new Ea({url:"https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key="+i,maxZoom:20})})},DimensionMap:()=>{const i=new oa({name:"DimensionMap",title:"DimensionMap",geometry:new $w([120.9984423386347,24.791781619336316],.005)}),e=new On({renderer(r,o){const[[a,l],[u,h]]=r,f=o.context,m=u-a,y=h-l,v=Math.sqrt(m*m+y*y);f.beginPath(),f.arc(a,l,v,0,2*Math.PI,!0),f.fillStyle="rgba(255,0,0)",f.fill()}}),t=new qs({source:new Pn({features:[i]}),style:e}),n=[[120.971859,24.801583],[120.97,24.809583],[120.985,24.808583],[120.99,24.806583],[120.971859,24.801583]],s=new qs({name:"DimensionMap",title:"DimensionMap",source:new Pn({features:[new oa({name:"areaLineLayer",title:"areaLineLayer",geometry:new no([n])})]}),style:new On({fill:new zr({color:"#0f9ce2"})})});return[t,s]}},jp="Gu2rcfenfMEKjKXgPF6H";var $p=[{name:"default",label:"預設",urls:new oI},{name:"roads",label:"底圖一",urls:new Ea({url:"https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key="+jp,tileSize:512,maxZoom:22})},{name:"imagery",label:"底圖二",urls:new Ea({url:"https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key="+jp,maxZoom:20})}];const $s={sourceFun:(i,e,t)=>{let n=$p.find(r=>r.name==i),s={preload:1/0,name:n.name,label:n.label,source:n.urls};return t&&(s[e]=t),new Xo(s)},sourceData:()=>$p.map(i=>({name:i.name,label:i.label}))};const eL={props:{},setup(i,{emit:e}){const t=ko,n=$s,s=fn({defaultCenter:[120.971859,24.801583],defaultCenterZoom:14,targetNum:1,conditionWrap:!1,layerSelect:!1,currentLayers:[],mapLayers:Object.keys(t).map(A=>A),baseMapsOptions:fh(()=>$s.sourceData()),selectLock:!1,mapCount:1,map1:null,map2:null,map1LayerStatus:[],map2LayerStatus:[],deleteLightbox:!1,dimensionMap:{map1:"2D",map2:"2D"},toSearchDimensionStatus:fh(()=>{let A=s.targetNum==1?"map1":"map2";return s.dimensionMap[A]==="2D"}),areaDataId:"",ol3d:null}),r=new ss({projection:"EPSG:4326",center:s.defaultCenter,zoom:s.defaultCenterZoom}),o=Bo(null),a=Bo(null);let l=null;function u(){o.value=new lc({element:a.value,autoPan:!0,autoPanAnimation:{duration:250}}),s.map1=new Hs({target:"map1",layers:[$s.sourceFun("default")],view:r,controls:[]})}function h(A,R){const I=new qs({source:new Pn({features:[new oa({geometry:new Hi([A,R]),name:"Null Island",population:4e3,rainfall:500})]}),style:new On({image:new ma({anchor:[.5,100],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"https://www.ockert-cnc.de/wp-content/uploads/2016/12/map-marker-icon-100x100.png"})})});let D=s.targetNum==1?"map1":"map2";s[D].addLayer(I)}function f({action:A,value:R}){var p;let I=((p=s.map1)==null?void 0:p.getTarget())==null?"map2":"map1",D=s[I].getView();switch(A){case"In":D.animate({zoom:D.getZoom()+1});break;case"Out":D.animate({zoom:D.getZoom()-1});break;case"toNorth":D.animate({rotation:0});break;case"moveTo":if(R){const{xAxis:W,yAxis:Z}=R;D.animate({center:[W,Z],zoom:10,duration:100})}else navigator.geolocation.getCurrentPosition(function(W){D.animate({center:[W.coords.longitude,W.coords.latitude],zoom:17,duration:100}),h(W.coords.longitude,W.coords.latitude)});break;case"fullScreen":let $=document.getElementById(`map${s.targetNum}`);$.requestFullscreen?$.requestFullscreen():$.msRequestFullscreen?$.msRequestFullscreen():$.mozRequestFullScreen?$.mozRequestFullScreen():$.webkitRequestFullscreen&&$.webkitRequestFullscreen();break}}function m({action:A,value:R}){var p;let I=s.targetNum==1?s.map1:s.map2,D=I==null?void 0:I.getLayers();switch(A){case"layerMode":if(R.checked){let Ce=t[R.layerName]();Array.isArray(Ce)?(Ce.forEach(le=>{I.addLayer(le)}),I.on("click",function(le){const se=I.forEachFeatureAtPixel(le.pixel,function(X,ce){return X});if(se){const X=le.coordinate;s.areaDataId=se.get("name"),o.value.setPosition(X)}else o.value.setPosition(void 0)}),I.addOverlay(o.value)):I.addLayer(Ce),b("add",I.getTarget(),R.layerName)}else D.getArray().forEach(le=>{le.get("name")==R.layerName&&I.removeLayer(le)}),b("delete",I.getTarget(),R.layerName);break;case"selectLayerMode":if(s.selectLock)return;if(R.layerName==="all"){let Ce=[];D.getArray().forEach(se=>{se.get("name")!=="default"&&Ce.push(se)}),Ce.forEach(function(se){I.removeLayer(se)})}else D.getArray().forEach(le=>{le.get("name")==R.layerName&&I.removeLayer(le)});break;case"changeOrder":if(s.selectLock)return;let $=D.getArray()[R.key].get("name"),W=t[$]();if(R.movement==="up"){if(R.key==D.getArray().length)return;D.getArray().forEach(Ce=>{Ce.get("name")===$&&I.removeLayer(Ce)}),D.insertAt(R.key+1,W)}if(R.movement==="down"){if(R.key==0)return;D.getArray().forEach(Ce=>{Ce.get("name")==$&&I.removeLayer(Ce)}),D.insertAt(R.key-1,W)}v();break;case"changeLayerVisible":if(s.selectLock)return;let Z=!D.getArray()[R.key].getVisible();D.getArray()[R.key].setVisible(Z);break;case"baseMap":let ae=n.sourceFun(R.layerName);D.extend([ae]),D.getArray().forEach(Ce=>{Ce.get("name")!==R.layerName&&I.removeLayer(Ce)});break;case"changeMapCount":if(s.mapCount===R)return;let ue=s.targetNum!==1?"map1":"map2";if(s.mapCount=R,R===2)if(((p=s[`${ue}LayerStatus`])==null?void 0:p.indexOf("3D"))!==-1){let Ce=s[`${ue}LayerStatus`].filter(le=>le!=="3D");s[ue]=new Hs({target:ue,layers:[$s.sourceFun("default"),...Ce.map(le=>ko[le]())],view:r,controls:[]}),l=new Ko({map:s[ue]}),l.setEnabled(!0)}else s[ue]=new Hs({target:ue,layers:[$s.sourceFun("default"),...s[`${ue}LayerStatus`].map(Ce=>ko[Ce]())],view:r,controls:[]});if(R===1){s[ue]=null;const Ce=document.getElementById(ue);for(;Ce.firstChild;)Ce.removeChild(Ce.firstChild)}break;case"changeDimensionMap":let ve=s.targetNum==1?"map1":"map2";s.dimensionMap[ve]=R,R==="3D"?(l=new Ko({map:I}),l.setEnabled(!0),s[`${ve}LayerStatus`].push("3D")):(l.setEnabled(!1),s[`${ve}LayerStatus`]=s[`${ve}LayerStatus`].filter(Ce=>Ce!=="3D"));break}v()}function y(A){var I;s.targetNum=A;let R=s.targetNum!==1?"map1":"map2";if(s.mapCount===1){if(!s[`map${A}`])if(((I=s[`map${A}LayerStatus`])==null?void 0:I.indexOf("3D"))!==-1){let D=s[`map${A}LayerStatus`].filter(p=>p!=="3D");s[`map${A}`]=new Hs({target:`map${A}`,layers:[$s.sourceFun("default"),...D.map(p=>ko[p]())],view:r,controls:[]}),l=new Ko({map:s[`map${A}`]}),l.setEnabled(!0)}else s[`map${A}`]=new Hs({target:`map${A}`,layers:[$s.sourceFun("default"),...s[`map${A}LayerStatus`].map(D=>ko[D]())],view:r,controls:[]});if(s[R]){s[R]=null;const D=document.getElementById(R);for(;D.firstChild;)D.removeChild(D.firstChild)}}ah(()=>{v()})}function v(){var I;let A=s.targetNum==1?s.map1:s.map2;const R=(I=A==null?void 0:A.getLayers())==null?void 0:I.getArray();s.currentLayers=R==null?void 0:R.map(D=>({name:D.get("name"),visible:D.getVisible()}))}function E(){s.conditionWrap=!s.conditionWrap}function b(A,R,I){if(A==="add")s[`${R}LayerStatus`].push(I);else if(A==="delete"){let D=s[`${R}LayerStatus`].findIndex(p=>p===I);s[`${R}LayerStatus`].splice(D,1)}}function S(){o.value.setPosition(void 0)}return Qm(()=>{u(),ah(()=>{v()})}),{state:s,props:i,popupCom:a,overlay:o,mapControl:f,layerControl:m,getCurrentLayerNames:v,changeTarget:y,conditionWrap:E,onMapLayerStatus:b,closeMapData:S}}},tL={class:"SearchBar position-absolute"},iL={class:"mapSourceOption"},nL={class:"asideTool position-absolute top-50 translate-middle-y",id:"asideTool"},sL={class:"w-100 d-flex flex-nowrap mapWrap",id:"mapWrap"},rL={key:0,class:"middleLine"},oL={class:"condition position-absolute"},aL={class:"mb-2"},lL={key:1,class:"mb-4"},cL={key:1},uL={key:0,class:"lightWrap w-100 h-100 d-flex justify-content-center align-items-center"},hL={class:"p-4 rounded bg-white"},dL=Y("p",null,"是否要刪除全部圖層",-1),fL={class:"d-flex justify-content-around"},gL={ref:"popupCom",class:"areaData"};function pL(i,e,t,n,s,r){var m,y;const o=tI,a=AA,l=wA,u=rA,h=bR,f=Sx;return it(),ot("div",null,[Y("div",tL,[Lt(o,{dimensionMapStatus:n.state.toSearchDimensionStatus,currentLayers:n.state.currentLayers,mapCount:n.state.mapCount,onOnLayerControl:e[0]||(e[0]=({action:v,value:E})=>{n.layerControl({action:v,value:E})}),onOnChangeTarget:e[1]||(e[1]=v=>{n.changeTarget(v)}),onConditionWrap:e[2]||(e[2]=v=>{n.conditionWrap(v)})},null,8,["dimensionMapStatus","currentLayers","mapCount"])]),Y("div",iL,[Lt(a,{baseMapsOptions:n.state.baseMapsOptions,onOnChangeBaseMaps:e[3]||(e[3]=({action:v,value:E})=>{n.layerControl({action:v,value:E})})},null,8,["baseMapsOptions"])]),Y("div",nL,[Lt(l,{onOnMapControl:e[4]||(e[4]=({action:v,value:E})=>{n.mapControl({action:v,value:E})})})]),Y("div",sL,[Y("div",{id:"map1",class:Yi({"w-100":((m=n.state.map1)==null?void 0:m.getTarget())=="map1"})},null,2),n.state.mapCount===2?(it(),ot("div",rL)):di("",!0),Y("div",{id:"map2",class:Yi({"w-100":((y=n.state.map2)==null?void 0:y.getTarget())=="map2"})},null,2)]),Y("div",oL,[Y("div",aL,[n.state.conditionWrap?di("",!0):(it(),ot("button",{key:0,class:"border-0 w-100 rounded-4 bg-steel text-white text-center p-2 fw-bold",onClick:e[5]||(e[5]=v=>n.state.conditionWrap=!0)}," 圖層選項 ")),n.state.conditionWrap?(it(),ot("div",lL,[Lt(u,d_({mapLayers:n.state.mapLayers,currentLayers:n.state.currentLayers,onClose:()=>{n.state.conditionWrap=!1}},{onOnMapControl:e[6]||(e[6]=({action:v,value:E})=>{n.mapControl({action:v,value:E})}),onOnLayerControl:e[7]||(e[7]=({action:v,value:E})=>{n.layerControl({action:v,value:E})})}),null,16)])):di("",!0)]),Y("div",null,[n.state.layerSelect?di("",!0):(it(),ot("button",{key:0,class:"border-0 w-100 rounded-4 bg-steel text-white text-center p-2 fw-bold",onClick:e[8]||(e[8]=v=>n.state.layerSelect=!0)}," 已選擇的圖層 ")),n.state.layerSelect?(it(),ot("div",cL,[Lt(h,Vv(h_({selectLock:n.state.selectLock,currentLayers:n.state.currentLayers,onClose:()=>{n.state.layerSelect=!1},onChangLayerVisible:v=>{n.layerControl(v)},onChangeOrderLayer:({action:v,value:E})=>{n.layerControl({action:v,value:E})},onLockLayer:()=>{n.state.selectLock=!n.state.selectLock},onDeleteLayer:({action:v,value:E})=>{E.layerName=="all"?n.state.deleteLightbox=!0:n.layerControl({action:v,value:E})},onDeleteLayerAll:()=>{n.state.deleteLightbox=!0}})),null,16)])):di("",!0)])]),n.state.deleteLightbox?(it(),ot("div",uL,[Y("div",hL,[dL,Y("div",fL,[Y("button",{onClick:e[9]||(e[9]=()=>{n.layerControl({action:"selectLayerMode",value:{layerName:"all"}}),n.state.deleteLightbox=!1})},"是"),Y("button",{onClick:e[10]||(e[10]=()=>{n.state.deleteLightbox=!1})},"否")])])])):di("",!0),Y("div",gL,[Lt(f,{id:n.state.areaDataId},null,8,["id"])],512)])}const mL=Es(eL,[["render",pL]]);const _L={setup(i,{emit:e}){return{state:fn({})}}},yL={class:"main"};function vL(i,e,t,n,s,r){const o=mL;return it(),ot("div",yL,[Lt(o)])}const CL=Es(_L,[["render",vL]]);var ti="top",Ti="bottom",wi="right",ii="left",Yc="auto",Co=[ti,Ti,wi,ii],cr="start",so="end",Xy="clippingParents",gf="viewport",Pr="popper",Ky="reference",Fh=Co.reduce(function(i,e){return i.concat([e+"-"+cr,e+"-"+so])},[]),pf=[].concat(Co,[Yc]).reduce(function(i,e){return i.concat([e,e+"-"+cr,e+"-"+so])},[]),qy="beforeRead",Zy="read",Jy="afterRead",Qy="beforeMain",e0="main",t0="afterMain",i0="beforeWrite",n0="write",s0="afterWrite",r0=[qy,Zy,Jy,Qy,e0,t0,i0,n0,s0];function dn(i){return i?(i.nodeName||"").toLowerCase():null}function Di(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function ur(i){var e=Di(i).Element;return i instanceof e||i instanceof Element}function Li(i){var e=Di(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function mf(i){if(typeof ShadowRoot>"u")return!1;var e=Di(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}function EL(i){var e=i.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},s=e.attributes[t]||{},r=e.elements[t];!Li(r)||!dn(r)||(Object.assign(r.style,n),Object.keys(s).forEach(function(o){var a=s[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function xL(i){var e=i.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var s=e.elements[n],r=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),a=o.reduce(function(l,u){return l[u]="",l},{});!Li(s)||!dn(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}}const _f={name:"applyStyles",enabled:!0,phase:"write",fn:EL,effect:xL,requires:["computeStyles"]};function un(i){return i.split("-")[0]}var ir=Math.max,cc=Math.min,ro=Math.round;function Nh(){var i=navigator.userAgentData;return i!=null&&i.brands?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function o0(){return!/^((?!chrome|android).)*safari/i.test(Nh())}function oo(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=i.getBoundingClientRect(),s=1,r=1;e&&Li(i)&&(s=i.offsetWidth>0&&ro(n.width)/i.offsetWidth||1,r=i.offsetHeight>0&&ro(n.height)/i.offsetHeight||1);var o=ur(i)?Di(i):window,a=o.visualViewport,l=!o0()&&t,u=(n.left+(l&&a?a.offsetLeft:0))/s,h=(n.top+(l&&a?a.offsetTop:0))/r,f=n.width/s,m=n.height/r;return{width:f,height:m,top:h,right:u+f,bottom:h+m,left:u,x:u,y:h}}function yf(i){var e=oo(i),t=i.offsetWidth,n=i.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:i.offsetLeft,y:i.offsetTop,width:t,height:n}}function a0(i,e){var t=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(t&&mf(t)){var n=e;do{if(n&&i.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function jn(i){return Di(i).getComputedStyle(i)}function TL(i){return["table","td","th"].indexOf(dn(i))>=0}function ws(i){return((ur(i)?i.ownerDocument:i.document)||window.document).documentElement}function Uc(i){return dn(i)==="html"?i:i.assignedSlot||i.parentNode||(mf(i)?i.host:null)||ws(i)}function Vp(i){return!Li(i)||jn(i).position==="fixed"?null:i.offsetParent}function wL(i){var e=/firefox/i.test(Nh()),t=/Trident/i.test(Nh());if(t&&Li(i)){var n=jn(i);if(n.position==="fixed")return null}var s=Uc(i);for(mf(s)&&(s=s.host);Li(s)&&["html","body"].indexOf(dn(s))<0;){var r=jn(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function ka(i){for(var e=Di(i),t=Vp(i);t&&TL(t)&&jn(t).position==="static";)t=Vp(t);return t&&(dn(t)==="html"||dn(t)==="body"&&jn(t).position==="static")?e:t||wL(i)||e}function vf(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function qo(i,e,t){return ir(i,cc(e,t))}function bL(i,e,t){var n=qo(i,e,t);return n>t?t:n}function l0(){return{top:0,right:0,bottom:0,left:0}}function c0(i){return Object.assign({},l0(),i)}function u0(i,e){return e.reduce(function(t,n){return t[n]=i,t},{})}var SL=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,c0(typeof e!="number"?e:u0(e,Co))};function RL(i){var e,t=i.state,n=i.name,s=i.options,r=t.elements.arrow,o=t.modifiersData.popperOffsets,a=un(t.placement),l=vf(a),u=[ii,wi].indexOf(a)>=0,h=u?"height":"width";if(!(!r||!o)){var f=SL(s.padding,t),m=yf(r),y=l==="y"?ti:ii,v=l==="y"?Ti:wi,E=t.rects.reference[h]+t.rects.reference[l]-o[l]-t.rects.popper[h],b=o[l]-t.rects.reference[l],S=ka(r),A=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,R=E/2-b/2,I=f[y],D=A-m[h]-f[v],p=A/2-m[h]/2+R,$=qo(I,p,D),W=l;t.modifiersData[n]=(e={},e[W]=$,e.centerOffset=$-p,e)}}function AL(i){var e=i.state,t=i.options,n=t.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||a0(e.elements.popper,s)&&(e.elements.arrow=s))}const h0={name:"arrow",enabled:!0,phase:"main",fn:RL,effect:AL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ao(i){return i.split("-")[1]}var IL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function LL(i){var e=i.x,t=i.y,n=window,s=n.devicePixelRatio||1;return{x:ro(e*s)/s||0,y:ro(t*s)/s||0}}function Wp(i){var e,t=i.popper,n=i.popperRect,s=i.placement,r=i.variation,o=i.offsets,a=i.position,l=i.gpuAcceleration,u=i.adaptive,h=i.roundOffsets,f=i.isFixed,m=o.x,y=m===void 0?0:m,v=o.y,E=v===void 0?0:v,b=typeof h=="function"?h({x:y,y:E}):{x:y,y:E};y=b.x,E=b.y;var S=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),R=ii,I=ti,D=window;if(u){var p=ka(t),$="clientHeight",W="clientWidth";if(p===Di(t)&&(p=ws(t),jn(p).position!=="static"&&a==="absolute"&&($="scrollHeight",W="scrollWidth")),p=p,s===ti||(s===ii||s===wi)&&r===so){I=Ti;var Z=f&&p===D&&D.visualViewport?D.visualViewport.height:p[$];E-=Z-n.height,E*=l?1:-1}if(s===ii||(s===ti||s===Ti)&&r===so){R=wi;var ae=f&&p===D&&D.visualViewport?D.visualViewport.width:p[W];y-=ae-n.width,y*=l?1:-1}}var he=Object.assign({position:a},u&&IL),ue=h===!0?LL({x:y,y:E}):{x:y,y:E};if(y=ue.x,E=ue.y,l){var ve;return Object.assign({},he,(ve={},ve[I]=A?"0":"",ve[R]=S?"0":"",ve.transform=(D.devicePixelRatio||1)<=1?"translate("+y+"px, "+E+"px)":"translate3d("+y+"px, "+E+"px, 0)",ve))}return Object.assign({},he,(e={},e[I]=A?E+"px":"",e[R]=S?y+"px":"",e.transform="",e))}function OL(i){var e=i.state,t=i.options,n=t.gpuAcceleration,s=n===void 0?!0:n,r=t.adaptive,o=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:un(e.placement),variation:ao(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Wp(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Wp(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Cf={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:OL,data:{}};var yl={passive:!0};function PL(i){var e=i.state,t=i.instance,n=i.options,s=n.scroll,r=s===void 0?!0:s,o=n.resize,a=o===void 0?!0:o,l=Di(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&u.forEach(function(h){h.addEventListener("scroll",t.update,yl)}),a&&l.addEventListener("resize",t.update,yl),function(){r&&u.forEach(function(h){h.removeEventListener("scroll",t.update,yl)}),a&&l.removeEventListener("resize",t.update,yl)}}const Ef={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:PL,data:{}};var ML={left:"right",right:"left",bottom:"top",top:"bottom"};function Pl(i){return i.replace(/left|right|bottom|top/g,function(e){return ML[e]})}var DL={start:"end",end:"start"};function Bp(i){return i.replace(/start|end/g,function(e){return DL[e]})}function xf(i){var e=Di(i),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function Tf(i){return oo(ws(i)).left+xf(i).scrollLeft}function FL(i,e){var t=Di(i),n=ws(i),s=t.visualViewport,r=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var u=o0();(u||!u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+Tf(i),y:l}}function NL(i){var e,t=ws(i),n=xf(i),s=(e=i.ownerDocument)==null?void 0:e.body,r=ir(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=ir(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+Tf(i),l=-n.scrollTop;return jn(s||t).direction==="rtl"&&(a+=ir(t.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function wf(i){var e=jn(i),t=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+n)}function d0(i){return["html","body","#document"].indexOf(dn(i))>=0?i.ownerDocument.body:Li(i)&&wf(i)?i:d0(Uc(i))}function Zo(i,e){var t;e===void 0&&(e=[]);var n=d0(i),s=n===((t=i.ownerDocument)==null?void 0:t.body),r=Di(n),o=s?[r].concat(r.visualViewport||[],wf(n)?n:[]):n,a=e.concat(o);return s?a:a.concat(Zo(Uc(o)))}function kh(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function kL(i,e){var t=oo(i,!1,e==="fixed");return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}function zp(i,e,t){return e===gf?kh(FL(i,t)):ur(e)?kL(e,t):kh(NL(ws(i)))}function GL(i){var e=Zo(Uc(i)),t=["absolute","fixed"].indexOf(jn(i).position)>=0,n=t&&Li(i)?ka(i):i;return ur(n)?e.filter(function(s){return ur(s)&&a0(s,n)&&dn(s)!=="body"}):[]}function jL(i,e,t,n){var s=e==="clippingParents"?GL(i):[].concat(e),r=[].concat(s,[t]),o=r[0],a=r.reduce(function(l,u){var h=zp(i,u,n);return l.top=ir(h.top,l.top),l.right=cc(h.right,l.right),l.bottom=cc(h.bottom,l.bottom),l.left=ir(h.left,l.left),l},zp(i,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function f0(i){var e=i.reference,t=i.element,n=i.placement,s=n?un(n):null,r=n?ao(n):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(s){case ti:l={x:o,y:e.y-t.height};break;case Ti:l={x:o,y:e.y+e.height};break;case wi:l={x:e.x+e.width,y:a};break;case ii:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=s?vf(s):null;if(u!=null){var h=u==="y"?"height":"width";switch(r){case cr:l[u]=l[u]-(e[h]/2-t[h]/2);break;case so:l[u]=l[u]+(e[h]/2-t[h]/2);break}}return l}function lo(i,e){e===void 0&&(e={});var t=e,n=t.placement,s=n===void 0?i.placement:n,r=t.strategy,o=r===void 0?i.strategy:r,a=t.boundary,l=a===void 0?Xy:a,u=t.rootBoundary,h=u===void 0?gf:u,f=t.elementContext,m=f===void 0?Pr:f,y=t.altBoundary,v=y===void 0?!1:y,E=t.padding,b=E===void 0?0:E,S=c0(typeof b!="number"?b:u0(b,Co)),A=m===Pr?Ky:Pr,R=i.rects.popper,I=i.elements[v?A:m],D=jL(ur(I)?I:I.contextElement||ws(i.elements.popper),l,h,o),p=oo(i.elements.reference),$=f0({reference:p,element:R,strategy:"absolute",placement:s}),W=kh(Object.assign({},R,$)),Z=m===Pr?W:p,ae={top:D.top-Z.top+S.top,bottom:Z.bottom-D.bottom+S.bottom,left:D.left-Z.left+S.left,right:Z.right-D.right+S.right},he=i.modifiersData.offset;if(m===Pr&&he){var ue=he[s];Object.keys(ae).forEach(function(ve){var Ce=[wi,Ti].indexOf(ve)>=0?1:-1,le=[ti,Ti].indexOf(ve)>=0?"y":"x";ae[ve]+=ue[le]*Ce})}return ae}function $L(i,e){e===void 0&&(e={});var t=e,n=t.placement,s=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?pf:l,h=ao(n),f=h?a?Fh:Fh.filter(function(v){return ao(v)===h}):Co,m=f.filter(function(v){return u.indexOf(v)>=0});m.length===0&&(m=f);var y=m.reduce(function(v,E){return v[E]=lo(i,{placement:E,boundary:s,rootBoundary:r,padding:o})[un(E)],v},{});return Object.keys(y).sort(function(v,E){return y[v]-y[E]})}function VL(i){if(un(i)===Yc)return[];var e=Pl(i);return[Bp(i),e,Bp(e)]}function WL(i){var e=i.state,t=i.options,n=i.name;if(!e.modifiersData[n]._skip){for(var s=t.mainAxis,r=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,u=t.padding,h=t.boundary,f=t.rootBoundary,m=t.altBoundary,y=t.flipVariations,v=y===void 0?!0:y,E=t.allowedAutoPlacements,b=e.options.placement,S=un(b),A=S===b,R=l||(A||!v?[Pl(b)]:VL(b)),I=[b].concat(R).reduce(function(ke,Be){return ke.concat(un(Be)===Yc?$L(e,{placement:Be,boundary:h,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:E}):Be)},[]),D=e.rects.reference,p=e.rects.popper,$=new Map,W=!0,Z=I[0],ae=0;ae<I.length;ae++){var he=I[ae],ue=un(he),ve=ao(he)===cr,Ce=[ti,Ti].indexOf(ue)>=0,le=Ce?"width":"height",se=lo(e,{placement:he,boundary:h,rootBoundary:f,altBoundary:m,padding:u}),X=Ce?ve?wi:ii:ve?Ti:ti;D[le]>p[le]&&(X=Pl(X));var ce=Pl(X),Pe=[];if(r&&Pe.push(se[ue]<=0),a&&Pe.push(se[X]<=0,se[ce]<=0),Pe.every(function(ke){return ke})){Z=he,W=!1;break}$.set(he,Pe)}if(W)for(var Ve=v?3:1,We=function(Be){var ft=I.find(function(vt){var Ze=$.get(vt);if(Ze)return Ze.slice(0,Be).every(function(nt){return nt})});if(ft)return Z=ft,"break"},J=Ve;J>0;J--){var ct=We(J);if(ct==="break")break}e.placement!==Z&&(e.modifiersData[n]._skip=!0,e.placement=Z,e.reset=!0)}}const g0={name:"flip",enabled:!0,phase:"main",fn:WL,requiresIfExists:["offset"],data:{_skip:!1}};function Hp(i,e,t){return t===void 0&&(t={x:0,y:0}),{top:i.top-e.height-t.y,right:i.right-e.width+t.x,bottom:i.bottom-e.height+t.y,left:i.left-e.width-t.x}}function Yp(i){return[ti,wi,Ti,ii].some(function(e){return i[e]>=0})}function BL(i){var e=i.state,t=i.name,n=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=lo(e,{elementContext:"reference"}),a=lo(e,{altBoundary:!0}),l=Hp(o,n),u=Hp(a,s,r),h=Yp(l),f=Yp(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const p0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:BL};function zL(i,e,t){var n=un(i),s=[ii,ti].indexOf(n)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:i})):t,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[ii,wi].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function HL(i){var e=i.state,t=i.options,n=i.name,s=t.offset,r=s===void 0?[0,0]:s,o=pf.reduce(function(h,f){return h[f]=zL(f,e.rects,r),h},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=o}const m0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:HL};function YL(i){var e=i.state,t=i.name;e.modifiersData[t]=f0({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const bf={name:"popperOffsets",enabled:!0,phase:"read",fn:YL,data:{}};function UL(i){return i==="x"?"y":"x"}function XL(i){var e=i.state,t=i.options,n=i.name,s=t.mainAxis,r=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,u=t.rootBoundary,h=t.altBoundary,f=t.padding,m=t.tether,y=m===void 0?!0:m,v=t.tetherOffset,E=v===void 0?0:v,b=lo(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:h}),S=un(e.placement),A=ao(e.placement),R=!A,I=vf(S),D=UL(I),p=e.modifiersData.popperOffsets,$=e.rects.reference,W=e.rects.popper,Z=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,ae=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),he=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ue={x:0,y:0};if(p){if(r){var ve,Ce=I==="y"?ti:ii,le=I==="y"?Ti:wi,se=I==="y"?"height":"width",X=p[I],ce=X+b[Ce],Pe=X-b[le],Ve=y?-W[se]/2:0,We=A===cr?$[se]:W[se],J=A===cr?-W[se]:-$[se],ct=e.elements.arrow,ke=y&&ct?yf(ct):{width:0,height:0},Be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:l0(),ft=Be[Ce],vt=Be[le],Ze=qo(0,$[se],ke[se]),nt=R?$[se]/2-Ve-Ze-ft-ae.mainAxis:We-Ze-ft-ae.mainAxis,ri=R?-$[se]/2+Ve+Ze+vt+ae.mainAxis:J+Ze+vt+ae.mainAxis,oi=e.elements.arrow&&ka(e.elements.arrow),P=oi?I==="y"?oi.clientTop||0:oi.clientLeft||0:0,F=(ve=he==null?void 0:he[I])!=null?ve:0,z=X+nt-F-P,q=X+ri-F,j=qo(y?cc(ce,z):ce,X,y?ir(Pe,q):Pe);p[I]=j,ue[I]=j-X}if(a){var ee,ge=I==="x"?ti:ii,oe=I==="x"?Ti:wi,re=p[D],Q=D==="y"?"height":"width",_e=re+b[ge],de=re-b[oe],pe=[ti,ii].indexOf(S)!==-1,Ee=(ee=he==null?void 0:he[D])!=null?ee:0,Se=pe?_e:re-$[Q]-W[Q]-Ee+ae.altAxis,Xe=pe?re+$[Q]+W[Q]-Ee-ae.altAxis:de,Fe=y&&pe?bL(Se,re,Xe):qo(y?Se:_e,re,y?Xe:de);p[D]=Fe,ue[D]=Fe-re}e.modifiersData[n]=ue}}const _0={name:"preventOverflow",enabled:!0,phase:"main",fn:XL,requiresIfExists:["offset"]};function KL(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function qL(i){return i===Di(i)||!Li(i)?xf(i):KL(i)}function ZL(i){var e=i.getBoundingClientRect(),t=ro(e.width)/i.offsetWidth||1,n=ro(e.height)/i.offsetHeight||1;return t!==1||n!==1}function JL(i,e,t){t===void 0&&(t=!1);var n=Li(e),s=Li(e)&&ZL(e),r=ws(e),o=oo(i,s,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((dn(e)!=="body"||wf(r))&&(a=qL(e)),Li(e)?(l=oo(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Tf(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function QL(i){var e=new Map,t=new Set,n=[];i.forEach(function(r){e.set(r.name,r)});function s(r){t.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&s(l)}}),n.push(r)}return i.forEach(function(r){t.has(r.name)||s(r)}),n}function eO(i){var e=QL(i);return r0.reduce(function(t,n){return t.concat(e.filter(function(s){return s.phase===n}))},[])}function tO(i){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(i())})})),e}}function iO(i){var e=i.reduce(function(t,n){var s=t[n.name];return t[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var Up={placement:"bottom",modifiers:[],strategy:"absolute"};function Xp(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Xc(i){i===void 0&&(i={});var e=i,t=e.defaultModifiers,n=t===void 0?[]:t,s=e.defaultOptions,r=s===void 0?Up:s;return function(a,l,u){u===void 0&&(u=r);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Up,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],m=!1,y={state:h,setOptions:function(S){var A=typeof S=="function"?S(h.options):S;E(),h.options=Object.assign({},r,h.options,A),h.scrollParents={reference:ur(a)?Zo(a):a.contextElement?Zo(a.contextElement):[],popper:Zo(l)};var R=eO(iO([].concat(n,h.options.modifiers)));return h.orderedModifiers=R.filter(function(I){return I.enabled}),v(),y.update()},forceUpdate:function(){if(!m){var S=h.elements,A=S.reference,R=S.popper;if(Xp(A,R)){h.rects={reference:JL(A,ka(R),h.options.strategy==="fixed"),popper:yf(R)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(ae){return h.modifiersData[ae.name]=Object.assign({},ae.data)});for(var I=0;I<h.orderedModifiers.length;I++){if(h.reset===!0){h.reset=!1,I=-1;continue}var D=h.orderedModifiers[I],p=D.fn,$=D.options,W=$===void 0?{}:$,Z=D.name;typeof p=="function"&&(h=p({state:h,options:W,name:Z,instance:y})||h)}}}},update:tO(function(){return new Promise(function(b){y.forceUpdate(),b(h)})}),destroy:function(){E(),m=!0}};if(!Xp(a,l))return y;y.setOptions(u).then(function(b){!m&&u.onFirstUpdate&&u.onFirstUpdate(b)});function v(){h.orderedModifiers.forEach(function(b){var S=b.name,A=b.options,R=A===void 0?{}:A,I=b.effect;if(typeof I=="function"){var D=I({state:h,name:S,instance:y,options:R}),p=function(){};f.push(D||p)}})}function E(){f.forEach(function(b){return b()}),f=[]}return y}}var nO=Xc(),sO=[Ef,bf,Cf,_f],rO=Xc({defaultModifiers:sO}),oO=[Ef,bf,Cf,_f,m0,g0,_0,h0,p0],Sf=Xc({defaultModifiers:oO});const y0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:t0,afterRead:Jy,afterWrite:s0,applyStyles:_f,arrow:h0,auto:Yc,basePlacements:Co,beforeMain:Qy,beforeRead:qy,beforeWrite:i0,bottom:Ti,clippingParents:Xy,computeStyles:Cf,createPopper:Sf,createPopperBase:nO,createPopperLite:rO,detectOverflow:lo,end:so,eventListeners:Ef,flip:g0,hide:p0,left:ii,main:e0,modifierPhases:r0,offset:m0,placements:pf,popper:Pr,popperGenerator:Xc,popperOffsets:bf,preventOverflow:_0,read:Zy,reference:Ky,right:wi,start:cr,top:ti,variationPlacements:Fh,viewport:gf,write:n0},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const aO=1e6,lO=1e3,Gh="transitionend",cO=i=>i==null?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase(),uO=i=>{do i+=Math.floor(Math.random()*aO);while(document.getElementById(i));return i},v0=i=>{let e=i.getAttribute("data-bs-target");if(!e||e==="#"){let t=i.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e},C0=i=>{const e=v0(i);return e&&document.querySelector(e)?e:null},Fn=i=>{const e=v0(i);return e?document.querySelector(e):null},hO=i=>{if(!i)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(i);const n=Number.parseFloat(e),s=Number.parseFloat(t);return!n&&!s?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*lO)},E0=i=>{i.dispatchEvent(new Event(Gh))},Nn=i=>!i||typeof i!="object"?!1:(typeof i.jquery<"u"&&(i=i[0]),typeof i.nodeType<"u"),ys=i=>Nn(i)?i.jquery?i[0]:i:typeof i=="string"&&i.length>0?document.querySelector(i):null,Eo=i=>{if(!Nn(i)||i.getClientRects().length===0)return!1;const e=getComputedStyle(i).getPropertyValue("visibility")==="visible",t=i.closest("details:not([open])");if(!t)return e;if(t!==i){const n=i.closest("summary");if(n&&n.parentNode!==t||n===null)return!1}return e},vs=i=>!i||i.nodeType!==Node.ELEMENT_NODE||i.classList.contains("disabled")?!0:typeof i.disabled<"u"?i.disabled:i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false",x0=i=>{if(!document.documentElement.attachShadow)return null;if(typeof i.getRootNode=="function"){const e=i.getRootNode();return e instanceof ShadowRoot?e:null}return i instanceof ShadowRoot?i:i.parentNode?x0(i.parentNode):null},uc=()=>{},Ga=i=>{i.offsetHeight},T0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Bu=[],dO=i=>{document.readyState==="loading"?(Bu.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Bu)e()}),Bu.push(i)):i()},Pi=()=>document.documentElement.dir==="rtl",Fi=i=>{dO(()=>{const e=T0();if(e){const t=i.NAME,n=e.fn[t];e.fn[t]=i.jQueryInterface,e.fn[t].Constructor=i,e.fn[t].noConflict=()=>(e.fn[t]=n,i.jQueryInterface)}})},Ln=i=>{typeof i=="function"&&i()},w0=(i,e,t=!0)=>{if(!t){Ln(i);return}const n=5,s=hO(e)+n;let r=!1;const o=({target:a})=>{a===e&&(r=!0,e.removeEventListener(Gh,o),Ln(i))};e.addEventListener(Gh,o),setTimeout(()=>{r||E0(e)},s)},Rf=(i,e,t,n)=>{const s=i.length;let r=i.indexOf(e);return r===-1?!t&&n?i[s-1]:i[0]:(r+=t?1:-1,n&&(r=(r+s)%s),i[Math.max(0,Math.min(r,s-1))])},fO=/[^.]*(?=\..*)\.|.*/,gO=/\..*/,pO=/::\d+$/,zu={};let Kp=1;const b0={mouseenter:"mouseover",mouseleave:"mouseout"},mO=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function S0(i,e){return e&&`${e}::${Kp++}`||i.uidEvent||Kp++}function R0(i){const e=S0(i);return i.uidEvent=e,zu[e]=zu[e]||{},zu[e]}function _O(i,e){return function t(n){return Af(n,{delegateTarget:i}),t.oneOff&&ne.off(i,n.type,e),e.apply(i,[n])}}function yO(i,e,t){return function n(s){const r=i.querySelectorAll(e);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return Af(s,{delegateTarget:o}),n.oneOff&&ne.off(i,s.type,e,t),t.apply(o,[s])}}function A0(i,e,t=null){return Object.values(i).find(n=>n.callable===e&&n.delegationSelector===t)}function I0(i,e,t){const n=typeof e=="string",s=n?t:e||t;let r=L0(i);return mO.has(r)||(r=i),[n,s,r]}function qp(i,e,t,n,s){if(typeof e!="string"||!i)return;let[r,o,a]=I0(e,t,n);e in b0&&(o=(v=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return v.call(this,E)})(o));const l=R0(i),u=l[a]||(l[a]={}),h=A0(u,o,r?t:null);if(h){h.oneOff=h.oneOff&&s;return}const f=S0(o,e.replace(fO,"")),m=r?yO(i,t,o):_O(i,o);m.delegationSelector=r?t:null,m.callable=o,m.oneOff=s,m.uidEvent=f,u[f]=m,i.addEventListener(a,m,r)}function jh(i,e,t,n,s){const r=A0(e[t],n,s);r&&(i.removeEventListener(t,r,!!s),delete e[t][r.uidEvent])}function vO(i,e,t,n){const s=e[t]||{};for(const r of Object.keys(s))if(r.includes(n)){const o=s[r];jh(i,e,t,o.callable,o.delegationSelector)}}function L0(i){return i=i.replace(gO,""),b0[i]||i}const ne={on(i,e,t,n){qp(i,e,t,n,!1)},one(i,e,t,n){qp(i,e,t,n,!0)},off(i,e,t,n){if(typeof e!="string"||!i)return;const[s,r,o]=I0(e,t,n),a=o!==e,l=R0(i),u=l[o]||{},h=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(u).length)return;jh(i,l,o,r,s?t:null);return}if(h)for(const f of Object.keys(l))vO(i,l,f,e.slice(1));for(const f of Object.keys(u)){const m=f.replace(pO,"");if(!a||e.includes(m)){const y=u[f];jh(i,l,o,y.callable,y.delegationSelector)}}},trigger(i,e,t){if(typeof e!="string"||!i)return null;const n=T0(),s=L0(e),r=e!==s;let o=null,a=!0,l=!0,u=!1;r&&n&&(o=n.Event(e,t),n(i).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),u=o.isDefaultPrevented());let h=new Event(e,{bubbles:a,cancelable:!0});return h=Af(h,t),u&&h.preventDefault(),l&&i.dispatchEvent(h),h.defaultPrevented&&o&&o.preventDefault(),h}};function Af(i,e){for(const[t,n]of Object.entries(e||{}))try{i[t]=n}catch{Object.defineProperty(i,t,{configurable:!0,get(){return n}})}return i}const es=new Map,Hu={set(i,e,t){es.has(i)||es.set(i,new Map);const n=es.get(i);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,t)},get(i,e){return es.has(i)&&es.get(i).get(e)||null},remove(i,e){if(!es.has(i))return;const t=es.get(i);t.delete(e),t.size===0&&es.delete(i)}};function Zp(i){if(i==="true")return!0;if(i==="false")return!1;if(i===Number(i).toString())return Number(i);if(i===""||i==="null")return null;if(typeof i!="string")return i;try{return JSON.parse(decodeURIComponent(i))}catch{return i}}function Yu(i){return i.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const kn={setDataAttribute(i,e,t){i.setAttribute(`data-bs-${Yu(e)}`,t)},removeDataAttribute(i,e){i.removeAttribute(`data-bs-${Yu(e)}`)},getDataAttributes(i){if(!i)return{};const e={},t=Object.keys(i.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of t){let s=n.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),e[s]=Zp(i.dataset[n])}return e},getDataAttribute(i,e){return Zp(i.getAttribute(`data-bs-${Yu(e)}`))}};class ja{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=Nn(t)?kn.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...Nn(t)?kn.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const n of Object.keys(t)){const s=t[n],r=e[n],o=Nn(r)?"element":cO(r);if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${s}".`)}}}const CO="5.2.3";class Qi extends ja{constructor(e,t){super(),e=ys(e),e&&(this._element=e,this._config=this._getConfig(t),Hu.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Hu.remove(this._element,this.constructor.DATA_KEY),ne.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){w0(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Hu.get(ys(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return CO}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Kc=(i,e="hide")=>{const t=`click.dismiss${i.EVENT_KEY}`,n=i.NAME;ne.on(document,t,`[data-bs-dismiss="${n}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),vs(this))return;const r=Fn(this)||this.closest(`.${n}`);i.getOrCreateInstance(r)[e]()})},EO="alert",xO="bs.alert",O0=`.${xO}`,TO=`close${O0}`,wO=`closed${O0}`,bO="fade",SO="show";class qc extends Qi{static get NAME(){return EO}close(){if(ne.trigger(this._element,TO).defaultPrevented)return;this._element.classList.remove(SO);const t=this._element.classList.contains(bO);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ne.trigger(this._element,wO),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=qc.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Kc(qc,"close");Fi(qc);const RO="button",AO="bs.button",IO=`.${AO}`,LO=".data-api",OO="active",Jp='[data-bs-toggle="button"]',PO=`click${IO}${LO}`;class Zc extends Qi{static get NAME(){return RO}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(OO))}static jQueryInterface(e){return this.each(function(){const t=Zc.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}ne.on(document,PO,Jp,i=>{i.preventDefault();const e=i.target.closest(Jp);Zc.getOrCreateInstance(e).toggle()});Fi(Zc);const Ue={find(i,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,i))},findOne(i,e=document.documentElement){return Element.prototype.querySelector.call(e,i)},children(i,e){return[].concat(...i.children).filter(t=>t.matches(e))},parents(i,e){const t=[];let n=i.parentNode.closest(e);for(;n;)t.push(n),n=n.parentNode.closest(e);return t},prev(i,e){let t=i.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(i,e){let t=i.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(i){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,i).filter(t=>!vs(t)&&Eo(t))}},MO="swipe",xo=".bs.swipe",DO=`touchstart${xo}`,FO=`touchmove${xo}`,NO=`touchend${xo}`,kO=`pointerdown${xo}`,GO=`pointerup${xo}`,jO="touch",$O="pen",VO="pointer-event",WO=40,BO={endCallback:null,leftCallback:null,rightCallback:null},zO={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class hc extends ja{constructor(e,t){super(),this._element=e,!(!e||!hc.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return BO}static get DefaultType(){return zO}static get NAME(){return MO}dispose(){ne.off(this._element,xo)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ln(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=WO)return;const t=e/this._deltaX;this._deltaX=0,t&&Ln(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ne.on(this._element,kO,e=>this._start(e)),ne.on(this._element,GO,e=>this._end(e)),this._element.classList.add(VO)):(ne.on(this._element,DO,e=>this._start(e)),ne.on(this._element,FO,e=>this._move(e)),ne.on(this._element,NO,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===$O||e.pointerType===jO)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const HO="carousel",YO="bs.carousel",bs=`.${YO}`,P0=".data-api",UO="ArrowLeft",XO="ArrowRight",KO=500,Go="next",br="prev",Mr="left",Ml="right",qO=`slide${bs}`,Uu=`slid${bs}`,ZO=`keydown${bs}`,JO=`mouseenter${bs}`,QO=`mouseleave${bs}`,eP=`dragstart${bs}`,tP=`load${bs}${P0}`,iP=`click${bs}${P0}`,M0="carousel",vl="active",nP="slide",sP="carousel-item-end",rP="carousel-item-start",oP="carousel-item-next",aP="carousel-item-prev",D0=".active",F0=".carousel-item",lP=D0+F0,cP=".carousel-item img",uP=".carousel-indicators",hP="[data-bs-slide], [data-bs-slide-to]",dP='[data-bs-ride="carousel"]',fP={[UO]:Ml,[XO]:Mr},gP={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},pP={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $a extends Qi{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ue.findOne(uP,this._element),this._addEventListeners(),this._config.ride===M0&&this.cycle()}static get Default(){return gP}static get DefaultType(){return pP}static get NAME(){return HO}next(){this._slide(Go)}nextWhenVisible(){!document.hidden&&Eo(this._element)&&this.next()}prev(){this._slide(br)}pause(){this._isSliding&&E0(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ne.one(this._element,Uu,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ne.one(this._element,Uu,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const s=e>n?Go:br;this._slide(s,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ne.on(this._element,ZO,e=>this._keydown(e)),this._config.pause==="hover"&&(ne.on(this._element,JO,()=>this.pause()),ne.on(this._element,QO,()=>this._maybeEnableCycle())),this._config.touch&&hc.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of Ue.find(cP,this._element))ne.on(n,eP,s=>s.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Mr)),rightCallback:()=>this._slide(this._directionToOrder(Ml)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),KO+this._config.interval))}};this._swipeHelper=new hc(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=fP[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Ue.findOne(D0,this._indicatorsElement);t.classList.remove(vl),t.removeAttribute("aria-current");const n=Ue.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(vl),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),s=e===Go,r=t||Rf(this._getItems(),n,s,this._config.wrap);if(r===n)return;const o=this._getItemIndex(r),a=y=>ne.trigger(this._element,y,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o});if(a(qO).defaultPrevented||!n||!r)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const h=s?rP:sP,f=s?oP:aP;r.classList.add(f),Ga(r),n.classList.add(h),r.classList.add(h);const m=()=>{r.classList.remove(h,f),r.classList.add(vl),n.classList.remove(vl,f,h),this._isSliding=!1,a(Uu)};this._queueCallback(m,n,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(nP)}_getActive(){return Ue.findOne(lP,this._element)}_getItems(){return Ue.find(F0,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Pi()?e===Mr?br:Go:e===Mr?Go:br}_orderToDirection(e){return Pi()?e===br?Mr:Ml:e===br?Ml:Mr}static jQueryInterface(e){return this.each(function(){const t=$a.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(document,iP,hP,function(i){const e=Fn(this);if(!e||!e.classList.contains(M0))return;i.preventDefault();const t=$a.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){t.to(n),t._maybeEnableCycle();return}if(kn.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ne.on(window,tP,()=>{const i=Ue.find(dP);for(const e of i)$a.getOrCreateInstance(e)});Fi($a);const mP="collapse",_P="bs.collapse",Va=`.${_P}`,yP=".data-api",vP=`show${Va}`,CP=`shown${Va}`,EP=`hide${Va}`,xP=`hidden${Va}`,TP=`click${Va}${yP}`,Xu="show",jr="collapse",Cl="collapsing",wP="collapsed",bP=`:scope .${jr} .${jr}`,SP="collapse-horizontal",RP="width",AP="height",IP=".collapse.show, .collapse.collapsing",$h='[data-bs-toggle="collapse"]',LP={parent:null,toggle:!0},OP={parent:"(null|element)",toggle:"boolean"};class Ta extends Qi{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=Ue.find($h);for(const s of n){const r=C0(s),o=Ue.find(r).filter(a=>a===this._element);r!==null&&o.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return LP}static get DefaultType(){return OP}static get NAME(){return mP}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(IP).filter(a=>a!==this._element).map(a=>Ta.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||ne.trigger(this._element,vP).defaultPrevented)return;for(const a of e)a.hide();const n=this._getDimension();this._element.classList.remove(jr),this._element.classList.add(Cl),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Cl),this._element.classList.add(jr,Xu),this._element.style[n]="",ne.trigger(this._element,CP)},o=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[n]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||ne.trigger(this._element,EP).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Ga(this._element),this._element.classList.add(Cl),this._element.classList.remove(jr,Xu);for(const s of this._triggerArray){const r=Fn(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(Cl),this._element.classList.add(jr),ne.trigger(this._element,xP)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Xu)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=ys(e.parent),e}_getDimension(){return this._element.classList.contains(SP)?RP:AP}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren($h);for(const t of e){const n=Fn(t);n&&this._addAriaAndCollapsedClass([t],this._isShown(n))}}_getFirstLevelChildren(e){const t=Ue.find(bP,this._config.parent);return Ue.find(e,this._config.parent).filter(n=>!t.includes(n))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(wP,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const n=Ta.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ne.on(document,TP,$h,function(i){(i.target.tagName==="A"||i.delegateTarget&&i.delegateTarget.tagName==="A")&&i.preventDefault();const e=C0(this),t=Ue.find(e);for(const n of t)Ta.getOrCreateInstance(n,{toggle:!1}).toggle()});Fi(Ta);const Qp="dropdown",PP="bs.dropdown",dr=`.${PP}`,If=".data-api",MP="Escape",em="Tab",DP="ArrowUp",tm="ArrowDown",FP=2,NP=`hide${dr}`,kP=`hidden${dr}`,GP=`show${dr}`,jP=`shown${dr}`,N0=`click${dr}${If}`,k0=`keydown${dr}${If}`,$P=`keyup${dr}${If}`,Dr="show",VP="dropup",WP="dropend",BP="dropstart",zP="dropup-center",HP="dropdown-center",Zs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',YP=`${Zs}.${Dr}`,Dl=".dropdown-menu",UP=".navbar",XP=".navbar-nav",KP=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",qP=Pi()?"top-end":"top-start",ZP=Pi()?"top-start":"top-end",JP=Pi()?"bottom-end":"bottom-start",QP=Pi()?"bottom-start":"bottom-end",eM=Pi()?"left-start":"right-start",tM=Pi()?"right-start":"left-start",iM="top",nM="bottom",sM={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rM={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class hn extends Qi{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Ue.next(this._element,Dl)[0]||Ue.prev(this._element,Dl)[0]||Ue.findOne(Dl,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sM}static get DefaultType(){return rM}static get NAME(){return Qp}toggle(){return this._isShown()?this.hide():this.show()}show(){if(vs(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ne.trigger(this._element,GP,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(XP))for(const n of[].concat(...document.body.children))ne.on(n,"mouseover",uc);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Dr),this._element.classList.add(Dr),ne.trigger(this._element,jP,e)}}hide(){if(vs(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ne.trigger(this._element,NP,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))ne.off(n,"mouseover",uc);this._popper&&this._popper.destroy(),this._menu.classList.remove(Dr),this._element.classList.remove(Dr),this._element.setAttribute("aria-expanded","false"),kn.removeDataAttribute(this._menu,"popper"),ne.trigger(this._element,kP,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Nn(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Qp.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof y0>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Nn(this._config.reference)?e=ys(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Sf(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Dr)}_getPlacement(){const e=this._parent;if(e.classList.contains(WP))return eM;if(e.classList.contains(BP))return tM;if(e.classList.contains(zP))return iM;if(e.classList.contains(HP))return nM;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(VP)?t?ZP:qP:t?QP:JP}_detectNavbar(){return this._element.closest(UP)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(kn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const n=Ue.find(KP,this._menu).filter(s=>Eo(s));n.length&&Rf(n,t,e===tm,!n.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=hn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===FP||e.type==="keyup"&&e.key!==em)return;const t=Ue.find(YP);for(const n of t){const s=hn.getInstance(n);if(!s||s._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(s._menu);if(r.includes(s._element)||s._config.autoClose==="inside"&&!o||s._config.autoClose==="outside"&&o||s._menu.contains(e.target)&&(e.type==="keyup"&&e.key===em||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:s._element};e.type==="click"&&(a.clickEvent=e),s._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===MP,s=[DP,tm].includes(e.key);if(!s&&!n||t&&!n)return;e.preventDefault();const r=this.matches(Zs)?this:Ue.prev(this,Zs)[0]||Ue.next(this,Zs)[0]||Ue.findOne(Zs,e.delegateTarget.parentNode),o=hn.getOrCreateInstance(r);if(s){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}ne.on(document,k0,Zs,hn.dataApiKeydownHandler);ne.on(document,k0,Dl,hn.dataApiKeydownHandler);ne.on(document,N0,hn.clearMenus);ne.on(document,$P,hn.clearMenus);ne.on(document,N0,Zs,function(i){i.preventDefault(),hn.getOrCreateInstance(this).toggle()});Fi(hn);const im=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",nm=".sticky-top",El="padding-right",sm="margin-right";class Vh{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,El,t=>t+e),this._setElementAttributes(im,El,t=>t+e),this._setElementAttributes(nm,sm,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,El),this._resetElementAttributes(im,El),this._resetElementAttributes(nm,sm)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const s=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,t);const a=window.getComputedStyle(o).getPropertyValue(t);o.style.setProperty(t,`${n(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&kn.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=s=>{const r=kn.getDataAttribute(s,t);if(r===null){s.style.removeProperty(t);return}kn.removeDataAttribute(s,t),s.style.setProperty(t,r)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(Nn(e)){t(e);return}for(const n of Ue.find(e,this._element))t(n)}}const G0="backdrop",oM="fade",rm="show",om=`mousedown.bs.${G0}`,aM={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},lM={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class j0 extends ja{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return aM}static get DefaultType(){return lM}static get NAME(){return G0}show(e){if(!this._config.isVisible){Ln(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Ga(t),t.classList.add(rm),this._emulateAnimation(()=>{Ln(e)})}hide(e){if(!this._config.isVisible){Ln(e);return}this._getElement().classList.remove(rm),this._emulateAnimation(()=>{this.dispose(),Ln(e)})}dispose(){this._isAppended&&(ne.off(this._element,om),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(oM),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ys(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ne.on(e,om,()=>{Ln(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){w0(e,this._getElement(),this._config.isAnimated)}}const cM="focustrap",uM="bs.focustrap",dc=`.${uM}`,hM=`focusin${dc}`,dM=`keydown.tab${dc}`,fM="Tab",gM="forward",am="backward",pM={autofocus:!0,trapElement:null},mM={autofocus:"boolean",trapElement:"element"};class $0 extends ja{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return pM}static get DefaultType(){return mM}static get NAME(){return cM}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ne.off(document,dc),ne.on(document,hM,e=>this._handleFocusin(e)),ne.on(document,dM,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ne.off(document,dc))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=Ue.focusableChildren(t);n.length===0?t.focus():this._lastTabNavDirection===am?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===fM&&(this._lastTabNavDirection=e.shiftKey?am:gM)}}const _M="modal",yM="bs.modal",en=`.${yM}`,vM=".data-api",CM="Escape",EM=`hide${en}`,xM=`hidePrevented${en}`,V0=`hidden${en}`,W0=`show${en}`,TM=`shown${en}`,wM=`resize${en}`,bM=`click.dismiss${en}`,SM=`mousedown.dismiss${en}`,RM=`keydown.dismiss${en}`,AM=`click${en}${vM}`,lm="modal-open",IM="fade",cm="show",Ku="modal-static",LM=".modal.show",OM=".modal-dialog",PM=".modal-body",MM='[data-bs-toggle="modal"]',DM={backdrop:!0,focus:!0,keyboard:!0},FM={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class co extends Qi{constructor(e,t){super(e,t),this._dialog=Ue.findOne(OM,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Vh,this._addEventListeners()}static get Default(){return DM}static get DefaultType(){return FM}static get NAME(){return _M}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ne.trigger(this._element,W0,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(lm),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ne.trigger(this._element,EM).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(cm),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])ne.off(e,en);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new j0({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new $0({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Ue.findOne(PM,this._dialog);t&&(t.scrollTop=0),Ga(this._element),this._element.classList.add(cm);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ne.trigger(this._element,TM,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){ne.on(this._element,RM,e=>{if(e.key===CM){if(this._config.keyboard){e.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),ne.on(window,wM,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ne.on(this._element,SM,e=>{ne.one(this._element,bM,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(lm),this._resetAdjustments(),this._scrollBar.reset(),ne.trigger(this._element,V0)})}_isAnimated(){return this._element.classList.contains(IM)}_triggerBackdropTransition(){if(ne.trigger(this._element,xM).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(Ku)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Ku),this._queueCallback(()=>{this._element.classList.remove(Ku),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const s=Pi()?"paddingLeft":"paddingRight";this._element.style[s]=`${t}px`}if(!n&&e){const s=Pi()?"paddingRight":"paddingLeft";this._element.style[s]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const n=co.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](t)}})}}ne.on(document,AM,MM,function(i){const e=Fn(this);["A","AREA"].includes(this.tagName)&&i.preventDefault(),ne.one(e,W0,s=>{s.defaultPrevented||ne.one(e,V0,()=>{Eo(this)&&this.focus()})});const t=Ue.findOne(LM);t&&co.getInstance(t).hide(),co.getOrCreateInstance(e).toggle(this)});Kc(co);Fi(co);const NM="offcanvas",kM="bs.offcanvas",Bn=`.${kM}`,B0=".data-api",GM=`load${Bn}${B0}`,jM="Escape",um="show",hm="showing",dm="hiding",$M="offcanvas-backdrop",z0=".offcanvas.show",VM=`show${Bn}`,WM=`shown${Bn}`,BM=`hide${Bn}`,fm=`hidePrevented${Bn}`,H0=`hidden${Bn}`,zM=`resize${Bn}`,HM=`click${Bn}${B0}`,YM=`keydown.dismiss${Bn}`,UM='[data-bs-toggle="offcanvas"]',XM={backdrop:!0,keyboard:!0,scroll:!1},KM={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Cs extends Qi{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return XM}static get DefaultType(){return KM}static get NAME(){return NM}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ne.trigger(this._element,VM,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Vh().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(hm);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(um),this._element.classList.remove(hm),ne.trigger(this._element,WM,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||ne.trigger(this._element,BM).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(dm),this._backdrop.hide();const t=()=>{this._element.classList.remove(um,dm),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Vh().reset(),ne.trigger(this._element,H0)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ne.trigger(this._element,fm);return}this.hide()},t=!!this._config.backdrop;return new j0({className:$M,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new $0({trapElement:this._element})}_addEventListeners(){ne.on(this._element,YM,e=>{if(e.key===jM){if(!this._config.keyboard){ne.trigger(this._element,fm);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){const t=Cs.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}ne.on(document,HM,UM,function(i){const e=Fn(this);if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),vs(this))return;ne.one(e,H0,()=>{Eo(this)&&this.focus()});const t=Ue.findOne(z0);t&&t!==e&&Cs.getInstance(t).hide(),Cs.getOrCreateInstance(e).toggle(this)});ne.on(window,GM,()=>{for(const i of Ue.find(z0))Cs.getOrCreateInstance(i).show()});ne.on(window,zM,()=>{for(const i of Ue.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(i).position!=="fixed"&&Cs.getOrCreateInstance(i).hide()});Kc(Cs);Fi(Cs);const qM=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ZM=/^aria-[\w-]*$/i,JM=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,QM=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,eD=(i,e)=>{const t=i.nodeName.toLowerCase();return e.includes(t)?qM.has(t)?!!(JM.test(i.nodeValue)||QM.test(i.nodeValue)):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(t))},Y0={"*":["class","dir","id","lang","role",ZM],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function tD(i,e,t){if(!i.length)return i;if(t&&typeof t=="function")return t(i);const s=new window.DOMParser().parseFromString(i,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(const h of l)eD(h,u)||o.removeAttribute(h.nodeName)}return s.body.innerHTML}const iD="TemplateFactory",nD={allowList:Y0,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},sD={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},rD={entry:"(string|element|function|null)",selector:"(string|element)"};class oD extends ja{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return nD}static get DefaultType(){return sD}static get NAME(){return iD}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(e,r,s);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},rD)}_setContent(e,t,n){const s=Ue.findOne(n,e);if(s){if(t=this._resolvePossibleFunction(t),!t){s.remove();return}if(Nn(t)){this._putElementInTemplate(ys(t),s);return}if(this._config.html){s.innerHTML=this._maybeSanitize(t);return}s.textContent=t}}_maybeSanitize(e){return this._config.sanitize?tD(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return typeof e=="function"?e(this):e}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const aD="tooltip",lD=new Set(["sanitize","allowList","sanitizeFn"]),qu="fade",cD="modal",xl="show",uD=".tooltip-inner",gm=`.${cD}`,pm="hide.bs.modal",jo="hover",Zu="focus",hD="click",dD="manual",fD="hide",gD="hidden",pD="show",mD="shown",_D="inserted",yD="click",vD="focusin",CD="focusout",ED="mouseenter",xD="mouseleave",TD={AUTO:"auto",TOP:"top",RIGHT:Pi()?"left":"right",BOTTOM:"bottom",LEFT:Pi()?"right":"left"},wD={allowList:Y0,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},bD={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class To extends Qi{constructor(e,t){if(typeof y0>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return wD}static get DefaultType(){return bD}static get NAME(){return aD}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ne.off(this._element.closest(gm),pm,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ne.trigger(this._element,this.constructor.eventName(pD)),n=(x0(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),ne.trigger(this._element,this.constructor.eventName(_D))),this._popper=this._createPopper(s),s.classList.add(xl),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))ne.on(a,"mouseover",uc);const o=()=>{ne.trigger(this._element,this.constructor.eventName(mD)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ne.trigger(this._element,this.constructor.eventName(fD)).defaultPrevented)return;if(this._getTipElement().classList.remove(xl),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))ne.off(s,"mouseover",uc);this._activeTrigger[hD]=!1,this._activeTrigger[Zu]=!1,this._activeTrigger[jo]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ne.trigger(this._element,this.constructor.eventName(gD)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(qu,xl),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=uO(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(qu),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new oD({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[uD]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(qu)}_isShown(){return this.tip&&this.tip.classList.contains(xl)}_createPopper(e){const t=typeof this._config.placement=="function"?this._config.placement.call(this,e,this._element):this._config.placement,n=TD[t.toUpperCase()];return Sf(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ne.on(this._element,this.constructor.eventName(yD),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(t!==dD){const n=t===jo?this.constructor.eventName(ED):this.constructor.eventName(vD),s=t===jo?this.constructor.eventName(xD):this.constructor.eventName(CD);ne.on(this._element,n,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?Zu:jo]=!0,o._enter()}),ne.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?Zu:jo]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ne.on(this._element.closest(gm),pm,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=kn.getDataAttributes(this._element);for(const n of Object.keys(t))lD.has(n)&&delete t[n];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:ys(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=To.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Fi(To);const SD="popover",RD=".popover-header",AD=".popover-body",ID={...To.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},LD={...To.DefaultType,content:"(null|string|element|function)"};class Lf extends To{static get Default(){return ID}static get DefaultType(){return LD}static get NAME(){return SD}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[RD]:this._getTitle(),[AD]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Lf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Fi(Lf);const OD="scrollspy",PD="bs.scrollspy",Of=`.${PD}`,MD=".data-api",DD=`activate${Of}`,mm=`click${Of}`,FD=`load${Of}${MD}`,ND="dropdown-item",Sr="active",kD='[data-bs-spy="scroll"]',Ju="[href]",GD=".nav, .list-group",_m=".nav-link",jD=".nav-item",$D=".list-group-item",VD=`${_m}, ${jD} > ${_m}, ${$D}`,WD=".dropdown",BD=".dropdown-toggle",zD={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},HD={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Jc extends Qi{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return zD}static get DefaultType(){return HD}static get NAME(){return OD}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ys(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ne.off(this._config.target,mm),ne.on(this._config.target,mm,Ju,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,s=t.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:s,behavior:"smooth"});return}n.scrollTop=s}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=o=>this._targetLinks.get(`#${o.target.id}`),n=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(t(o))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(n(o),!s)return;continue}!r&&!a&&n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Ue.find(Ju,this._config.target);for(const t of e){if(!t.hash||vs(t))continue;const n=Ue.findOne(t.hash,this._element);Eo(n)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Sr),this._activateParents(e),ne.trigger(this._element,DD,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(ND)){Ue.findOne(BD,e.closest(WD)).classList.add(Sr);return}for(const t of Ue.parents(e,GD))for(const n of Ue.prev(t,VD))n.classList.add(Sr)}_clearActiveClass(e){e.classList.remove(Sr);const t=Ue.find(`${Ju}.${Sr}`,e);for(const n of t)n.classList.remove(Sr)}static jQueryInterface(e){return this.each(function(){const t=Jc.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(window,FD,()=>{for(const i of Ue.find(kD))Jc.getOrCreateInstance(i)});Fi(Jc);const YD="tab",UD="bs.tab",fr=`.${UD}`,XD=`hide${fr}`,KD=`hidden${fr}`,qD=`show${fr}`,ZD=`shown${fr}`,JD=`click${fr}`,QD=`keydown${fr}`,eF=`load${fr}`,tF="ArrowLeft",ym="ArrowRight",iF="ArrowUp",vm="ArrowDown",Js="active",Cm="fade",Qu="show",nF="dropdown",sF=".dropdown-toggle",rF=".dropdown-menu",eh=":not(.dropdown-toggle)",oF='.list-group, .nav, [role="tablist"]',aF=".nav-item, .list-group-item",lF=`.nav-link${eh}, .list-group-item${eh}, [role="tab"]${eh}`,U0='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',th=`${lF}, ${U0}`,cF=`.${Js}[data-bs-toggle="tab"], .${Js}[data-bs-toggle="pill"], .${Js}[data-bs-toggle="list"]`;class uo extends Qi{constructor(e){super(e),this._parent=this._element.closest(oF),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ne.on(this._element,QD,t=>this._keydown(t)))}static get NAME(){return YD}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?ne.trigger(t,XD,{relatedTarget:e}):null;ne.trigger(e,qD,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Js),this._activate(Fn(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Qu);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ne.trigger(e,ZD,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(Cm))}_deactivate(e,t){if(!e)return;e.classList.remove(Js),e.blur(),this._deactivate(Fn(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Qu);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ne.trigger(e,KD,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(Cm))}_keydown(e){if(![tF,ym,iF,vm].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[ym,vm].includes(e.key),n=Rf(this._getChildren().filter(s=>!vs(s)),e.target,t,!0);n&&(n.focus({preventScroll:!0}),uo.getOrCreateInstance(n).show())}_getChildren(){return Ue.find(th,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Fn(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(nF))return;const s=(r,o)=>{const a=Ue.findOne(r,n);a&&a.classList.toggle(o,t)};s(sF,Js),s(rF,Qu),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(Js)}_getInnerElement(e){return e.matches(th)?e:Ue.findOne(th,e)}_getOuterElement(e){return e.closest(aF)||e}static jQueryInterface(e){return this.each(function(){const t=uo.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(document,JD,U0,function(i){["A","AREA"].includes(this.tagName)&&i.preventDefault(),!vs(this)&&uo.getOrCreateInstance(this).show()});ne.on(window,eF,()=>{for(const i of Ue.find(cF))uo.getOrCreateInstance(i)});Fi(uo);const uF="toast",hF="bs.toast",Ss=`.${hF}`,dF=`mouseover${Ss}`,fF=`mouseout${Ss}`,gF=`focusin${Ss}`,pF=`focusout${Ss}`,mF=`hide${Ss}`,_F=`hidden${Ss}`,yF=`show${Ss}`,vF=`shown${Ss}`,CF="fade",Em="hide",Tl="show",wl="showing",EF={animation:"boolean",autohide:"boolean",delay:"number"},xF={animation:!0,autohide:!0,delay:5e3};class Qc extends Qi{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return xF}static get DefaultType(){return EF}static get NAME(){return uF}show(){if(ne.trigger(this._element,yF).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CF);const t=()=>{this._element.classList.remove(wl),ne.trigger(this._element,vF),this._maybeScheduleHide()};this._element.classList.remove(Em),Ga(this._element),this._element.classList.add(Tl,wl),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ne.trigger(this._element,mF).defaultPrevented)return;const t=()=>{this._element.classList.add(Em),this._element.classList.remove(wl,Tl),ne.trigger(this._element,_F)};this._element.classList.add(wl),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Tl),super.dispose()}isShown(){return this._element.classList.contains(Tl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){ne.on(this._element,dF,e=>this._onInteraction(e,!0)),ne.on(this._element,fF,e=>this._onInteraction(e,!1)),ne.on(this._element,gF,e=>this._onInteraction(e,!0)),ne.on(this._element,pF,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Qc.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Kc(Qc);Fi(Qc);const TF=Object.assign({});function wF(i){for(const[e,t]of Object.entries(TF)){const n=e.slice(e.lastIndexOf("/")+1,e.lastIndexOf("."));i.component(n,KC(t))}}const X0=cx(CL);X0.use(wF);X0.mount("#app");
