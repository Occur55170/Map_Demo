import{_ as F,f as I,c as R,o as B,M as Y}from"./index-b64701bc.js";import{W as H,J as S,M as T,Y as A,Z as V,B as W,V as U,_ as $,$ as X,Q as N,a0 as O,T as q,O as z,h as G,a1 as J,R as _,U as D,a2 as Q}from"./core-f6ece5f9.js";window.ol&&ol.ext&&!ol.ext.input&&(ol.ext.input={});var Z=class extends H{constructor(t){t=t||{},super();var n=this.input=t.input;n||(n=this.input=document.createElement("INPUT"),t.type&&n.setAttribute("type",t.type),t.min!==void 0&&n.setAttribute("min",t.min),t.max!==void 0&&n.setAttribute("max",t.max),t.step!==void 0&&n.setAttribute("step",t.step),t.parent&&t.parent.appendChild(n)),t.disabled&&(n.disabled=!0),t.checked!==void 0&&(n.checked=!!t.checked),t.val!==void 0&&(n.value=t.val),t.hidden&&(n.style.display="none"),n.addEventListener("focus",(function(){this.element&&this.element.classList.add("ol-focus")}).bind(this));var r;n.addEventListener("focusout",(function(){this.element&&(r&&clearTimeout(r),r=setTimeout((function(){this.element.classList.remove("ol-focus")}).bind(this),0))}).bind(this))}_listenDrag(t,n){var r=(function(a){this.moving=!0,this.element.classList.add("ol-moving");var i=(function(s){s.type==="pointerup"&&(document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",i),document.removeEventListener("pointercancel",i),setTimeout((function(){this.moving=!1,this.element.classList.remove("ol-moving")}).bind(this))),s.target===t&&n(s),s.stopPropagation(),s.preventDefault()}).bind(this);document.addEventListener("pointermove",i,!1),document.addEventListener("pointerup",i,!1),document.addEventListener("pointercancel",i,!1),a.stopPropagation(),a.preventDefault()}).bind(this);t.addEventListener("mousedown",r,!1),t.addEventListener("touchstart",r,!1)}setValue(t){t!==void 0&&(this.input.value=t),this.input.dispatchEvent(new Event("change"))}getValue(){return this.input.value}getInputElement(){return this.input}},C=class extends Z{constructor(t){t=t||{},super(t);var n=this.element=document.createElement("LABEL");t.html instanceof Element?n.appendChild(t.html):t.html!==void 0&&(n.innerHTML=t.html),n.className=("ol-ext-check ol-ext-checkbox "+(t.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(n,this.input),n.appendChild(this.input),n.appendChild(document.createElement("SPAN")),t.after&&n.appendChild(document.createTextNode(t.after)),this.input.addEventListener("change",(function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}).bind(this))}isChecked(){return this.input.checked}},j=class extends C{constructor(t){t=t||{},super(t),this.element.className=("ol-ext-toggle-switch "+(t.className||"")).trim()}},K=class extends C{constructor(t){t=t||{},super(t),this.element.className=("ol-ext-check ol-ext-radio "+(t.className||"")).trim()}},o={};o.create=function(e,t){t=t||{};var n;if(e==="TEXT")n=document.createTextNode(t.html||""),t.parent&&t.parent.appendChild(n);else{n=document.createElement(e),/button/i.test(e)&&n.setAttribute("type","button");for(var r in t)switch(r){case"className":{t.className&&t.className.trim&&n.setAttribute("class",t.className.trim());break}case"text":{n.innerText=t.text;break}case"html":{t.html instanceof Element?n.appendChild(t.html):t.html!==void 0&&(n.innerHTML=t.html);break}case"parent":{t.parent&&t.parent.appendChild(n);break}case"options":{if(/select/i.test(e))for(var a in t.options)o.create("OPTION",{html:a,value:t.options[a],parent:n});break}case"style":{o.setStyle(n,t.style);break}case"change":case"click":{o.addListener(n,r,t[r]);break}case"on":{for(var i in t.on)o.addListener(n,i,t.on[i]);break}case"checked":{n.checked=!!t.checked;break}default:{n.setAttribute(r,t[r]);break}}}return n};o.createSwitch=function(e){var t=o.create("INPUT",{type:"checkbox",on:e.on,click:e.click,change:e.change,parent:e.parent}),n=Object.assign({input:t},e||{});return new j(n),t};o.createCheck=function(e){var t=o.create("INPUT",{name:e.name,type:e.type==="radio"?"radio":"checkbox",on:e.on,parent:e.parent}),n=Object.assign({input:t},e||{});return e.type==="radio"?new K(n):new C(n),t};o.setHTML=function(e,t){t instanceof Element?e.appendChild(t):t!==void 0&&(e.innerHTML=t)};o.appendText=function(e,t){e.appendChild(document.createTextNode(t||""))};o.addListener=function(e,t,n,r){typeof t=="string"&&(t=t.split(" ")),t.forEach(function(a){e.addEventListener(a,n,r)})};o.removeListener=function(e,t,n){typeof t=="string"&&(t=t.split(" ")),t.forEach(function(r){e.removeEventListener(r,n)})};o.show=function(e){e.style.display=""};o.hide=function(e){e.style.display="none"};o.hidden=function(e){return o.getStyle(e,"display")==="none"};o.toggle=function(e){e.style.display=e.style.display==="none"?"":"none"};o.setStyle=function(e,t){for(var n in t)switch(n){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":{typeof t[n]=="number"?e.style[n]=t[n]+"px":e.style[n]=t[n];break}default:e.style[n]=t[n]}};o.getStyle=function(e,t){var n,r=(e.ownerDocument||document).defaultView;if(r&&r.getComputedStyle)t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=r.getComputedStyle(e,null).getPropertyValue(t);else if(e.currentStyle&&(t=t.replace(/-(\w)/g,function(a,i){return i.toUpperCase()}),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(a){var i=e.style.left,s=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=a||0,a=e.style.pixelLeft+"px",e.style.left=i,e.runtimeStyle.left=s,a}(n);return/px$/.test(n)?parseInt(n):n};o.outerHeight=function(e){return e.offsetHeight+o.getStyle(e,"marginBottom")};o.outerWidth=function(e){return e.offsetWidth+o.getStyle(e,"marginLeft")};o.offsetRect=function(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};o.getFixedOffset=function(e){var t={left:0,top:0},n=function(r){if(!r)return t;if(o.getStyle(r,"position")==="absolute"&&o.getStyle(r,"transform")!=="none"){var a=r.getBoundingClientRect();return t.left+=a.left,t.top+=a.top,t}return n(r.offsetParent)};return n(e.offsetParent)};o.positionRect=function(e,t){var n=0,r=0,a=function(i){if(i)return n+=i.offsetLeft,r+=i.offsetTop,a(i.offsetParent);var s={top:e.offsetTop+r,left:e.offsetLeft+n};return t&&(s.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),s.bottom=s.top+e.offsetHeight,s.right=s.top+e.offsetWidth,s};return a(e.offsetParent)};o.scrollDiv=function(e,t){t=t||{};var n=!1,r=0,a,i=0,s=typeof t.onmove=="function"?t.onmove:function(){},h=t.vertical?"screenY":"screenX",u=t.vertical?"scrollTop":"scrollLeft",d=!1,p,g,y=0,c=function(){w&&(y++,setTimeout(b))},b=function(){if(w){if(y--,y)return;var l=e.clientHeight,v=e.scrollHeight;p=l/v,w.style.height=p*100+"%",w.style.top=e.scrollTop/v*100+"%",L.style.height=l+"px",l>v-.5?L.classList.add("ol-100pc"):L.classList.remove("ol-100pc")}},m=function(l){l.target.classList.contains("ol-noscroll")||(d=!1,n=l[h],i=new Date,e.classList.add("ol-move"),l.preventDefault(),window.addEventListener("pointermove",x),o.addListener(window,["pointerup","pointercancel"],M))},x=function(l){if(n!==!1){var v=(g?-1/p:1)*(n-l[h]);d=d||Math.round(v),e[u]+=v,a=new Date,a-i&&(r=(r+v/(a-i))/2),n=l[h],i=a,v&&s(!0)}else d=!0},E=function(l){var v=l>0?Math.min(100,l/2):Math.max(-100,l/2);l-=v,e[u]+=v,-1<l&&l<1?(d?setTimeout(function(){e.classList.remove("ol-move")}):e.classList.remove("ol-move"),d=!1,s(!1)):setTimeout(function(){E(l)},40)},L,w;if(t.vertical&&t.minibar){var k=function(l){e.removeEventListener("pointermove",k),e.parentNode.classList.add("ol-miniscroll"),w=o.create("DIV"),L=o.create("DIV",{className:"ol-scroll",html:w}),e.parentNode.insertBefore(L,e),w.addEventListener("pointerdown",function(v){g=!0,m(v)}),t.mousewheel&&(o.addListener(L,["mousewheel","DOMMouseScroll","onmousewheel"],function(v){P(v)}),o.addListener(w,["mousewheel","DOMMouseScroll","onmousewheel"],function(v){P(v)})),e.parentNode.addEventListener("pointerenter",c),window.addEventListener("resize",c),l!==!1&&c()};e.parentNode?k(!1):e.addEventListener("pointermove",k),e.addEventListener("scroll",function(){c()})}e.style["touch-action"]="none",e.style.overflow="hidden",e.classList.add("ol-scrolldiv"),o.addListener(e,["pointerdown"],function(l){g=!1,m(l)}),e.addEventListener("click",function(l){e.classList.contains("ol-move")&&(l.preventDefault(),l.stopPropagation())},!0);var M=function(l){i=new Date-i,i>100||g?r=0:i>0&&(r=((r||0)+(n-l[h])/i)/2),E(t.animate===!1?0:r*200),n=!1,r=0,i=0,e.classList.contains("ol-move")?e.classList.remove("ol-hasClick"):(e.classList.add("ol-hasClick"),setTimeout(function(){e.classList.remove("ol-hasClick")},500)),g=!1,window.removeEventListener("pointermove",x),o.removeListener(window,["pointerup","pointercancel"],M)},P=function(l){var v=Math.max(-1,Math.min(1,l.wheelDelta||-l.detail));return e.classList.add("ol-move"),e[u]-=v*30,e.classList.remove("ol-move"),!1};return t.mousewheel&&o.addListener(e,["mousewheel","DOMMouseScroll","onmousewheel"],P),{refresh:c}};o.dispatchEvent=function(e,t){var n;try{n=new CustomEvent(e)}catch{n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,{})}t.dispatchEvent(n)};var f={};f.getTransform=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform"),r=n.split("(")[1].split(")")[0].split(","),a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],i,s;if(r.length===16)for(i=0;i<4;++i)for(s=0;s<4;++s)a[s][i]=+r[i*4+s];else for(i=0;i<3;++i)for(s=0;s<2;++s)a[s][i]=+r[i*2+s];return a};f.getTransformOrigin=function(e){for(var t=window.getComputedStyle(e,null),n=t.getPropertyValue("-webkit-transform-origin")||t.getPropertyValue("-moz-transform-origin")||t.getPropertyValue("-ms-transform-origin")||t.getPropertyValue("-o-transform-origin")||t.getPropertyValue("transform-origin"),r=n.split(" "),a=[0,0,0,1],i=0;i<r.length;++i)a[i]=parseInt(r[i]);return a};f.translateMatrix=function(e,t,n){return[[1,0,0,e],[0,1,0,t],[0,0,1,n],[0,0,0,1]]};f.identity=function(){return[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]};f.roundTo=function(e,t){t||(t=1e-10);for(var n=[[],[],[],[]],r=0;r<4;r++)for(var a=0;a<4;a++)n[r][a]=Math.round(e[r][a]/t)*t;return n};f.multiply=function(e,t){for(var n=[[],[],[],[]],r=0;r<4;++r)for(var a=0;a<4;++a){for(var i=0,s=0;s<4;++s)i+=e[s][r]*t[a][s];n[a][r]=i}return n};f.computeTransformMatrix=function(e,t){var n=f.translateMatrix(-t[0],-t[1],-t[2]),r=f.translateMatrix(t[0],t[1],t[2]),a=f.multiply(n,e);return f.multiply(a,r)};f.transformVertex=function(e,t){for(var n=[t[0],t[1],0,1],r=[],a=0;a<4;++a){r[a]=0;for(var i=0;i<4;++i)r[a]+=+e[a][i]*n[i]}return r};f.projectVertex=function(e){for(var t=[],n=0;n<4;++n)t[n]=e[n]/e[3];return t};f.inverse=function(e){var t=e[0][0]*e[1][1]-e[1][0]*e[0][1],n=e[0][0]*e[1][2]-e[1][0]*e[0][2],r=e[0][0]*e[1][3]-e[1][0]*e[0][3],a=e[0][1]*e[1][2]-e[1][1]*e[0][2],i=e[0][1]*e[1][3]-e[1][1]*e[0][3],s=e[0][2]*e[1][3]-e[1][2]*e[0][3],h=e[2][2]*e[3][3]-e[3][2]*e[2][3],u=e[2][1]*e[3][3]-e[3][1]*e[2][3],d=e[2][1]*e[3][2]-e[3][1]*e[2][2],p=e[2][0]*e[3][3]-e[3][0]*e[2][3],g=e[2][0]*e[3][2]-e[3][0]*e[2][2],y=e[2][0]*e[3][1]-e[3][0]*e[2][1],c=1/(t*h-n*u+r*d+a*p-i*g+s*y);if(isNaN(c)||c===1/0)throw new Error("Inverse determinant attempted to divide by zero.");return[[(e[1][1]*h-e[1][2]*u+e[1][3]*d)*c,(-e[0][1]*h+e[0][2]*u-e[0][3]*d)*c,(e[3][1]*s-e[3][2]*i+e[3][3]*a)*c,(-e[2][1]*s+e[2][2]*i-e[2][3]*a)*c],[(-e[1][0]*h+e[1][2]*p-e[1][3]*g)*c,(e[0][0]*h-e[0][2]*p+e[0][3]*g)*c,(-e[3][0]*s+e[3][2]*r-e[3][3]*n)*c,(e[2][0]*s-e[2][2]*r+e[2][3]*n)*c],[(e[1][0]*u-e[1][1]*p+e[1][3]*y)*c,(-e[0][0]*u+e[0][1]*p-e[0][3]*y)*c,(e[3][0]*i-e[3][1]*r+e[3][3]*t)*c,(-e[2][0]*i+e[2][1]*r-e[2][3]*t)*c],[(-e[1][0]*d+e[1][1]*g-e[1][2]*y)*c,(e[0][0]*d-e[0][1]*g+e[0][2]*y)*c,(-e[3][0]*a+e[3][1]*n-e[3][2]*t)*c,(e[2][0]*a-e[2][1]*n+e[2][2]*t)*c]]};var ee=class extends T{constructor(t){var n=t.target instanceof Element?t.target:document.getElementById(t.target);window.getComputedStyle(n).position!=="absolute"&&(n.style.position="relative"),n.style.overflow="hidden";var r=o.create("DIV",{className:"ol-perspective-map",parent:n}),a={};Object.assign(a,t),a.target=r,super(a),this._tiltCondition=t.tiltCondition||A}getPixelRatio(){return window.devicePixelRatio}setPerspective(t,n){n=n||{},t>30?t=30:t<0&&(t=0);var r=this._angle||0,a=Math.round(t*10)/10,i=this.getTarget().querySelector(".ol-layers").style;cancelAnimationFrame(this._animatedPerspective),requestAnimationFrame((function(s){this._animatePerpective(s,s,i,r,a,n.duration,n.easing||V)}).bind(this))}_animatePerpective(t,n,r,a,i,s,h){var u,d;s===0?(u=1,d=!0):(u=(n-t)/(s||500),d=u>=1),u=h(u);var p;d?p=this._angle=i:p=this._angle=a+(i-a)*u;var g=p/30;r.transform="translateY(-"+17*g+"%) perspective(200px) rotateX("+p+"deg) scaleY("+(1-g/2)+")",this.getMatrix3D(!0),this.render(),d||requestAnimationFrame((function(y){this._animatePerpective(t,y,r,a,i,s||500,h||V)}).bind(this)),this.dispatchEvent({type:"change:perspective",angle:p,animating:!d})}handleMapBrowserEvent(t){if(t.pixel=[t.originalEvent.offsetX/this.getPixelRatio(),t.originalEvent.offsetY/this.getPixelRatio()],t.coordinate=this.getCoordinateFromPixel(t.pixel),T.prototype.handleMapBrowserEvent.call(this,t),this._tiltCondition(t))switch(t.type){case"pointerdown":{this._dragging=t.originalEvent.offsetY;break}case"pointerup":{this._dragging=!1;break}case"pointerdrag":{if(this._dragging!==!1){var n=t.originalEvent.offsetY>this._dragging?.5:-.5;n&&this.setPerspective((this._angle||0)+n,{duration:0}),this._dragging=t.originalEvent.offsetY}break}}else this._dragging=!1}getMatrix3D(t){if(t){var n=this.getTarget().querySelector(".ol-layers"),r=f.getTransform(n),a=f.getTransformOrigin(n);this._matrixTransform=f.computeTransformMatrix(r,a)}return this._matrixTransform||(this._matrixTransform=f.identity()),this._matrixTransform}getPixelScreenFromCoordinate(t){var n=this.getPixelFromCoordinate(t),r=this.getMatrix3D(),a=f.transformVertex(r,n);return a=f.projectVertex(a),[a[0],a[1]]}getPixelFromPixelScreen(t){var n=f.inverse(this.getMatrix3D()),r=f.transformVertex(n,t);return r=f.projectVertex(r),[r[0],r[1]]}};(function(){var e=S.prototype.updatePixelPosition;S.prototype.updatePixelPosition=function(){var t=this.getMap();if(t&&t instanceof ee){var n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}var r=t.getPixelScreenFromCoordinate(n),a=t.getSize();r[0]-=a[0]/4,r[1]-=a[1]/4,this.updateRenderedPosition(r,a)}else e.call(this)}})();const te={props:{},setup(e,{emit:t}){let n;return I(async()=>{const r=["#261F03","#F49AAF","#A9C4F6","#A5A751","#9C7B37","#ABD172","#6FB7B7","#117800"],a=new W({source:new U({url:"https://gis.edtest.site/ogc/temp?VERSION=1.3.0&SERVICE=WFS&REQUEST=GetFeature&OUTPUTFORMAT=application/json&TYPENAME=新竹縣原住民部落範圍&STYLE=default",format:new $,strategy:X}),style:function(m){var x=m.id_.split("."),E=x[x.length-1];return new N({fill:new O({color:r[E]!==void 0?r[E]:"#FF0000"})})}}),i=new q({source:new z});n=new T({layers:[i,a],target:"map",view:new G({projection:"EPSG:4326",center:[121.326776,24.655499],zoom:12})});let s=null;const h=new N({fill:new O({color:"#eeeeee"}),stroke:new J({color:"rgba(255, 255, 255, 0.7)",width:2})});function u(m){const x=m.get("COLOR")||"#eeeeee";return h.getFill().setColor(x),h}const d=new _({style:u}),p=new _({condition:D,style:u}),g=new _({condition:Q,style:u}),y=new _({style:u,condition:function(m){return D(m)&&A(m)}}),c=document.getElementById("type"),b=function(){s!==null&&n.removeInteraction(s);const m=c.value;m=="singleclick"?s=d:m=="click"?s=p:m=="pointermove"?s=g:m=="altclick"?s=y:s=null,s!==null&&(n.addInteraction(s),s.on("select",function(x){document.getElementById("status").innerHTML="&nbsp;"+x.target.getFeatures().getLength()+" selected features (last operation selected "+x.selected.length+" and deselected "+x.deselected.length+" features)"}))};c.onchange=b,b()}),{map:n}}},ne=Y('<div id="map" class="map" data-v-4e0370e5></div><form data-v-4e0370e5><label for="type" data-v-4e0370e5>Action type  </label><select id="type" data-v-4e0370e5><option value="click" selected data-v-4e0370e5>Click</option><option value="singleclick" data-v-4e0370e5>Single-click</option><option value="pointermove" data-v-4e0370e5>Hover</option><option value="altclick" data-v-4e0370e5>Alt+Click</option><option value="none" data-v-4e0370e5>None</option></select><span id="status" data-v-4e0370e5> 0 selected features</span></form>',2),re=[ne];function ae(e,t,n,r,a,i){return B(),R("div",null,re)}const de=F(te,[["render",ae],["__scopeId","data-v-4e0370e5"]]);export{de as default};
//# sourceMappingURL=Wes-3b5b3133.js.map
