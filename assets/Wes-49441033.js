import{_ as L,r as f,g as m,c as v,b as c,$ as h,o as x,p as S,e as I}from"./index-935bfac6.js";import{bX as d,bY as b,bO as E,bP as j,bQ as C,bR as D,c5 as G}from"./proj4-b8e75807.js";d.defs("EPSG:3826","+proj=tmerc +lat_0=0 +lon_0=121 +k=0.9999 +x_0=250000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs");d.defs("ESRI:54032","+proj=aeqd +lat_0=52.346900 +lon_0=19.092600 +x_0=800 +y_0=800 +ellps=sphere +datum=WGS84 +units=m +no_defs");b(d);const k={props:{},setup(t,{emit:a}){const o=f({layerDataList:[]});let e;m(async()=>{console.log(1),e=new E({target:"imgMap",layers:[new j({source:new C})],view:new D({center:[120.971859,24.801583],zoom:10,projection:"EPSG:4326"})})});function l(){return h.ajax({url:"https://api.edtest.site/layers",method:"GET"}).done(i=>{o.layerDataList=i})}function p(){var _,u;let i=new Image({source:new G({url:o.layerDataList[14].tiles_url,imageExtent:(u=(_=o.layerDataList[14])==null?void 0:_.image_options)==null?void 0:u.image_extent,projection:"EPSG:3857",imageLoadFunction:function(g,y){var s=new Image;s.onload=function(){var n=document.createElement("canvas");n.width=s.width,n.height=s.height;var w=n.getContext("2d");w.drawImage(s,0,0),g.getImage().src=n.toDataURL("image/png")},s.src=y}})});e.addLayer(i)}function r(){console.log(e.getLayers().getArray())}return m(async()=>{await l()}),{state:o,map:e,adLayer:p,showCurrentLayer:r}}},M=t=>(S("data-v-d6c46621"),t=t(),I(),t),$=M(()=>c("div",{id:"imgMap"},null,-1));function P(t,a,o,e,l,p){return x(),v("div",null,[$,c("button",{onClick:a[0]||(a[0]=r=>e.adLayer())},"adLayer"),c("button",{onClick:a[1]||(a[1]=r=>e.showCurrentLayer())},"showCurrentLayer")])}const W=L(k,[["render",P],["__scopeId","data-v-d6c46621"]]);export{W as default};
//# sourceMappingURL=Wes-49441033.js.map
