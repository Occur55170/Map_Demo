{"version":3,"file":"Wes-d81373c5.js","sources":["../../src/view/Wes.vue"],"sourcesContent":["<script setup>\r\nimport { useSlots, onBeforeMount, onMounted, onBeforeUnmount, ref, reactive, computed, watch, nextTick, defineAsyncComponent, useCssModule, inject, getCurrentInstance } from 'vue'\r\nimport $ from 'jquery'\r\n\r\nimport 'ol/ol.css'\r\nimport Map from 'ol/Map'\r\nimport OSM from 'ol/source/OSM'\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport View from 'ol/View'\r\n\r\nimport XYZ from 'ol/source/XYZ'\r\n\r\n// imagery\r\n// let newTileLayer = baseMaps.sourceFun(value.layerName)\r\n// targetLayers.extend([newTileLayer])\r\n\r\nimport mapLayerList from '@/config/mapLayerList'\r\nimport baseMapList from '@/config/baseMapList'\r\n\r\nimport OLCesium from 'olcs/OLCesium.js';\r\nonMounted(() => {\r\n    // 在元素加载完之后再执行地图初始化\r\n    // initMap()\r\n    const key = 'Gu2rcfenfMEKjKXgPF6H'\r\n    const baseMaps = baseMapList\r\n    let newTileLayer = baseMaps.sourceFun('imagery')\r\n    var olmap = new Map({\r\n        name: 'default',\r\n        target: 'cesiumContainer',\r\n        // layers: [\r\n        //     // new TileLayer({\r\n        //     //     source: new OSM(),\r\n        //     // }),\r\n        //     new XYZ({\r\n        //         url: 'https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key=' + 'Gu2rcfenfMEKjKXgPF6H',\r\n        //         crossOrigin: 'anonymous'\r\n        //     }),\r\n        // ],\r\n        layers: [newTileLayer],\r\n        view: new View({\r\n            projection: 'EPSG:4326',\r\n            center: [120.971859, 24.801583],\r\n            zoom: 14\r\n        })\r\n    })\r\n    // let newTileLayer = baseMaps.sourceFun(value.layerName)\r\n\r\n    const ol3d = new OLCesium({\r\n        map: olmap,\r\n    })\r\n    ol3d.setEnabled(true);\r\n    // 创建 Cesium 的场景对象\r\n    var scene = ol3d.getCesiumScene();\r\n\r\n    // 添加 Cesium 的地形提供者\r\n    let accessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI0NzM3MWFhYS0xMjNlLTQ3MTMtODFjZS0xZjMzM2I5NGZiYTEiLCJpZCI6MTMwODE4LCJpYXQiOjE2ODQwNzM3Mjl9.UYu4kBialPo19dcvosHzZTpg2BD1zkFQnjCD78YiiYo'\r\n\r\n    Cesium.Ion.defaultAccessToken = accessToken\r\n    scene.terrainProvider = Cesium.createWorldTerrain({\r\n        // accessToken: accessToken,\r\n        // requestWaterNask: true,\r\n        // requestVertexNormals: true\r\n    });\r\n})\r\n</script>\r\n<template>\r\n    <div id=\"cesiumContainer\" class=\"cesiumContainer\"></div>\r\n</template>\r\n\r\n<style>\r\n.cesiumContainer {\r\n    width: 100%;\r\n    height: 100vh;\r\n}\r\n</style>"],"names":["onMounted","newTileLayer","baseMapList","olmap","Map","View","ol3d","OLCesium","scene","accessToken"],"mappings":"sMAoBA,OAAAA,EAAA,IAAA,CAKA,IAAAC,EADAC,EACA,UAAA,SAAA,EACA,IAAAC,EAAA,IAAAC,EAAA,CACA,KAAA,UACA,OAAA,kBAUA,OAAA,CAAAH,CAAA,EACA,KAAA,IAAAI,EAAA,CACA,WAAA,YACA,OAAA,CAAA,WAAA,SAAA,EACA,KAAA,EACA,CAAA,CACA,CAAA,EAGA,MAAAC,EAAA,IAAAC,EAAA,CACA,IAAAJ,CACA,CAAA,EACAG,EAAA,WAAA,EAAA,EAEA,IAAAE,EAAAF,EAAA,iBAGA,IAAAG,EAAA,wLAEA,OAAA,IAAA,mBAAAA,EACAD,EAAA,gBAAA,OAAA,mBAAA,CAIA,CAAA,CACA,CAAA"}